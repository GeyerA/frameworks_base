commit 9799a215126e8f1f5193bd8ff54f3fb66c6b07f3
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Nov 21 16:42:03 2013 -0800

    Stop wifi display discovery when no longer needed.
    
    Keep track of how many clients are requesting scans and scan
    continuously until all of them are gone then explicitly terminate the
    scan instead of letting it time out as before.
    
    Suspend wifi display scans while connecting or connected to a remote
    display.  This is handled by both the display manager and media router
    since neither has complete information about what is happening.
    Much of this code will no longer be needed once wifi display support
    is integrated directly into the media router service.
    
    Ensure that we don't attempt to scan or connect to wifi displays
    while the wifi display feature is off.
    
    Infer when a connection attempt fails and unselect the wifi display
    route automatically so it doesn't appear to be connecting forever.
    
    Fix issues around correctly canceling and retrying connection attempts.
    Often we would cancel but not retry.
    
    Improved connection reliability somewhat.  It seems that discovery must
    already be in progress in order for a connection attempt to succeed.
    
    Ensure QuickSettings uses exactly the same logic as the MediaRouteButton
    to determine when the remote display tile should be made visible.
    
    Bug: 11717053
    Change-Id: I18afc977b0e8c26204b8c96adaa79f05225f7b6e
    
    Conflicts:
    	services/java/com/android/server/display/WifiDisplayController.java

commit 6679010678be69925e28041f47dd815d12cea27a
Author: Chong Zhang <chz@google.com>
Date:   Tue Nov 19 19:13:22 2013 -0800

    Only scan for wifi display when there is no active connections
    
    Bug: 11717053
    Change-Id: I4ab73f6517fbfb8fcc131b89d0e934380dcf69e0

commit c66436ad5d7a11a0e7d171ab99fe1ee5606240e2
Author: Harout Hedeshian <harouth@codeaurora.org>
Date:   Fri Nov 1 11:59:45 2013 -0600

    base: Fix for wifi tethering crash
    
    Pass network info along with CMD_UPSTREAM_CHANGED
    Added a NULL check for Network info in CMD_UPSTREAM_CHANGED
    
    CRs-fixed: 562910
    Change-Id: I98bd37205255d9d4025cfb95b0688c68bce3c9bd

commit 6402c7d980c55a7d42f4f2cab8e6aca77bcff8b8
Author: Jeykumar Sankaran <jsanka@codeaurora.org>
Date:   Tue Jun 11 14:47:30 2013 -0700

    frameworks/base: Use ExtendedRemoteDisplay to launch Wifi Display
    
    - RemoteDisplay class is used to launch WiFi Display
      implementation in the Android framework with a discovered peer.
      There is a need to support proprietary implementation of wifi
      display instead of the framework implementation.
    
    - To enable this support, ExtendedRemoteDisplay is added,
      which launches the proprietary solution. ExtendedRemoteDisplay object
      is created if the class is available in the package. If the class is
      not available the default implementation will be used by creating
      RemoteDisplay.
    
    Change-Id: I2e2a5e552bc86888848c0402bafd873620b05c21
    (cherry picked from commit 912d47682c5ec65ff0aaa0a59cc5d28110482392)
    (cherry picked from commit a9c91658d40a38f4f6e204a33d9bc70bcf97ede3)

commit 5725deb7e88d689927583d7b6524fb140cd7e0ac
Author: Nalli Subramanyam <nalli@qti.qualcomm.com>
Date:   Fri Dec 27 21:13:16 2013 -0800

    Wifi: wifi not connecting, once the APN gets disabled state
    
    APNs are disabled on select network and they are enabled on
    receiving connected event. But forgetting an APN before the
    connected event is received,will result all the remaining APN
    to be in disabled state and they never connect.
    So, Enabling all the disabled APN on forget network will help
    to connect automatically to a saved APN.
    
    Change-Id: I0aec08f118c3f33fceea60f5a6b44622717d93ed
    CRs-fixed: 567655

commit 90529bebbbb6d58832ab0344512ba6b05bc16d16
Author: Vinay Krishna Eranna <veran@codeaurora.org>
Date:   Mon Jan 6 12:17:13 2014 +0530

    wlan: Do not disable the network on Assoc Reject/Authentication Failure.
    
    A failed network, if disabled, would result in no further connection
    attempts for the same.Thus, do not disable the network rather enable
    all the disabled networks, as supplicant shall disable the networks
    temporarily on subsequent failures and would give fair chance to
    select the prioritized networks.
    
    Change-Id: I27bfdfed420e935c1bc21fb968d6a5ba75ca92aa
    CRs-fixed: 582883

commit f373f1785bda60cf2e797c0e648bf8cf407c4a73
Author: Andrew Dodd <atd7@cornell.edu>
Date:   Wed Sep 12 21:57:51 2012 -0400

    wifi: Allow Settings to retrieve country code (1/2)
    
    This makes getCountryCode behave like getFrequencyBand
    
    This allows Settings to get/set country code like
    it can for frequency band.
    
    Ported from cm-10.2, adjusted for 4.4
    Settings part: http://review.cyanogenmod.org/54904
    
    Change-Id: Id9f00d3a678642c6c142fd1511af820d729507a7

commit 3faa72da386ce76ca83e770009a5a32b742522ee
Author: Bruno Randolf <br1@einfach.org>
Date:   Fri Mar 22 17:12:17 2013 +0000

    Wifi: Get the list of supported channels
    
    Get the list of supported channels/frequencies from wpa_supplicant and provide
    them thru WifiManager.getSupportedChannels();
    
    One channel is represented thru the class WifiChannel which includes channel
    number, frequency in MHz and a flag if IBSS mode is allowed on this channel.
    
    Like isIbssSupported() we can only expect a result after WIFI_STATE_ENABLED has
    been reached.
    
    Change-Id: I9fc34642b9a0047f6871b180a3a7a69d47b7e2ff

commit 2f91af0da59314fde1b8f2ee70ee5222acbe8a14
Author: Bruno Randolf <br1@einfach.org>
Date:   Thu Feb 28 23:19:28 2013 +0000

    Wifi: Add IBSS supported method
    
    Add method isIbssSupported() to WifiManager and related classes to query wether
    the driver supports IBSS mode. The query is answered by wpa_supplicants new
    command "get_capability modes".
    
    It will only return a correct result after WIFI_STATE_ENABLED has been
    reached.
    
    Change-Id: I93aa2fdff94cd897c91ec3beb7e58940d1de7b72
    
    Conflicts:
    	services/java/com/android/server/wifi/WifiService.java
    	wifi/java/android/net/wifi/IWifiManager.aidl
    	wifi/java/android/net/wifi/WifiManager.java
    	wifi/java/android/net/wifi/WifiNative.java
    	wifi/java/android/net/wifi/WifiStateMachine.java

commit 8dc5ed05f8bac29ad6976d24323452d8c47a75cc
Author: Mahesh A Saptasagar <msapta@codeaurora.org>
Date:   Fri Dec 27 23:17:22 2013 -0800

    qcom cam/audio
    
    Summary:
    Add support for ICS camera blobs
    
    Change-Id: Icf9010f4b6059405275107fadd5aac81cd294182
    
    wifi: Set the mode at native layer
    
     * Set normal/AP mode so that the HAL can specify correct module
       arguments when loading the driver.
    
    Change-Id: I6eee2cc53b5f1e70306e252e52c909833f220515
    
    Allow purging of asset bitmaps
    
    It seems that neither CM9 nor CM10.x includes the actual framework-side
    code to facilitate user-controllable bitmap purging. Odd, since the
    CyanogenMod Settings app in both CM9/CM10.x includes the option.
    
    Backported from original Gingerbread commit:
    http://review.cyanogenmod.org/#/c/3908
    
    Original description:
    
    Allow the system to reclaim more free RAM when needed on 'low' memory devices
    (e.g. Droid/Milestone) that are struggling with 2.3. This option enabled
    efectively restores the froyo way of forcePurgeable BitmapFactory asset
    handling.
    
    Change-Id: I6a3b8a05b7be9c214a8548d6c6d1621e6533a1e0
    
    camera: Add support for sending raw commands
    
     * Certain camera drivers need magic commands to select special modes
       such as ZSL or HDR. Add support for sending raw commands from
       applications.
    
    Change-Id: I512a765c7a67ffd2877e465cf6493ffc2b3b54ac
    
    FileUtils: add method to get UUID of a volume
    
    Change-Id: I41b76c5e01c82a2f8e67b33133a76947877a2814
    
    android_os_FileUtils_getVolumeUUID: Fix the incorrect logical for call blkid_get_tag_value.     There are two problems in here.   1. For the function blkid_get_tag_value third parameter is should be the device, not the mount pointer, in the...
    
    ...MediaPrivader.attachVolume, it will pass the mount path to call this function.   2. The UUID for device is hex, so call atoi is not right. I think call strtol is better than atoi.
    
    Change-Id: I76598a0993f08add3e9c7541cbc082d8d85e9af4
    
    Camera: Add support for QC camera features.
    
    Added APIs and keys for all QC features. This
    will enable application to get/set paramters.
    
    Change-Id: I58a53c7b9133a3acddc34b268dac086c9562d533
    
    frameworks/base: Fix to remove exception in tonegenerator
    
    - Framework reboot happens, if tonegenerator fails to create
      a track in audioflinger.
    - The cause for framework reboot is, an exception thrown by
      tonegenerator if fails to init.
    - Fix is to remove the exception and delete the tonegenerator
      instance.
    CRs-fixed:466491
    
    Change-Id: Ie7b87f787d8a885cc70be9af4ba9d04ecd691cc2
    
    frameworks/base: Add changes for Incall Music Delivery
    
    - Add Flag and Stream type required for incall music delivery.
    - Add Tone types for ToneGenerator
    
    Change-Id: Ic05cd1af1172dda3c527af826c6e9a48d6ae20d5
    
    Camera: Adds support for meta data callbacks
    
    - This change adds a new type of callback
      that will be called when there are pending
      meta data notifications.
    
    Change-Id: I84f5cbafe4f023c7b0efa9ec8620756b0eaa428d
    
    Camera: Add support for QC camera features.
    
    Added APIs and keys for all QC features. This
    will enable application to get/set paramters.
    (cherrypicked from commit d0c5a0ee7e9af41320fed00ff324c6d0f22eb697)
    Change-Id: I68c23aaf7267645efeb4d4743b390a048292b7fd
    (cherry picked from commit ad2fd19b7ed6a610cab4bd3ae261178bcafa66af)
    (cherry picked from commit cfcebdf9c402bb5f1976f07ba5dc1e15f5811fc2)
    (cherry picked from commit 4ef4a5e937b2ec7355c5893c80dbc103d163364d)
    
    audio: add support for MSM audio formats
    
    - Add support for EVRC, QCELP, and WMA formats
    - Add definition for 5.1 channel recording
    - Reference change If3676b88fa287b484ef8616c0a6b67177b61a720
    
    Change-Id: I6b6e5ca98921adeadd2a3d76580fe85fb28eeaf0
    (cherry picked from commit 10c4f204bb5ac78b9cf3854b536663ccd3d50333)
    (cherry picked from commit 3f99cc5f134b0f00a52218ae1c0273cc11ae7702)
    (cherry picked from commit 1d35b52c7c9cf1cfd3a3de372391a7a57f593af9)
    
    audio: audio enhancements for playback and recording.
    
    - Add playback and record support for EVRC, QCELP,
      WMA, AMRWBPLUS, WAV, ACE, and EC3.
    - Add support for 5.1 channel recording.
    - Add support for in call music.
    - Add constants for call_state and vsid.
    - Add definition for FM and proxy audio devices.
    - Remove unnecessary format checks in frameworks.
    
    Change-Id: If3676b88fa287b484ef8616c0a6b67177b61a720
    (cherry picked from commit 6ca6cc15af88992ea485a458e67a8546b156672e)
    (cherry picked from commit f65028d1752969bf43c853c1bb12ecd12055d5e8)
    (cherry picked from commit b1952442db41188b74f331bd2397a579424821ab)
    
    audio: Support for MSM audio formats
    
      -Add audio format support for Voip.
    
    Change-Id: Ie045ba926b3e1266afd3fb6fba09af3a55daaeef
    (cherry picked from commit d1810964ecd2d50064a1fed51049ddc354b9a788)
    (cherry picked from commit cd9c6dc56bedcabca77c2a01c6fb15f4d2e8edd5)
    (cherry picked from commit 01c09aeae38716860ef1a806985cc946dca93f60)
    
    audio: Add ifdefs for QCOM_HARDWARE audio features
    
    Change-Id: I0ea423f9a28934dc1fee73bbb53c0d9d867877ff
    
    ActivityTrigger:  New class to invoke when activity starts/resumes
    
    Change-Id: I46fa419e7b97953ba5581ee03127f0e3f93e48f0
    (cherry picked from commit 71a57d30370584488a246a904750e7bdad5ba9a0)
    (cherry picked from commit 5d2abff8e4d399e6bd320ea11bf672ad3b3be980)
    (cherry picked from commit ffd89bcf976985acf0392c0dd667f8b5241d77ac)
    
    frameworks/base: update perflock path name in Activity Trigger
    
    Update the perflock path name and add
    backup path for backward compatibility
    
    Change-Id: I3d2c6f6fe1b3c63ec02827d06d5af667266db8d5
    (cherry picked from commit 4db57e5021c4091352f40f6e4399b0b929f63151)
    (cherry picked from commit b9fc7b99697a1b2f891dc642ff27c8a4194ca79d)
    (cherry picked from commit 5910b639f0dea078049e31718e00bede2eb2ec00)
    
    frameworks/base: update library path name in Activity Trigger
    
    Change path from /system/lib to /vendor/lib
    since it is no longer needed.
    
    Change-Id: I5fa7a367b21d4128c92ab7190944c176a1f4dae6
    (cherry picked from commit 7abea046455c1c8fc99126ae6cf9a6d4823ca50f)
    (cherry picked from commit 5aadc3f081bef5b26b13e0bb4955354e3be0bcd7)
    (cherry picked from commit 133db12892589a21865a900c3709073ed86eaf8a)
    
    Register the ActivityTrigger on all QCOM devices
    
    Change-Id: Iaecb5dd82be64fea5a625cc42243203d0f2f2ce9
    
    frameworks/base: vectorize Bitmap operations
    
    Enable gcc vectorizing optimizations for Bitmap operations within
    libandroid_runtime.so.  Adds -ftree-vectorize -mvectorize-with-neon-quad
    -fprefetch-loop-arrays to functions and compiles Bitmap.cpp in ARM mode
    (necessary to enable vectorizing optimizations) for appropriate targets.
    
    Change-Id: If52a789b6f592b137e64e85077665c9ce5957f79
    
    Add support for QC's time_daemon
    
    Enabled by BOARD_USES_QC_TIME_SERVICES=true, it requires the device
    to provide its own time_daemon executable and libtime_genoff.so
    proprietaries. The library should be copied by the device's setup
    config to $OUT/obj/lib for linkage (and pushed to the final build,
    obviously)
    
    Change-Id: Ie6964dbe2692dc33fc04093a5b89b6922d8443c8
    
    Put FileUtils back into android_runtime
    
    We still use it for non-fat volume management
    
    Change-Id: I42efeb83b8f12e7734e4bf03326526cc220d022a
    
    libaudioeffect_jni: GREF leak fix for JB
    
    - Excessive JNI global reference in AudioEffects.
    - Global references created during native setup
      are not deleted.
    - Global references are deleted in setup failure
      and during native release.
    
    (cherry picked from commit a04a2bf4563dc20c52f4d4239e01f80b220077a5)
    CRs-fixed: 413633
    
    Change-Id: Ia4340a2128850101b394e00c8e1db9db49f516fd
    
    video: Add support for extended media listener
    
    Added changes to handle additional message types for
    dash playback.
    
    Change-Id: Id07828866de8cae44137f26c1e74417aaa45704f
    
    ifeq QCOM: video: Add support for extended media listener
    
    Bulid fails with error: 'MEDIA_QOE' was not declared in
    this scope on other targets
    Change-Id: Ic83be8f1acc4188b81fb903911023b39c614775b
    
    hwui: Don't discard framebuffer on exynos4
    
    The layers gets empty/not cleaned and redrawn on top of the preview,
    causing beautiful glitch on homescreen, and drawing black instead
    of transparency.
    
    Change-Id: I633b104224c73c625f1193ee3dde41823cddc5bf
    
    Remove opaque check in preparing dirty region
    
    Since preserve swap is enabled, we need to clear the color buffer
    when the scissor rect is prepared for a new process. This prevents
    garbage being present from the previous process in the color buffer.
    
    CRs-Fixed: 549755
    
    Change-Id: Icd12ae388077b8c9ed329c37314e896500078543
    (cherry picked from commit 48b6a9767317e08a24e189c9cbee21043543682a)
    (cherry picked from commit 777610a5ddf19cebcad30b7e9a481e9dfe38b74c)
    
    Update the layer's alpha value upon composition of the layer
    
    Fixes: This patch makes sure that the layer's alpha value is
    up-to-date and does not reflect the previous view's alpha value.
    It fixes the square block on marquee fading edge when text view
    is applied transparency.
    
    CRs-Fixed: 562000
    
    Change-Id: I397308b739f5f4fe4b630cf594825f401c97e0e3
    
    Fix stencil buffer bug.
    
    Stencil test is enabled by setStencilFromClip(), but not disabled
    in some use case, which causes some of the pixels are discarded by
    mistake in draws followed. Disable stencil test when there is no
    dirty clip.
    
    CRs-Fixed: 539456
    
    Change-Id: I318fb47212e49e2da89bcbfd161a1689ef91b02f
    
    hwui: Apply hwui qcom fixes to all adreno-bearing hardware
    
    Even if the device doesn't fully use the qcom stack, changes to
    libhwui are generally workarounds for adreno-specific issues and
    apply across the board without other dependencies
    
    Change-Id: I10455ebf09c1d00762b06e3c092398604bb39796
    
    frameworks/base: media: add support for DIVX files
    
    Change-Id: I6e922c5d6e17ee590606268af97b7894f35d19ae
    (cherry picked from commit 47fea00316203aebba194644f95ca58ef4ff4400)
    (cherry picked from commit 1f3ab64cf5bb19ec2e8a996750f44389d4d07187)
    (cherry picked from commit 066dff510ec44ee06c3a375e32133e21fbedf9fb)
    
    fix merge fail
    
    Test Plan: use in conjunction with a new manifest branch, kk-devel-tele
    
    Reviewers: synergy, anders3408, randall.rushing, raymanfx, donald.munn
    
    CC:
    
    Differential Revision: http://review.codefirex.com/D209

commit 6e2d0c1d91f644ab50e0c0b7cae4306262a4ca41
Merge: dcbde1b 2a69b17
Author: Ying Wang <wangying@android.com>
Date:   Thu Dec 5 19:13:20 2013 +0000

    Merge "wifi: Remove obsolete libwpa_client library"

commit 2a69b17309d141375474d68879e5695305b17a3f
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Nov 22 15:50:23 2013 -0800

    wifi: Remove obsolete libwpa_client library
    
    Change-Id: I222c60ec65375768dc62f9219d115b5b09a374f6
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit feef9887e8f8eb6f64fc1b4552c02efb5755cdc1
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Nov 21 16:42:03 2013 -0800

    Stop wifi display discovery when no longer needed.
    
    Keep track of how many clients are requesting scans and scan
    continuously until all of them are gone then explicitly terminate the
    scan instead of letting it time out as before.
    
    Suspend wifi display scans while connecting or connected to a remote
    display.  This is handled by both the display manager and media router
    since neither has complete information about what is happening.
    Much of this code will no longer be needed once wifi display support
    is integrated directly into the media router service.
    
    Ensure that we don't attempt to scan or connect to wifi displays
    while the wifi display feature is off.
    
    Infer when a connection attempt fails and unselect the wifi display
    route automatically so it doesn't appear to be connecting forever.
    
    Fix issues around correctly canceling and retrying connection attempts.
    Often we would cancel but not retry.
    
    Improved connection reliability somewhat.  It seems that discovery must
    already be in progress in order for a connection attempt to succeed.
    
    Ensure QuickSettings uses exactly the same logic as the MediaRouteButton
    to determine when the remote display tile should be made visible.
    
    Bug: 11717053
    Change-Id: I18afc977b0e8c26204b8c96adaa79f05225f7b6e

commit ecfae4f899873f224e1aeed076dc8a41f8884487
Merge: 90192a6 a4c8fab
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu Nov 21 18:02:00 2013 -0800

    am a4c8fabf: Merge "fix ethernet and wifi can\'t be tuned seperately issue"
    
    * commit 'a4c8fabfbb0bf5bf9da5267c13230c5169b5943d':
      fix ethernet and wifi can't be tuned seperately issue

commit a4c8fabfbb0bf5bf9da5267c13230c5169b5943d
Merge: 0495f4e a363a10
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Nov 22 01:57:04 2013 +0000

    Merge "fix ethernet and wifi can't be tuned seperately issue"

commit 6f46672fdd252fb4e9bb5f6bbac0d5cf703cfabd
Author: Chong Zhang <chz@google.com>
Date:   Tue Nov 19 19:13:22 2013 -0800

    Only scan for wifi display when there is no active connections
    
    Bug: 11717053
    Change-Id: I4ab73f6517fbfb8fcc131b89d0e934380dcf69e0

commit a363a10ca2c58cdce83ee2bade97626d256b124d
Author: Jianzheng Zhou <jianzheng.zhou@freescale.com>
Date:   Fri Nov 15 13:32:23 2013 +0800

    fix ethernet and wifi can't be tuned seperately issue
    
    ethernet especially Gigabit enet use the same tune data with wifi
    won't reach best performance.
    
    Change-Id: Iac50ba47904c76ff7b5b8ad226e83451359ec534
    Signed-off-by: Jianzheng Zhou <jianzheng.zhou@freescale.com>

commit e7ae644522f692c204d0233f91e77c7841bdfe53
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Nov 13 00:45:18 2013 -0800

    Finalize assets for screen casting.
    
    Extend wifi display connection timeout.
    
    Show a notification while connecting to wifi display.
    
    Ensure that remote display providers are really trusted before
    connecting to them.
    
    Bug: 11257292
    Change-Id: Iad0caaa30d7946df818bc75ade071f2e377f8a53

commit 75af171006ee80aaf7cfb56ded1378afe0084cca
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Nov 10 18:54:03 2013 -0800

    Changes to support new screen cast settings screen.
    
    Fixed the Preference ordering code to consider the case where
    two preferences might have the same order.  In that case, it
    falls back on the title to disambiguate.  Previous behavior was
    undefined (and technically not stable).
    
    Expose the wifi display device address.
    
    Perform wifi display scans every 10 seconds instead of every 15
    to improve reponsiveness.
    
    Make sure to define routes for wifi displays that we are connecting
    to even if they are not yet paired.  Simplified the logic for
    adding and removing these routes to avoid possibly getting out
    of sync and leaving stale routes behind.
    
    Fix wifi display notification icon.
    
    Bug: 11257292
    Change-Id: I8ac15fb17d83758c0bdce80399e12723c367b83c

commit 6db169c24943b24614f0fb7273223c79b133add1
Merge: a741163 c9f6558
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 09:14:58 2013 -0700

    am c9f65589: am 38d097b6: am 92a80b18: am 9b827a7d: am ec555902: Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev
    
    * commit 'c9f65589a98ae348d2d31296bda4d739e8515335':
      Layoutlib: Update the wifi icon in the status bar.

commit c9f65589a98ae348d2d31296bda4d739e8515335
Merge: 4567ec0 38d097b
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 09:12:12 2013 -0700

    am 38d097b6: am 92a80b18: am 9b827a7d: am ec555902: Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev
    
    * commit '38d097b6d1102760cf25eee3d39cb687b8f7cf80':
      Layoutlib: Update the wifi icon in the status bar.

commit 38d097b6d1102760cf25eee3d39cb687b8f7cf80
Merge: ca429e0 92a80b1
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 09:09:16 2013 -0700

    am 92a80b18: am 9b827a7d: am ec555902: Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev
    
    * commit '92a80b1830082d109be4902c357424535305130d':
      Layoutlib: Update the wifi icon in the status bar.

commit 92a80b1830082d109be4902c357424535305130d
Merge: 9568ad3 9b827a7
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 09:06:42 2013 -0700

    am 9b827a7d: am ec555902: Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev
    
    * commit '9b827a7d6dcb8c60411a24e2c8970f3fc24f0380':
      Layoutlib: Update the wifi icon in the status bar.

commit 9b827a7d6dcb8c60411a24e2c8970f3fc24f0380
Merge: 94e5ada ec55590
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 09:03:34 2013 -0700

    am ec555902: Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev
    
    * commit 'ec555902169b9c64163abddf079a6a81f6fcafb4':
      Layoutlib: Update the wifi icon in the status bar.

commit ec555902169b9c64163abddf079a6a81f6fcafb4
Merge: 81f74f4 9cb5f5b
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Thu Oct 17 16:00:57 2013 +0000

    Merge "Layoutlib: Update the wifi icon in the status bar." into jb-mr2-dev

commit 6155bfb788a771362d76a0d7d1c0cff1d9170ebf
Merge: 7ce6090 e704c3c
Author: Ed Heyl <edheyl@google.com>
Date:   Wed Oct 16 18:01:53 2013 -0700

    am e704c3c9: am 41e6e50c: merge in klp-release (no-op)
    
    * commit 'e704c3c9ee6a9ed2b7fbf34a0fcf70b0062d0dfb': (27 commits)
      Fix dock rect calculation when nav is translucent.
      Fix registerListener and flush bugs.
      Guard against NPE when using existing process.
      Add missing locking when updating the accessibility node info cache.
      Fix issue #11113111: `dumpsys activity service` is broken
      Revert "Use a build-specific wifi country code"
      Fix CookieSyncManager for WebViewClassic
      Retain IME assignment if no windows accept input.
      KLP/KitKat is now API 19.
      Decouple construction of WebView, CookieSyncManager, WebViewDatabase
      Fix issue #10921903: CTS: android.os.cts.ParcelTest#testReadBundle...
      De-blue the add lock screen widget pressed state
      De-blue notification backgrounds
      Revert behavior to perform onResume.
      PackageManager#queryIntentServices breaks its contract.
      Choosing default paper size for the "Save to PDF" fake printer
      Adding hidden APIs for observing the print jobs state.
      Disallow range selection if the document has unknown page count.
      Missed signal in FusedPrintersLoader.
      Page range validation edge case handling.
      ...

commit e704c3c9ee6a9ed2b7fbf34a0fcf70b0062d0dfb
Merge: 5cff1d3 41e6e50
Author: Ed Heyl <edheyl@google.com>
Date:   Wed Oct 16 17:52:12 2013 -0700

    am 41e6e50c: merge in klp-release (no-op)
    
    * commit '41e6e50ce60b0f806c69f66e8e3362e3a6c422ad': (27 commits)
      Fix dock rect calculation when nav is translucent.
      Fix registerListener and flush bugs.
      Guard against NPE when using existing process.
      Add missing locking when updating the accessibility node info cache.
      Fix issue #11113111: `dumpsys activity service` is broken
      Revert "Use a build-specific wifi country code"
      Fix CookieSyncManager for WebViewClassic
      Retain IME assignment if no windows accept input.
      KLP/KitKat is now API 19.
      Decouple construction of WebView, CookieSyncManager, WebViewDatabase
      Fix issue #10921903: CTS: android.os.cts.ParcelTest#testReadBundle...
      De-blue the add lock screen widget pressed state
      De-blue notification backgrounds
      Revert behavior to perform onResume.
      PackageManager#queryIntentServices breaks its contract.
      Choosing default paper size for the "Save to PDF" fake printer
      Adding hidden APIs for observing the print jobs state.
      Disallow range selection if the document has unknown page count.
      Missed signal in FusedPrintersLoader.
      Page range validation edge case handling.
      ...

commit 9cb5f5b5233f2331748d108d71f4b685762f32a7
Author: Deepanshu Gupta <deepanshu@google.com>
Date:   Sat Oct 12 21:28:50 2013 -0700

    Layoutlib: Update the wifi icon in the status bar.
    
    Issue: https://code.google.com/p/android/issues/detail?id=60993
    
    Change-Id: Ia43ed40b42c79f67dcd5809b827d4fecbc823c25

commit 9a786c251dab96f06a0800b4bad55f3ab839e234
Merge: 193ad53 e8b92b6
Author: Adam Lesinski <adamlesinski@google.com>
Date:   Thu Oct 10 16:13:35 2013 -0700

    am e8b92b6b: am 6c906dc5: Merge "Fix SystemUI crash on devices with WiFi only" into klp-dev
    
    * commit 'e8b92b6bc32bbb0bcd34ffe2979771b4104bed67':
      Fix SystemUI crash on devices with WiFi only

commit e8b92b6bc32bbb0bcd34ffe2979771b4104bed67
Merge: 6b57033 6c906dc
Author: Adam Lesinski <adamlesinski@google.com>
Date:   Thu Oct 10 16:08:47 2013 -0700

    am 6c906dc5: Merge "Fix SystemUI crash on devices with WiFi only" into klp-dev
    
    * commit '6c906dc52d1f967a695462d6c83e33d2a4e3b0f2':
      Fix SystemUI crash on devices with WiFi only

commit 6c906dc52d1f967a695462d6c83e33d2a4e3b0f2
Merge: 8b81a63 c08ae44
Author: Adam Lesinski <adamlesinski@google.com>
Date:   Thu Oct 10 23:03:53 2013 +0000

    Merge "Fix SystemUI crash on devices with WiFi only" into klp-dev

commit c08ae4432cffbf0112e03a09c7ebcbb54cfd9bb1
Author: Adam Lesinski <adamlesinski@google.com>
Date:   Thu Oct 10 15:49:57 2013 -0700

    Fix SystemUI crash on devices with WiFi only
    
    A recent change to QuickSettings forgot to
    check whether the device has a radio or not.
    
    Change-Id: I0b89634b290e82a1702de7b2f539cef3efa6d246

commit d37638e5262fea65bf428cb78e73a9b4e02a93fe
Merge: 1bb6a7d 11a3bc7
Author: Yuhao Zheng <yuhaozheng@google.com>
Date:   Wed Oct 9 16:33:13 2013 -0700

    am 11a3bc70: am 709a4278: Merge "Don\'t mark wifi disabled unless it\'s off." into klp-dev
    
    * commit '11a3bc702b918e0feb251741e070c37b7a604f25':
      Don't mark wifi disabled unless it's off.

commit 11a3bc702b918e0feb251741e070c37b7a604f25
Merge: a8137c0 709a427
Author: Yuhao Zheng <yuhaozheng@google.com>
Date:   Wed Oct 9 16:30:22 2013 -0700

    am 709a4278: Merge "Don\'t mark wifi disabled unless it\'s off." into klp-dev
    
    * commit '709a42783bf05b2084e4c953a80f2442291829fd':
      Don't mark wifi disabled unless it's off.

commit 709a42783bf05b2084e4c953a80f2442291829fd
Merge: b1b2789 15af212
Author: Yuhao Zheng <yuhaozheng@google.com>
Date:   Wed Oct 9 23:26:50 2013 +0000

    Merge "Don't mark wifi disabled unless it's off." into klp-dev

commit 15af21252db3e45fd18c0db3b535bb8a632267ff
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Oct 8 17:43:33 2013 -0700

    Don't mark wifi disabled unless it's off.
    
    The transition from driver-started to scan-only state was incorrectly
    always marking wifi disabled, but transitioning back only marked it
    enabled if we were exiting due to leaving the scan-only-with-wifi-off
    mode.
    
    bug:11062188
    Change-Id: I44fe64fd8dac8f36f4e22cb1c16b9d7a06bdbac0

commit 72566b98dba80f21923cb6b299754d510951d611
Merge: 6394e1e 1c6fdd6
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Oct 4 13:34:22 2013 -0700

    am 1c6fdd6c: am cac2fd30: Merge "Revert "Use a build-specific wifi country code"" into klp-dev
    
    * commit '1c6fdd6c7b58b7f25d49fd26a29a03a478cc5937':
      Revert "Use a build-specific wifi country code"

commit a3c270bff122094fe55bb95b21677d1e4b21ee60
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu Oct 3 21:13:49 2013 +0000

    Revert "Use a build-specific wifi country code"
    
    This reverts commit c33cd23c17c24df33550a6662cedfe60b323604a.
    
    bug:11064682
    Change-Id: I35825a7005e75f3abf02f23f31dee1cb7b101c31

commit 1c6fdd6c7b58b7f25d49fd26a29a03a478cc5937
Merge: ba78a70 cac2fd3
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Oct 4 12:02:39 2013 -0700

    am cac2fd30: Merge "Revert "Use a build-specific wifi country code"" into klp-dev
    
    * commit 'cac2fd302e844a4a46bb1749a2d2ed4739b4dc53':
      Revert "Use a build-specific wifi country code"

commit cac2fd302e844a4a46bb1749a2d2ed4739b4dc53
Merge: 548622a 3ea0c99
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Oct 4 18:33:51 2013 +0000

    Merge "Revert "Use a build-specific wifi country code"" into klp-dev

commit e7329140c0ff846acf5bc8749f525b18880177ef
Merge: c9ed4e9 fe587db
Author: Wink Saville <wink@google.com>
Date:   Thu Oct 3 21:30:29 2013 -0700

    am fe587dba: am a48ccdd6: Merge "Use networkType to display  wifi and mobile notification separately." into klp-dev
    
    * commit 'fe587dba3a70c658140eac1b13996b7d8e6eeda2':
      Use networkType to display  wifi and mobile notification separately.

commit fe587dba3a70c658140eac1b13996b7d8e6eeda2
Merge: 78624d6 a48ccdd
Author: Wink Saville <wink@google.com>
Date:   Thu Oct 3 21:27:11 2013 -0700

    am a48ccdd6: Merge "Use networkType to display  wifi and mobile notification separately." into klp-dev
    
    * commit 'a48ccdd6fb671435ed2583830b2828450bfc3cde':
      Use networkType to display  wifi and mobile notification separately.

commit a48ccdd6fb671435ed2583830b2828450bfc3cde
Merge: 5eb2b0c 3ec8e7f
Author: Wink Saville <wink@google.com>
Date:   Fri Oct 4 00:52:59 2013 +0000

    Merge "Use networkType to display  wifi and mobile notification separately." into klp-dev

commit 3ea0c99b67407bb1612875762b037e50f013fd6d
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu Oct 3 21:13:49 2013 +0000

    Revert "Use a build-specific wifi country code"
    
    This reverts commit c33cd23c17c24df33550a6662cedfe60b323604a.
    
    bug:11064682
    Change-Id: I35825a7005e75f3abf02f23f31dee1cb7b101c31

commit 3ec8e7fb79f2e662c2b06cfec118a0eeaefd9370
Author: Wink Saville <wink@google.com>
Date:   Thu Oct 3 08:34:46 2013 -0700

    Use networkType to display  wifi and mobile notification separately.
    
    There are two bugs one is I was clearing the notification in
    CaptivePortalTracker when entering the ActivateState. (double check
    according to bug 5021626 we should be calling enter)
    
    Second is we could have the need to display both icons but can't
    because we only allow one.
    
    The solution I'm proposing here is to allow two notifications and
    have then controlled separately.
    
    Bug: 10886908
    Change-Id: I30e7130bc542535492d175640a4990c592f32806

commit 2b6b3d9c495d3c8332aad6515a1db06e8fde3848
Merge: 102f0e0 bad5d69
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Oct 1 05:26:34 2013 -0700

    am bad5d694: Merge "Use a build-specific wifi country code" into klp-dev
    
    * commit 'bad5d694c7d7ae27ca966d6da059f81c5d964748':
      Use a build-specific wifi country code

commit bad5d694c7d7ae27ca966d6da059f81c5d964748
Merge: 8b3bc51 c33cd23
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Sep 30 21:13:23 2013 +0000

    Merge "Use a build-specific wifi country code" into klp-dev

commit c33cd23c17c24df33550a6662cedfe60b323604a
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Sep 27 14:58:43 2013 -0700

    Use a build-specific wifi country code
    
    This ignores any previous setting and instead uses
    a value set at build time.  This does not preclude
    us from using some other signal to determine country
    for wifi channel limits.
    
    bug:10513734
    Change-Id: Ib82c07285af70fbd82eb0466b7391979ebc8be10

commit f4af17e527ffb02c7287cf4424bc6f4de532ee1f
Author: Xia Wang <xiaw@google.com>
Date:   Fri Sep 13 16:51:38 2013 -0700

    Update the Connectivity Manager test suit to use InstrumentationTestCase.
    
    - Remove ConnectivityManagerTestActivity as the test activity could be destroyed
      after a system config change, which cause test failure in the wifi stress test.
    - Update all tests to use InstrumentationTestCase, which instruments the test package.
    
    Bug : 10426067
    
    Change-Id: Ibf6f1f7cffd7a7eabc4cc63c7e033b59274b724e

commit 19306af73a8175e1327101132e26a35c7dfe5168
Author: Xia Wang <xiaw@google.com>
Date:   Fri Sep 13 16:51:38 2013 -0700

    Update the Connectivity Manager test suit to use InstrumentationTestCase.
    
    - Remove ConnectivityManagerTestActivity as the test activity could be destroyed
      after a system config change, which cause test failure in the wifi stress test.
    - Update all tests to use InstrumentationTestCase, which instruments the test package.
    
    Bug : 10426067
    
    Change-Id: Ibf6f1f7cffd7a7eabc4cc63c7e033b59274b724e

commit 2108bf619149e3b0035556bdaa50305356f71161
Author: John Spurlock <jspurlock@google.com>
Date:   Thu Sep 12 09:50:50 2013 -0400

    SystemUI status bar/quick settings updates.
    
    Status bar:
     - Update remaining mute/speakerphone icons.
     - Remove orange versions of wifi/signal icons.
     - Use only full versions of data type overlays.
     - Remove obsolete light versions of data type overlays.
     - Low battery color back to red.
    
    Quick settings:
     - Update to indicate problem (orange) status.
     - Update to new battery style.
    
    And a few remaining xx assets.
    
    Bug:10680149
    Bug:10502089
    Bug:10729729
    Bug:10316062
    Change-Id: Iccd936d90271e4ec5c48e688917225136e7d45aa

commit 2062abfa13b720365545bbc9d6c66757669b16d9
Author: John Spurlock <jspurlock@google.com>
Date:   Thu Sep 12 09:50:50 2013 -0400

    SystemUI status bar/quick settings updates.
    
    Status bar:
     - Update remaining mute/speakerphone icons.
     - Remove orange versions of wifi/signal icons.
     - Use only full versions of data type overlays.
     - Remove obsolete light versions of data type overlays.
     - Low battery color back to red.
    
    Quick settings:
     - Update to indicate problem (orange) status.
     - Update to new battery style.
    
    And a few remaining xx assets.
    
    Bug:10680149
    Bug:10502089
    Bug:10729729
    Bug:10316062
    Change-Id: Iccd936d90271e4ec5c48e688917225136e7d45aa

commit f2221848a720c2d4dec44989db03256f6f018bfa
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Sep 11 15:21:10 2013 -0700

    Fix Batched Scan Results to give Timestamp in uS
    
    ScanResult should have timestamp in uS but we are getting age in ms
    from the wifi driver - multiply to have the same units though not
    the implied precision.
    
    bug: 10410465
    Change-Id: Idf5c5996d69a4793dae3d74edb790d40b9bd3298
    
    Conflicts:
    	wifi/java/android/net/wifi/WifiStateMachine.java

commit dee971b98c3b084af54ae2f42b6fa3d4734d58d9
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Sep 11 15:21:10 2013 -0700

    Fix Batched Scan Results to give Timestamp in uS
    
    ScanResult should have timestamp in uS but we are getting age in ms
    from the wifi driver - multiply to have the same units though not
    the implied precision.
    
    bug: 10410465
    Change-Id: Idf5c5996d69a4793dae3d74edb790d40b9bd3298

commit a6bc9e9a906aac12b143560cd66945c0f159cb89
Author: John Spurlock <jspurlock@google.com>
Date:   Fri Sep 6 18:26:55 2013 -0400

    Update signal, wifi, battery assets + global dimming.
    
    Global status bar dimming is now 75%.
    
    Signal/wifi: use problem color if not fully connected.
    
    Battery: frame 40% white, charge level = white, new hollow bolt.
      (hollow bolt simulated for now until we can draw it in code)
    
    Update ic_notification_overlay, all sizes.
    
    Workaround animation bug on tablets.
    
    Bug:10502089
    Change-Id: I10f979b7a48ccb1bc94022d8c189ec216283dbe6
    
    Conflicts:
    	packages/SystemUI/src/com/android/systemui/statusbar/phone/PhoneStatusBarView.java

commit 5e8f5fd23d7f9c7d87b98d13dfed9bd243e61ab9
Merge: cc1b52c 5109041
Author: John Spurlock <jspurlock@google.com>
Date:   Fri Sep 6 16:15:58 2013 -0700

    am 5109041f: Merge "Update signal, wifi, battery assets + global dimming." into klp-dev
    
    * commit '5109041f79fb6f649cecadf15008bb173b7bc831':
      Update signal, wifi, battery assets + global dimming.

commit 5109041f79fb6f649cecadf15008bb173b7bc831
Merge: fc1d8f0 21efa9a
Author: John Spurlock <jspurlock@google.com>
Date:   Fri Sep 6 23:10:29 2013 +0000

    Merge "Update signal, wifi, battery assets + global dimming." into klp-dev

commit 21efa9ade3a5ff1854bf53a3fdf964d598ef9783
Author: John Spurlock <jspurlock@google.com>
Date:   Fri Sep 6 18:26:55 2013 -0400

    Update signal, wifi, battery assets + global dimming.
    
    Global status bar dimming is now 75%.
    
    Signal/wifi: use problem color if not fully connected.
    
    Battery: frame 40% white, charge level = white, new hollow bolt.
      (hollow bolt simulated for now until we can draw it in code)
    
    Update ic_notification_overlay, all sizes.
    
    Workaround animation bug on tablets.
    
    Bug:10502089
    Change-Id: I10f979b7a48ccb1bc94022d8c189ec216283dbe6

commit 4f54abfc73fdf71ca7f7866106a98d73822fc893
Merge: 994bf3a 00cd713
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Sep 6 15:11:28 2013 -0700

    am 00cd7132: Merge "wifi: Fix cleaning scan result cache" into klp-dev
    
    * commit '00cd7132b87953a999e804181b665a6245a82c17':
      wifi: Fix cleaning scan result cache

commit 00cd7132b87953a999e804181b665a6245a82c17
Merge: 22ae5d6 8e7c1b1
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Sep 6 22:09:27 2013 +0000

    Merge "wifi: Fix cleaning scan result cache" into klp-dev

commit 8e7c1b1222003fd7b8f8918eb60d3ccd463c05b3
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Sep 6 14:25:14 2013 -0700

    wifi: Fix cleaning scan result cache
    
    Bug: 10198923
    
    Change-Id: I18dfc10860b8fb623751c62a4bc54b628246cf0c
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 34b2b9b6db7d57993bd71c2b62191c1fc533ebff
Author: Lorenzo Colitti <lorenzo@google.com>
Date:   Thu Aug 8 19:38:37 2013 +0900

    Track IP addresses in WifiStateMachine.
    
    This makes WifiStateMachine listen for interface address
    changes. When an address changes, WifiStateMachine will update
    its LinkProperties to match reality and notify the system that
    the link configuration has changed. This allows wifi to keep
    track of IPv6 addresses as well (previously it only knew about
    the IPv4 address passed in by DHCP).
    
    IP addresses are obtained directly from the kernel and always
    match those configured on the interface, so we treat them as
    authoritative and ignore addresses passed in via DHCP (by the
    time DHCP passes them in we've already been notified by the
    kernel anyway).
    
    Since we now have multiple sources of link information (the
    kernel for addresses and DHCP for routes and DNS, plus various
    bits of static information), also move all the code that sets
    mLinkProperties into one place. This allows us to be clearer
    about who is authoritative for which parts of mLinkProperties.
    
    Bug: 10232006
    Change-Id: I4f262342379ce7fed172b67a1d403e3cd34f4232

commit 1ed7a0200ac705b20f71193030a59edd8361200b
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Thu Sep 5 14:19:38 2013 -0700

    Fix duplicate SSID entries in the WifiSettings UI
    
    The root cause is likely our 'no networks' problem; it caused people
    to add new (and duplicate) entries to their list of networks; which
    are haunting us now.
    
    This change looks up the dupes, and discards them, even if they came
    wifi supplicant.
    
    Bug: 10633813
    Change-Id: I656b6bf7240de6763bf84b5b406c50444af6dd48

commit 88997434aacdffae647c3f13b5f4438807635e46
Merge: e82f1ce 079db74
Author: John Spurlock <jspurlock@google.com>
Date:   Wed Sep 4 19:20:28 2013 -0700

    am 079db748: Merge "Remove signal/wifi activity indicator icon overlays." into klp-dev
    
    * commit '079db748746ebb1565279114fb957135f75ba4cf':
      Remove signal/wifi activity indicator icon overlays.

commit 079db748746ebb1565279114fb957135f75ba4cf
Merge: 631228b fcc901c
Author: John Spurlock <jspurlock@google.com>
Date:   Thu Sep 5 02:18:30 2013 +0000

    Merge "Remove signal/wifi activity indicator icon overlays." into klp-dev

commit 411af374f9a2fbfb8a88565afdc8fa9ddb7148a9
Merge: 954b3b8 dbb0b82
Author: Chong Zhang <chz@google.com>
Date:   Wed Sep 4 15:11:33 2013 -0700

    am dbb0b824: Merge "wifi-display: add a global setting to force WPS config method" into klp-dev
    
    * commit 'dbb0b824a7e1dc6909988ec06a46158c05d26a92':
      wifi-display: add a global setting to force WPS config method

commit 954b3b86610ee2df6161ee96afb9df66d98abb9c
Merge: a0d7029 919559d
Author: Chong Zhang <chz@google.com>
Date:   Wed Sep 4 15:11:31 2013 -0700

    am 919559d4: Merge "wifi-display: disable WFD IE when Wifi display is turned off" into klp-dev
    
    * commit '919559d447a47257531fbe47e32cd9f4889457ea':
      wifi-display: disable WFD IE when Wifi display is turned off

commit dbb0b824a7e1dc6909988ec06a46158c05d26a92
Merge: 919559d e38af81
Author: Chong Zhang <chz@google.com>
Date:   Wed Sep 4 22:07:05 2013 +0000

    Merge "wifi-display: add a global setting to force WPS config method" into klp-dev

commit 919559d447a47257531fbe47e32cd9f4889457ea
Merge: 171c63d 72193e1
Author: Chong Zhang <chz@google.com>
Date:   Wed Sep 4 22:06:45 2013 +0000

    Merge "wifi-display: disable WFD IE when Wifi display is turned off" into klp-dev

commit fcc901c10bffdfb9c6b31e676dec36b47d949979
Author: John Spurlock <jspurlock@google.com>
Date:   Wed Sep 4 10:36:27 2013 -0400

    Remove signal/wifi activity indicator icon overlays.
    
    Bug:10607423
    Change-Id: Ib58c5a6759b54f5c84aa2de414bef0f7f3d9b21d

commit b7498050fa551b56471899a0e8d4f4c6d4e7f2a4
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Fri Aug 30 12:31:25 2013 -0700

    Synchronize access to single supplicant path
    
    Both wlan0 and p2p0 state machines are accessing the supplicant socket
    simultaneously; and may get responses of each other's command. This
    change introduces synchronization between these two processes.
    
    Bug: 10375978
    Change-Id: I0ac0b2771311b642affc353958cc9ba2e5dd5716

commit fab5c2b28ede33879372e559f14648a83da8252e
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Fri Aug 30 12:31:25 2013 -0700

    Synchronize access to single supplicant path
    
    Both wlan0 and p2p0 state machines are accessing the supplicant socket
    simultaneously; and may get responses of each other's command. This
    change introduces synchronization between these two processes.
    
    Bug: 10375978
    Change-Id: I0ac0b2771311b642affc353958cc9ba2e5dd5716

commit e38af818b10e1a4927cc3fd69d19c9125d579321
Author: Chong Zhang <chz@google.com>
Date:   Thu Aug 29 17:25:17 2013 -0700

    wifi-display: add a global setting to force WPS config method
    
    Bug: 9371882
    Change-Id: I7417535f12fa5b75be471974250cfd13e45f87b2

commit 72193e1f329ec91bfd86f977035caecb00914444
Author: Chong Zhang <chz@google.com>
Date:   Thu Aug 29 15:42:58 2013 -0700

    wifi-display: disable WFD IE when Wifi display is turned off
    
    Change-Id: Ibd7e3a59f7988975b4ac6c7efdba2b545097a2bd

commit 948282b0e6cf5310f09db97a4ae939db7c1cef72
Author: Wink Saville <wink@google.com>
Date:   Thu Aug 29 08:55:16 2013 -0700

    Add support for handling mobile provisioning networks.
    
    When a sim is new or it has expired it needs to be provisioned
    with the carrier. Basically provisioning is associating a sim with
    a user account. When a sim isn't provisioned then operators will
    restrict access to the network and only allow certain addresses
    or services to be used.
    
    This set of changes allows two types of provisioning networks to be
    recognized. The first is a network that causes all DNS lookups to be
    redirected to a different address than was intended. This is exemplified
    by how T-Mobile works.
    
    The second technique uses a special apn for provisioning. An example is
    AT&T where lwaactivate is the provisioning apn and broadband is the
    normal apn. We first try broadband and if we are unable to connect we
    try lwaactivate. When we see the activate we identify it as special and
    the ApnContext.isProvisioningApn will return true.
    
    In the future our plan is to create a new network type that can be added
    to the apn list, but for now it identified by name.
    
    Here is a list of significant changes:
    
     - CaptivePortalTracker now only test WiFi networks instead of all networks
     - checkMobileProvisioning checks for provisioning networks and doesn't
       try to ping.
     - IConnectivityManager.aidl changes:
       * getProvisioningOrActiveNetworkInfo was added to and used by Manage
         mobile plan in WirelessSettings so even when there is no active
         network it will still allow provisioning. Otherwise it would report
         no internet connection.
       * setSignInErrorNotificationVisible is used by both
         CaptiviePortalTracker and checkMobileProvisioning so they use the
         same code for the notifications.
       * checkMobileProvisioning was simplified to have only a timeout as
         returning the result is now harder as we abort simultaneous call
         otherwise we'd could get into loops because we now check every time
         we connect to mobile.
     - Enhanced MDST to handle the provisioning network.
     - Added CONNECTED_TO_PROVISIONING_NETWORK to NetworkInfo to make a new
       state so we don't announce to the world we're connected.
     - TelephonyIntents.ACTION_DATA_CONNECTION_CONNECTED_TO_PROVISIONING_APN
       is sent by the low level data connection code to notify Connectivity
       Service that a provisioning apn has connected. This allows CS to
       handle the connection differently than a normal connection.
    
    Bug: 10328264
    Change-Id: I3925004011bb1243793c4c1b963d923dc2b00cb5

commit 3175f08ecb2e981504a0917f8c0ec469e0fe4074
Merge: 8a778be d8d4c51
Author: Sreeram Ramachandran <sreeram@google.com>
Date:   Tue Aug 27 15:49:25 2013 -0700

    am d8d4c51e: Merge "Fix channel set option in wifi batch scan command." into klp-dev
    
    * commit 'd8d4c51e3b966b9eaff391f736c716343984e79b':
      Fix channel set option in wifi batch scan command.

commit d8d4c51e3b966b9eaff391f736c716343984e79b
Merge: 61f0f9a 268f329
Author: Sreeram Ramachandran <sreeram@google.com>
Date:   Tue Aug 27 22:45:30 2013 +0000

    Merge "Fix channel set option in wifi batch scan command." into klp-dev

commit 268f329521c0dcd697a671a643ed4cda17c452bd
Author: Sreeram Ramachandran <sreeram@google.com>
Date:   Tue Aug 27 14:49:23 2013 -0700

    Fix channel set option in wifi batch scan command.
    
    Fix by not including extraneous delimiters, and changing the delimiter from a
    space to a comma.
    
    Bug: 10444428
    Change-Id: Ia3197045d44a2f959316935ae085575500e65459

commit 9c70038cba0e265b553aa8cda9b133fd8866b692
Merge: 308aacb 5de1fac
Author: Chong Zhang <chz@google.com>
Date:   Mon Aug 26 15:03:00 2013 -0700

    am 5de1faca: Merge "wifi-display: add certification options" into klp-dev
    
    * commit '5de1faca166e2241cf9ad1981007caa947a1fc1b':
      wifi-display: add certification options

commit 5de1faca166e2241cf9ad1981007caa947a1fc1b
Merge: 365768f 1f3ecaa
Author: Chong Zhang <chz@google.com>
Date:   Fri Aug 23 23:18:52 2013 +0000

    Merge "wifi-display: add certification options" into klp-dev

commit 1f3ecaae6303d5ee6c5ca8499262c9962f036365
Author: Chong Zhang <chz@google.com>
Date:   Fri May 3 15:55:36 2013 -0700

    wifi-display: add certification options
    
    When certification mode is enabled:
    
    - Pass wfd session info to wifi display settings
    
    - Allow sink to connect to source
    
    - Add interface in display manager for pausing/resuming session
    
    - Add interface in WifiP2pManager for setting lc, oc and starting
      autonomous GO
    
    Note that we're compliant regardless of certification mode, but
    some confusing options (eg. allowing incoming connection from
    sink) we want to hide when not being tested.
    
    Bug: 9371882
    Change-Id: Icc7dcae4e046453796cfa03f5f197055fabf234b

commit 1f12cb52a494a3eaefc62d03a8d2fdf47a5535e9
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Wed Aug 21 13:09:01 2013 -0700

    Introduce network link quality statistics
    
    This change starts tracking traffic quality data for WiFi and mobile
    networks. The quality is tracked based on incidental traffic, and not
    on specific measurements. Theoretical bandwidths are hard-coded, as
    well as sampling interval; although sampling interval can be changed
    by setting a system policy.
    
    Bugs filed to remove shortcomings of this change -
    
    10342372 Change LinkInfo name to something better
    10342318 Move hardcoded values of MobileLinkInfo to resources
             so they can be updated without changing code
    
    Bug: 10006249
    
    Change-Id: I83d8c7594da20fe53abbd5e1f909b1f606b035bb

commit 8367eddcaf246ef7eac3c8f9d51a0862d7ebdba5
Merge: 63976e5 b934892
Author: Elliott Hughes <enh@google.com>
Date:   Mon Aug 19 11:11:57 2013 -0700

    am b9348927: Merge "Remove a fixed-length buffer in the wifi code." into klp-dev
    
    * commit 'b93489270d41bbaf513f0018164ab8b6d6ca9519':
      Remove a fixed-length buffer in the wifi code.

commit b93489270d41bbaf513f0018164ab8b6d6ca9519
Merge: 2a994b3 a11d574
Author: Elliott Hughes <enh@google.com>
Date:   Mon Aug 19 18:08:48 2013 +0000

    Merge "Remove a fixed-length buffer in the wifi code." into klp-dev

commit 07c1bd7947052db101c4d1a0385049a398f9027f
Merge: 150efde b3acd8e
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Aug 16 16:50:00 2013 -0700

    am b3acd8ef: Merge "wifi: Do not use prefix for p2p commands" into klp-dev
    
    * commit 'b3acd8ef263e17879e9a13c3dacd123bd0670c3b':
      wifi: Do not use prefix for p2p commands

commit b3acd8ef263e17879e9a13c3dacd123bd0670c3b
Merge: d1477e7 2de3a57
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Aug 16 23:43:25 2013 +0000

    Merge "wifi: Do not use prefix for p2p commands" into klp-dev

commit a11d574fc632158fe7d6cdd06bd3992c3817ca5c
Author: Elliott Hughes <enh@google.com>
Date:   Fri Aug 9 14:59:39 2013 -0700

    Remove a fixed-length buffer in the wifi code.
    
    Also increase the size of the buffer we do need, simplify the code, and
    fix some of the error checking.
    
    (cherry-pick of 56968581ce77d3c0ee4286da6b0d5548874934b9.)
    
    Bug: http://code.google.com/p/android/issues/detail?id=36193
    Bug: 10363597
    Change-Id: Iadd2ee25469a37ddf06c3292b675a4cbcc4ecfa3

commit 49a3fe2686bfd5c6de3fbf2a34c57bec5e50add3
Merge: 22aad61 d313545
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Aug 16 11:22:47 2013 -0700

    am d3135451: Merge "Modify wifi BatchedScan." into klp-dev
    
    * commit 'd3135451b1091022264f15a17e0ac85ec8f0bf30':
      Modify wifi BatchedScan.

commit d3135451b1091022264f15a17e0ac85ec8f0bf30
Merge: 7f2f60d 8e628da
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri Aug 16 18:17:51 2013 +0000

    Merge "Modify wifi BatchedScan." into klp-dev

commit db7f9f38428db55cd00554016f58fe78c714059e
Merge: f4e2e65 0d8afa2
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Thu Aug 15 12:36:43 2013 -0700

    am 0d8afa2e: Merge "wifi: Send event without prefix to p2p0" into klp-dev
    
    * commit '0d8afa2ea314c142320bf921f81540a37561f6eb':
      wifi: Send event without prefix to p2p0

commit 0d8afa2ea314c142320bf921f81540a37561f6eb
Merge: cf770f4 bbabe14
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Thu Aug 15 19:32:33 2013 +0000

    Merge "wifi: Send event without prefix to p2p0" into klp-dev

commit bbabe1433361d83e4cabab80acdc839e437a8452
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed Aug 14 15:25:22 2013 -0700

    wifi: Send event without prefix to p2p0
    
    Bug: 9298955
    
    Change-Id: I71037dd1cd60ee4efa75e1d6fab60a07bdf0626d
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 8e628dadc321bf49e93e482540df87431d014b01
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Aug 14 16:07:44 2013 -0700

    Modify wifi BatchedScan.
    
    Add pollBatchedScan API to allow forced retrieval.
    Modified driver API, adding MSCAN, removing nextCount and making
    the results look more like normal manual scan results.
    
    bug:9301872
    Change-Id: I58bce0624c36e2ad8d3c3f5defcb4d4e155dc8f9

commit 2de3a5762f4c77852810d8f6de6b60aabee9a38e
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed Aug 14 12:59:23 2013 -0700

    wifi: Do not use prefix for p2p commands
    
    Bug: 9298955
    
    Change-Id: I73dab83d133ab3a79cdf804764ba0583a6c9af7f
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 51ee814340eea187a5db79405b718fd514697543
Merge: ea25ea79 7a8d9d6
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Aug 13 16:28:34 2013 -0700

    am 7a8d9d6f: Merge "Add support for batched wifi scans." into klp-dev
    
    * commit '7a8d9d6fecb31124ad1ec349944659a2f5672776':
      Add support for batched wifi scans.

commit 7a8d9d6fecb31124ad1ec349944659a2f5672776
Merge: ba5e533 0451d59
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Aug 13 23:22:52 2013 +0000

    Merge "Add support for batched wifi scans." into klp-dev

commit 0451d59ba2d768e7653752028910f00a6c96e64e
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu Aug 1 18:24:13 2013 -0700

    Add support for batched wifi scans.
    
    bug:9301872
    
    Change-Id: I5a7edfdbd2b78a65119d11acad491eae350c0870

commit 1ed51627d94b140e8893b8e1dcde9bf37e2adca7
Author: Brian Williammee <bwill@google.com>
Date:   Wed Jul 31 17:07:33 2013 -0700

    Track latency of captive portal checks
    
    When captive portal check occurs, track its latency, whether or not
    we received a response, and whether or not the response was a captive
    portal.  Pair with information identifying the access point / base
    station, and broadcast it (with a system|signature-protected
    permission).
    
    Broadcast only occurs if user has consented to
    Settings.Global.WIFI_SCAN_ALWAYS_AVAILABLE.
    
    Change-Id: I6fd59954a7ee2cc7acedf064a1465882653b2173

commit e899d7c0297c499398252f736cb11ffe7ef4f2e3
Merge: 7342c66 5d6b7db
Author: Elliott Hughes <enh@google.com>
Date:   Fri Aug 2 09:50:44 2013 -0700

    am 5d6b7db5: am 20c911ba: Merge "When wifi wants ASCII lowercasing, it needs to ask for it."
    
    * commit '5d6b7db5d9cb7de5cee45dd35af18e179f01d583':
      When wifi wants ASCII lowercasing, it needs to ask for it.

commit 5d6b7db5d9cb7de5cee45dd35af18e179f01d583
Merge: a5da186 20c911b
Author: Elliott Hughes <enh@google.com>
Date:   Fri Aug 2 09:46:04 2013 -0700

    am 20c911ba: Merge "When wifi wants ASCII lowercasing, it needs to ask for it."
    
    * commit '20c911ba071957ff5907d9a7854e7eab1cdaf907':
      When wifi wants ASCII lowercasing, it needs to ask for it.

commit 20c911ba071957ff5907d9a7854e7eab1cdaf907
Merge: c67b2ed ee00b35
Author: Elliott Hughes <enh@google.com>
Date:   Fri Aug 2 16:39:59 2013 +0000

    Merge "When wifi wants ASCII lowercasing, it needs to ask for it."

commit ee00b353a4070a9ddbdf67fa715dc84e7282f7c2
Author: Elliott Hughes <enh@google.com>
Date:   Fri Aug 2 09:07:54 2013 -0700

    When wifi wants ASCII lowercasing, it needs to ask for it.
    
    http://elliotth.blogspot.com/2012/01/beware-convenience-methods.html
    
    Bug: https://code.google.com/p/android/issues/detail?id=58359
    Change-Id: Ibf25d0bbc76015cf8353ec01ab2b743cbc2bde67

commit 5ab422bfa34f0fd64b6bef25287e7250f80de4ba
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Tue Jul 16 12:41:22 2013 -0700

    wifi: Add tdls_discover command to tdls enable call
    
    Bug: 8539031
    
    Change-Id: I29739e74f73b68fbf9ff73cfc19017a01655f9a4
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit fa62202efbe37bb9241ccfd3b4e4e9f07f1fd426
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Mon Jul 1 17:10:28 2013 -0700

    Temporarily disable 'Scan Always' mode
    
    This change disables 'Scan Always' by ignoring the setting; and
    hard coding value to 'false'. The UI will change based on whatever
    is in settings; but underneath we won't enable scans when WiFi is
    off.
    
    Change-Id: Ibb1401207b6675e609e979ea23b63177814f762c

commit c16b0d0061108685e74b40d77ad801fe0304bc42
Author: Vinit Deshapnde <vinitd@google.com>
Date:   Mon Jul 1 17:10:28 2013 -0700

    Temporarily disable 'Scan Always' mode
    
    This change disables 'Scan Always' by ignoring the setting; and
    hard coding value to 'false'. The UI will change based on whatever
    is in settings; but underneath we won't enable scans when WiFi is
    off.
    
    Change-Id: Ibb1401207b6675e609e979ea23b63177814f762c

commit 54d499f6db7b7fa42543cae98b001f790c8df70b
Merge: 7601e31 60c2772
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Mon Jul 1 07:47:49 2013 -0700

    am 60c2772c: (-s ours) Reconcile with jb-mr2-release jb-mr2-zeroday-release - do not merge
    
    * commit '60c2772ca7aa9d532a3b22e44b298e27204a40a5':
      Fix out of range glCopyTexImage2D Bug #9425270
      When a new user AID is generated, dump it to dropbox
      Recreate TextureView's display list on attach Bug #9425270
      Fix power issues around wifi scans.

commit 46bb6d6cb7ee4002fe6c306a1f027d536272f617
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Jun 25 11:41:53 2013 -0700

    Fix power issues around wifi scans.
    
    - Sending a broadcast indicating when scan requests could be serviced so that
    apps don't request scans we won't do anything with.
    - Fix our batt stats accounting so we only count it if we send the request to
    the driver.
    
    bug: 8868201
    bug: 9496690
    Change-Id: I64a4f1c294c848ac64c50d8854ed4a6a1a47f603

commit 505e35bca9e19773e42cb8771fcf36158208b8ab
Merge: 4e1d4b8 c869696
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Jun 26 11:54:55 2013 -0700

    am c869696e: am 65f7a95f: am 2f50097a: Merge "Fix power issues around wifi scans." into jb-mr2-dev
    
    * commit 'c869696ef3c1dca3efbc6ce8ab804e8a1b117900':
      Fix power issues around wifi scans.

commit c869696ef3c1dca3efbc6ce8ab804e8a1b117900
Merge: bfc53ab 65f7a95
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Jun 26 10:55:00 2013 -0700

    am 65f7a95f: am 2f50097a: Merge "Fix power issues around wifi scans." into jb-mr2-dev
    
    * commit '65f7a95fc4c06127e7372bcb0d14e561cc23dd80':
      Fix power issues around wifi scans.

commit 65f7a95fc4c06127e7372bcb0d14e561cc23dd80
Merge: a0b9e1e 2f50097
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Jun 26 10:51:35 2013 -0700

    am 2f50097a: Merge "Fix power issues around wifi scans." into jb-mr2-dev
    
    * commit '2f50097a5d5a1fb60574c89c7202cc43ecb51c54':
      Fix power issues around wifi scans.

commit 2f50097a5d5a1fb60574c89c7202cc43ecb51c54
Merge: 99e4a0f 8971084
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Jun 26 17:43:39 2013 +0000

    Merge "Fix power issues around wifi scans." into jb-mr2-dev

commit 89710842585404ea33f941afeb2c321e706005e9
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Jun 25 11:41:53 2013 -0700

    Fix power issues around wifi scans.
    
    - Sending a broadcast indicating when scan requests could be serviced so that
    apps don't request scans we won't do anything with.
    - Fix our batt stats accounting so we only count it if we send the request to
    the driver.
    
    bug: 8868201
    bug: 9496690
    Change-Id: I64a4f1c294c848ac64c50d8854ed4a6a1a47f603

commit e36b93575f14239ff38ea8b71e39e41b0312326b
Merge: d485ef2 7bc28ed
Author: Iliyan Malchev <malchev@google.com>
Date:   Thu Jun 20 20:16:51 2013 -0700

    am 7bc28ed7: am e6345a19: am 9233fc00: Revert "Revert "wifi: Get full scan results""
    
    * commit '7bc28ed76b9a6591bdda37b472c3f7dc1ffae987':
      Revert "Revert "wifi: Get full scan results""

commit 7bc28ed76b9a6591bdda37b472c3f7dc1ffae987
Merge: 86c41e8 e6345a1
Author: Iliyan Malchev <malchev@google.com>
Date:   Thu Jun 20 20:15:09 2013 -0700

    am e6345a19: am 9233fc00: Revert "Revert "wifi: Get full scan results""
    
    * commit 'e6345a19129484572d3200edfff7f002a4314d0b':
      Revert "Revert "wifi: Get full scan results""

commit e6345a19129484572d3200edfff7f002a4314d0b
Merge: fb45dbe 9233fc0
Author: Iliyan Malchev <malchev@google.com>
Date:   Thu Jun 20 20:13:04 2013 -0700

    am 9233fc00: Revert "Revert "wifi: Get full scan results""
    
    * commit '9233fc0023755e190e7c28374c5c6fa6558dec70':
      Revert "Revert "wifi: Get full scan results""

commit 9233fc0023755e190e7c28374c5c6fa6558dec70
Author: Iliyan Malchev <malchev@google.com>
Date:   Fri Jun 21 03:09:44 2013 +0000

    Revert "Revert "wifi: Get full scan results""
    
    This reverts commit c2cbd4c11bfb83344502bd80389538795bae03cb.
    
    Change-Id: Ia1cbde588ae9706966d6340c702fcfe1a82cfa79

commit d9f943ff41896e8d249fd407e567e0f9561a12c0
Merge: e86a936 40f2023
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Thu Jun 20 07:20:16 2013 -0700

    am 40f20235: (-s ours) Reconcile with jb-mr2-release - do not merge
    
    * commit '40f20235380b245ec29b09e10792047b9b01d6f1':
      Revert "wifi: Get full scan results"
      add ViewGroup's layoutMode attribute to public resources bug: 9359960

commit b301684e954b6a1659bf7395b1732b658f2fc27e
Author: Vineeta Srivastava <vsrivastava@google.com>
Date:   Mon Jun 17 20:24:47 2013 +0000

    Revert "wifi: Get full scan results"
    
    This reverts commit 67b3fbf49c0c92641e19e3278a1feab7b68aa7b8.
    
    Change-Id: I458924e6c95661f522ffa5e7780c6888cdb3a713
    
    Conflicts:
    	wifi/java/android/net/wifi/WifiNative.java
    	wifi/java/android/net/wifi/WifiStateMachine.java

commit 9c5c31d2284f238b2a236959b8e33e42063121ef
Merge: 8ace2ac 2a15521
Author: Iliyan Malchev <malchev@google.com>
Date:   Tue Jun 18 18:21:50 2013 -0700

    am 2a155213: am 66acbc22: am 0dff78aa: Merge "Revert "wifi: Get full scan results"" into jb-mr2-dev
    
    * commit '2a155213c85f84a944551c09c0eefde3368267db':
      Revert "wifi: Get full scan results"

commit 2a155213c85f84a944551c09c0eefde3368267db
Merge: 9f9f901 66acbc2
Author: Iliyan Malchev <malchev@google.com>
Date:   Tue Jun 18 18:20:41 2013 -0700

    am 66acbc22: am 0dff78aa: Merge "Revert "wifi: Get full scan results"" into jb-mr2-dev
    
    * commit '66acbc221b750a645a1c9581f4a5bbe52e38729c':
      Revert "wifi: Get full scan results"

commit 66acbc221b750a645a1c9581f4a5bbe52e38729c
Merge: c485361 0dff78aa3
Author: Iliyan Malchev <malchev@google.com>
Date:   Tue Jun 18 18:18:21 2013 -0700

    am 0dff78aa: Merge "Revert "wifi: Get full scan results"" into jb-mr2-dev
    
    * commit '0dff78aa32d8e7bc2eb057f2878a9e010417e42a':
      Revert "wifi: Get full scan results"

commit 0dff78aa32d8e7bc2eb057f2878a9e010417e42a
Merge: 99700bf c2cbd4c
Author: Iliyan Malchev <malchev@google.com>
Date:   Wed Jun 19 01:16:23 2013 +0000

    Merge "Revert "wifi: Get full scan results"" into jb-mr2-dev

commit c2cbd4c11bfb83344502bd80389538795bae03cb
Author: Vineeta Srivastava <vsrivastava@google.com>
Date:   Mon Jun 17 20:24:47 2013 +0000

    Revert "wifi: Get full scan results"
    
    This reverts commit 67b3fbf49c0c92641e19e3278a1feab7b68aa7b8.
    
    Change-Id: I458924e6c95661f522ffa5e7780c6888cdb3a713
    
    Conflicts:
    	wifi/java/android/net/wifi/WifiNative.java
    	wifi/java/android/net/wifi/WifiStateMachine.java

commit e0dae4b493d3547b223f498a9f3e5aa2ddd856f6
Merge: 343233c ab87a63
Author: Chong Zhang <chz@google.com>
Date:   Sat Jun 15 00:36:15 2013 +0000

    Merge "MediaRouter: grey out wifi displays that's in use"

commit ab87a63997a7dc771acfd0dcd7efda990dc3d5fe
Author: Chong Zhang <chz@google.com>
Date:   Tue Jun 11 10:25:49 2013 -0700

    MediaRouter: grey out wifi displays that's in use
    
    bug 9229799
    
    Change-Id: I9f5fd2107f60c492d42c74e575e6483838a51267

commit 97f41383eb2bb098767ca153e470009fea810540
Merge: e151d9b fabda58
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Jun 12 07:25:57 2013 -0700

    am fabda589: (-s ours) Reconcile with jb-mr2-release jb-mr2-zeroday-release - do not merge
    
    * commit 'fabda5894c2793b37650ce3bc1697effd86af88b':
      Need to explicitly disable scan-always when turning off wifi
      Let RemoteControlDisplay know more about playback position
      Unhide MediaExtractor.getPsshInfo()

commit 00416842550ea5f2c6a5bc0e4c82a3b4fe27ad9a
Author: Christopher Tate <ctate@google.com>
Date:   Mon Jun 10 16:55:02 2013 -0700

    Need to explicitly disable scan-always when turning off wifi
    
    ... when you want wifi to be really most sincerely off, because
    settings restore is about to rewrite the conf file.
    
    Bug 9032154
    
    Change-Id: I6a3a34ac3f14ec43aa9d9cc0159fca6168ccd0a2

commit 2b3329bb73e0a5167aaf1b638f42c50f94d61bab
Merge: b243f79 1bc14ed
Author: Christopher Tate <ctate@google.com>
Date:   Tue Jun 11 15:37:12 2013 -0700

    am 1bc14ed9: am 76b76666: Merge "Need to explicitly disable scan-always when turning off wifi" into jb-mr2-dev
    
    * commit '1bc14ed9c3bb0fae28c2cdf9319b2f5f892409eb':
      Need to explicitly disable scan-always when turning off wifi

commit 1bc14ed9c3bb0fae28c2cdf9319b2f5f892409eb
Merge: 799f031 76b7666
Author: Christopher Tate <ctate@google.com>
Date:   Tue Jun 11 15:07:00 2013 -0700

    am 76b76666: Merge "Need to explicitly disable scan-always when turning off wifi" into jb-mr2-dev
    
    * commit '76b76666f5c28751db6ed8791fd54ec430d4361a':
      Need to explicitly disable scan-always when turning off wifi

commit 76b76666f5c28751db6ed8791fd54ec430d4361a
Merge: cd5b331 87bc7e7
Author: Christopher Tate <ctate@google.com>
Date:   Tue Jun 11 22:04:38 2013 +0000

    Merge "Need to explicitly disable scan-always when turning off wifi" into jb-mr2-dev

commit 87bc7e7082ed2093ac7b5ee241439c54cf71b8f6
Author: Christopher Tate <ctate@google.com>
Date:   Mon Jun 10 16:55:02 2013 -0700

    Need to explicitly disable scan-always when turning off wifi
    
    ... when you want wifi to be really most sincerely off, because
    settings restore is about to rewrite the conf file.
    
    Bug 9032154
    
    Change-Id: I6a3a34ac3f14ec43aa9d9cc0159fca6168ccd0a2

commit 799d4af8cf6273a50b2110ae2276e7812ae4fe70
Merge: 8c8391a 21f6039
Author: Chong Zhang <chz@google.com>
Date:   Fri Jun 7 03:28:10 2013 +0000

    Merge "wifi-display: set display to unavailable if p2p device is unavailable"

commit 21f603996ed83c7a9a6c430582e8a5af5ac13c6c
Author: Chong Zhang <chz@google.com>
Date:   Tue Jun 4 18:01:46 2013 -0700

    wifi-display: set display to unavailable if p2p device is unavailable
    
    Bug 9229799
    
    Change-Id: I680015943f40cded45645dfa0eae42bbce5ce9a3

commit 170c1434b31b171833a8f5605d83ab594a3c15bd
Merge: 90b8994 b18841b
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Mon Jun 3 17:16:33 2013 -0700

    am b18841b4: (-s ours) Reconcile with jb-mr2-release - do not merge
    
    * commit 'b18841b442006b63a0c57527fdd6d16bc04e6644':
      Apply scan-always setting to initial wifi state.

commit b0a88e5716ac2b325b4d79a5c12e726db4ee51df
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat Jun 1 10:59:29 2013 -0700

    Apply scan-always setting to initial wifi state.
    
    Otherwise there's nothing to kick us into scanable modes unless
    the user toggles wifi.
    
    bug:9217455
    Change-Id: I6460305e3f299646433546598412f817579cc805

commit 293665686e45ae7c969a51de9fe9c9b32604782f
Merge: 77624cd 5300983
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Jun 3 08:43:58 2013 -0700

    am 53009832: am 05caa2a3: Apply scan-always setting to initial wifi state.
    
    * commit '530098327c19cfa3c31c4eabe316bf36ad4a848c':
      Apply scan-always setting to initial wifi state.

commit 530098327c19cfa3c31c4eabe316bf36ad4a848c
Merge: 66c7bd5 05caa2a
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Jun 3 08:41:48 2013 -0700

    am 05caa2a3: Apply scan-always setting to initial wifi state.
    
    * commit '05caa2a3de32e54562d1ec3031f73ef5392cfb40':
      Apply scan-always setting to initial wifi state.

commit 05caa2a3de32e54562d1ec3031f73ef5392cfb40
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat Jun 1 10:59:29 2013 -0700

    Apply scan-always setting to initial wifi state.
    
    Otherwise there's nothing to kick us into scanable modes unless
    the user toggles wifi.
    
    bug:9217455
    Change-Id: I6460305e3f299646433546598412f817579cc805

commit 156cf401482c6274b419bf25255ba9bac35adf3f
Merge: eb47aac 66c7bd5
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat Jun 1 09:52:18 2013 -0700

    am 66c7bd54: am 0161d229: Merge "Remember wifi country that\'s set before boot" into jb-mr2-dev
    
    * commit '66c7bd54046c567de5e3a4d332987a28ecb78092':
      Remember wifi country that's set before boot

commit 66c7bd54046c567de5e3a4d332987a28ecb78092
Merge: 0f70bcf 0161d22
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat Jun 1 08:58:16 2013 -0700

    am 0161d229: Merge "Remember wifi country that\'s set before boot" into jb-mr2-dev
    
    * commit '0161d229fdbd8407f5b8b783ffa02b145b0cef8e':
      Remember wifi country that's set before boot

commit 0161d229fdbd8407f5b8b783ffa02b145b0cef8e
Merge: 8ebfb8c 304aad4
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat Jun 1 15:57:12 2013 +0000

    Merge "Remember wifi country that's set before boot" into jb-mr2-dev

commit 304aad49cdd373f5081c7840f374baaf53122968
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Fri May 31 17:57:10 2013 -0700

    Remember wifi country that's set before boot
    
    Telehony seems to sometimes be reporting the country before boot
    is completed so can't persist the data at that time.  Remember
    and write it on BOOT_COMPLETED
    
    Also, there are permission issues around writing the setting.
    
    bug:9225156
    Change-Id: Ifdf2243da71b0d2ce5743267842597937d790ef5

commit 1c6911ac1d6c4cfecaaa1c1d6814707d77aed4be
Author: Xia Wang <xiaw@google.com>
Date:   Tue May 21 14:18:56 2013 -0700

    Add option to set frequency band
    
    - The reason to add the test runner is to set frequency band when the runner
      is created which happens before the test activity is actually launch.
      As the test activity will disable/enable wifi when it
      is created, this cycle will ensure the frequency is set successfully.
    
    Change-Id: Ie9de3d8bab3dda7d4bb9ba604ddd5cb33164e397

commit e659f12f0f7cdd5ad3feec8ec65be9b14d78cd5a
Merge: 306fd7f ffa0242
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Thu May 30 20:00:51 2013 +0000

    Merge "wifi: Match function prototype from libhardware_legacy"

commit ffa0242dd40b2d73d269d2427651dacbf3a819d7
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed May 29 10:36:41 2013 -0700

    wifi: Match function prototype from libhardware_legacy
    
    Change-Id: Ibfffd347e22f71753b085d16f185407308b9be36
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 130a27ae8d5775b066405f5d52f950b7fcbc7655
Merge: b735b15 fa0e6d5
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Thu May 23 21:59:21 2013 +0000

    Merge "wifi: Use 'IFNAME=iface CMD' instead of 'CMD interface=iface Rest'"

commit fa0e6d523117e3d90a973ad42c1fe76325006635
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Thu May 23 13:19:37 2013 -0700

    wifi: Use 'IFNAME=iface CMD' instead of 'CMD interface=iface Rest'
    
    Change-Id: Iad7389a9030c9f8a697b147941a8f296db6eb08d
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 11f33b50bba47430100a1701f4b08f47b3cad9f2
Merge: f910acb 657eb61
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue May 21 12:58:00 2013 -0700

    am 657eb614: am 4c32885c: Merge "Don\'t put up wifi-available note when disabled" into jb-mr2-dev
    
    * commit '657eb614ef0d5b56dfbfe3669db18f5a59b57c29':
      Don't put up wifi-available note when disabled

commit 657eb614ef0d5b56dfbfe3669db18f5a59b57c29
Merge: cf4339a 4c32885
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue May 21 12:56:04 2013 -0700

    am 4c32885c: Merge "Don\'t put up wifi-available note when disabled" into jb-mr2-dev
    
    * commit '4c32885c4249be9b0a9e674b96ebacc78152b47e':
      Don't put up wifi-available note when disabled

commit 4c32885c4249be9b0a9e674b96ebacc78152b47e
Merge: acad301 8c77692
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue May 21 19:54:39 2013 +0000

    Merge "Don't put up wifi-available note when disabled" into jb-mr2-dev

commit 8c776925540d6deec2bf7a3eab6bf4b11f6d2747
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue May 21 11:17:11 2013 -0700

    Don't put up wifi-available note when disabled
    
    With the new scan-always mode we will get scan results when disabled.
    Don't tell the user about open AP when they've turned off wifi.
    
    bug:9067982
    Change-Id: I7a303c2a6f87a331443eeb54fa8ff5b467c0a1ff

commit a75ab0337a2a020575968170d6baab4f96812cfa
Merge: fb16a68 c3de50c
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sun May 19 12:51:47 2013 -0700

    am c3de50cd: am 30c798d5: Merge "Add some temp wifi debugging output" into jb-mr2-dev
    
    * commit 'c3de50cd3cff76082bc01b04a8a6bbde300d725e':
      Add some temp wifi debugging output

commit c3de50cd3cff76082bc01b04a8a6bbde300d725e
Merge: c6ab8a6 30c798d
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sun May 19 12:49:44 2013 -0700

    am 30c798d5: Merge "Add some temp wifi debugging output" into jb-mr2-dev
    
    * commit '30c798d58772efd595fffebd9d0d54f717e34ed6':
      Add some temp wifi debugging output

commit 30c798d58772efd595fffebd9d0d54f717e34ed6
Merge: d015455 02ba86f
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sun May 19 19:46:58 2013 +0000

    Merge "Add some temp wifi debugging output" into jb-mr2-dev

commit 02ba86f0cc34fcaaf5e938f178c9d0ff86c8dba0
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sat May 18 11:24:22 2013 -0700

    Add some temp wifi debugging output
    
    bug: 9014777
    Change-Id: I38c61f235742a36be10cdf9125e19ac9406a61b9

commit 56cf63f8ecc16da4e9a317fd89ea505d4737f8c8
Merge: 2feefe0 b466749
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Fri May 17 12:59:37 2013 -0700

    am b4667497: (-s ours) Reconcile with jb-mr2-release - do not merge
    
    * commit 'b46674978765e29d838eb7e5d4810d047037f855':
      Add min delay between disable and enable of wifi

commit ae01017f4d94c8fe0b96f7504cc6ef6384e0e5c8
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu May 16 12:48:20 2013 -0700

    Add min delay between disable and enable of wifi
    
    We sometimes have issues if disable, enable seq happens to fast.
    This should only slow down those fast cases.
    
    bug:8715336
    Change-Id: I4f7fe9708b7c3c2300c441511838e8a70eaad5d1

commit fb6dab36d5e867ad6de8c28efd7bdd12da29e1e9
Merge: 9bebad9 0643386
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu May 16 14:05:18 2013 -0700

    am 06433861: am c12783a9: Add min delay between disable and enable of wifi
    
    * commit '0643386128eba71178ee3913e7c76965bd344d73':
      Add min delay between disable and enable of wifi

commit 0643386128eba71178ee3913e7c76965bd344d73
Merge: 0c8dcf4 c12783a
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu May 16 14:02:49 2013 -0700

    am c12783a9: Add min delay between disable and enable of wifi
    
    * commit 'c12783a90e08bd2e20eb75f68192fbf7bad80357':
      Add min delay between disable and enable of wifi

commit c12783a90e08bd2e20eb75f68192fbf7bad80357
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Thu May 16 12:48:20 2013 -0700

    Add min delay between disable and enable of wifi
    
    We sometimes have issues if disable, enable seq happens to fast.
    This should only slow down those fast cases.
    
    bug:8715336
    Change-Id: I4f7fe9708b7c3c2300c441511838e8a70eaad5d1

commit 6bbd57d57d40e74b13f5d93a1defea102fdff420
Merge: 66beb2f 74dcb8e
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Thu May 16 05:48:18 2013 -0700

    am 74dcb8ec: (-s ours) Reconcile with jb-mr2-release - do not merge
    
    * commit '74dcb8ec6028fee78117eeb7b1cc2e2e3b06ba37':
      Fix bug managing wifi display routes.
      Donot bind to GATT service when BLE is not supported
      Exempt the notification panel from animation lockout.
      Fix network reload when config is restored
      don't trigger a render when setting the rendermode
      Fix change of behavior in Looper.quit().
      Fix enabling networks after driver stop
      Maybe fix issue #8620910: Win_sdk build failed and unable to create...
      Fix CTS failure due to invalid EAP update
      Crash on non-eng builds due to lacking null check.
      Fully setup newly bound service before state management.
      Revert GC thread changes

commit a67a1f5ae0acae8499c1e6dfe795c92a688f1ada
Merge: a5ca95a 23abefe
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon May 13 14:19:07 2013 -0700

    am 23abefef: am 28d3dbf9: Merge "Remove wifi scan-always dialog." into jb-mr2-dev
    
    * commit '23abefef00b4d47bb97b2597f74c9dae6a169286':
      Remove wifi scan-always dialog.

commit 23abefef00b4d47bb97b2597f74c9dae6a169286
Merge: 0038342 28d3dbf
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon May 13 14:13:50 2013 -0700

    am 28d3dbf9: Merge "Remove wifi scan-always dialog." into jb-mr2-dev
    
    * commit '28d3dbf969c4c7965ea44bfe4b54095af5356970':
      Remove wifi scan-always dialog.

commit 28d3dbf969c4c7965ea44bfe4b54095af5356970
Merge: 98f9956 aee3d28
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon May 13 21:11:32 2013 +0000

    Merge "Remove wifi scan-always dialog." into jb-mr2-dev

commit aee3d28763230e54d9ce250c17744858e79bf798
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon May 13 11:32:31 2013 -0700

    Remove wifi scan-always dialog.
    
    Removes intent type for dialog and Setting on whether to show
    dialog.
    
    bug:8907190
    Change-Id: Id37e03126d4afdfd7d921132a57233b84603c8bd

commit d8bc100ae11a307a4a8c519b5f5c7fe6473a8837
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 13:41:11 2013 -0700

    Fix bug managing wifi display routes.
    
    We could sometimes crash due to some inconsistencies in the
    way the wifi display routes were updates when connecting,
    disconnecting or scanning wifi displays.
    
    Bug: 8837094
    Change-Id: I10c7ccb163ec33c4ea107dfcb5074741049fe955

commit 1f59cbb20a2ad74cf2ac57d256f1fc5f0629f8a3
Merge: 980c49d 507a3c7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 17:09:22 2013 -0700

    am 507a3c77: am 2298d68e: Merge "Fix bug managing wifi display routes." into jb-mr2-dev
    
    * commit '507a3c77d583643f4a884c5d7b0c5e6bce3222bb':
      Fix bug managing wifi display routes.

commit 507a3c77d583643f4a884c5d7b0c5e6bce3222bb
Merge: 069d7e9 2298d68
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 16:23:40 2013 -0700

    am 2298d68e: Merge "Fix bug managing wifi display routes." into jb-mr2-dev
    
    * commit '2298d68e72afa9cf311af394b61f92f75385bbbf':
      Fix bug managing wifi display routes.

commit 2298d68e72afa9cf311af394b61f92f75385bbbf
Merge: 153919e 77e59fe
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 23:03:57 2013 +0000

    Merge "Fix bug managing wifi display routes." into jb-mr2-dev

commit 66f3b39ec452a8a03e3254e77e19ccb764ee931f
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 13:40:39 2013 -0700

    Add an API to allow a callback to request active scans.
    
    This API is needed by the support library media router to ensure
    that wifi display routes can be discovered while the route
    chooser dialog is open.
    
    Bug: 8175766
    Change-Id: I3773773d93384aa4a3c009e71a5444ee8ce37caf

commit 77e59fef24c02a109bb409afe38dbdf28e1fd914
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu May 9 13:41:11 2013 -0700

    Fix bug managing wifi display routes.
    
    We could sometimes crash due to some inconsistencies in the
    way the wifi display routes were updates when connecting,
    disconnecting or scanning wifi displays.
    
    Bug: 8837094
    Change-Id: I10c7ccb163ec33c4ea107dfcb5074741049fe955

commit 130ea5fc127a5b0e6c49e2328485dba65c2f3356
Merge: 4190a63 3cbe3b2
Author: Xia Wang <xiaw@google.com>
Date:   Wed May 8 15:23:09 2013 -0700

    am 3cbe3b27: am 4550dba5: Merge "Add wifi association test" into jb-mr2-dev
    
    * commit '3cbe3b271c164c81676b0da1a303d5e5d396037c':
      Add wifi association test

commit 3cbe3b271c164c81676b0da1a303d5e5d396037c
Merge: 5055e35 4550dba
Author: Xia Wang <xiaw@google.com>
Date:   Wed May 8 15:21:12 2013 -0700

    am 4550dba5: Merge "Add wifi association test" into jb-mr2-dev
    
    * commit '4550dba53d49a689de6000e5e5864c28f91dd945':
      Add wifi association test

commit 4550dba53d49a689de6000e5e5864c28f91dd945
Merge: 0dd85e4 58a5db3
Author: Xia Wang <xiaw@google.com>
Date:   Wed May 8 22:17:35 2013 +0000

    Merge "Add wifi association test" into jb-mr2-dev

commit 58a5db37b3de268aea18b160234f9fd4d70a970d
Author: Xia Wang <xiaw@google.com>
Date:   Thu May 2 21:19:40 2013 -0700

    Add wifi association test
    
    Change-Id: I1f3f49a1857835522c9c5e02ed4f530b83df1d02

commit 3ddee7d6e9c0e509af7cfa5ccb1db5fa1256c100
Merge: b7294d7 fd0b007
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Apr 30 08:54:22 2013 -0700

    am fd0b0072: am 9f844790: Merge "Remove scan notification dialog on wifi off" into jb-mr2-dev
    
    * commit 'fd0b0072db6d89c85a5ea20383a1c3dc289d1d38':
      Remove scan notification dialog on wifi off

commit fd0b0072db6d89c85a5ea20383a1c3dc289d1d38
Merge: 5dc2ac4 9f84479
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 29 16:01:55 2013 -0700

    am 9f844790: Merge "Remove scan notification dialog on wifi off" into jb-mr2-dev
    
    * commit '9f844790f305338de4fa3adda5e125c811f280ca':
      Remove scan notification dialog on wifi off

commit 9f844790f305338de4fa3adda5e125c811f280ca
Merge: 7318b84 7167a66
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 29 22:58:50 2013 +0000

    Merge "Remove scan notification dialog on wifi off" into jb-mr2-dev

commit 7167a66b5eca119ae56dfe3f659a63d92e84ae2c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 26 15:10:26 2013 -0700

    Remove scan notification dialog on wifi off
    
    This is now only handled in settings app
    
    Bug: 8732391
    Change-Id: If232bfb9f6c3976059bde11280318901c35161e7

commit 428b063a2e1f5c9bb8caf560e770ea5f9d5fde02
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Apr 25 23:22:41 2013 -0700

    Fix network reload when config is restored
    
    With scan mode opted in, supplicant connection is not shut
    down even when wifi is turned off. This is a problem since
    networks need to be reloaded when wifi is turned off and turned on
    and this currently happens only on a supplicant connection.
    
    Fix to handle this for scan mode state.
    
    Bug: 8714796
    Change-Id: I7d66c39fb51018fb52e783341222cea993993893

commit cca308e3e841731662d3ceacf3c631ce5ecf8fb2
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Apr 25 23:22:41 2013 -0700

    Fix network reload when config is restored
    
    With scan mode opted in, supplicant connection is not shut
    down even when wifi is turned off. This is a problem since
    networks need to be reloaded when wifi is turned off and turned on
    and this currently happens only on a supplicant connection.
    
    Fix to handle this for scan mode state.
    
    Bug: 8714796
    Change-Id: I7d66c39fb51018fb52e783341222cea993993893

commit e193350992c46a19190e18ad4864c690743314e8
Merge: 69ca575 d2190a4
Author: Wink Saville <wink@google.com>
Date:   Wed Apr 24 10:45:10 2013 -0700

    am d2190a4b: am e148a49d: Merge "Support WiFi only device at runtime." into jb-mr2-dev
    
    * commit 'd2190a4bfb33e4586c4b94d77bb08f5de0e7ea46':
      Support WiFi only device at runtime.

commit d2190a4bfb33e4586c4b94d77bb08f5de0e7ea46
Merge: 5028934 e148a49
Author: Wink Saville <wink@google.com>
Date:   Wed Apr 24 08:47:45 2013 -0700

    am e148a49d: Merge "Support WiFi only device at runtime." into jb-mr2-dev
    
    * commit 'e148a49d9214724c7c6aa5b23eae7cdbb80da1ca':
      Support WiFi only device at runtime.

commit e148a49d9214724c7c6aa5b23eae7cdbb80da1ca
Merge: a3b5bae 51f456f
Author: Wink Saville <wink@google.com>
Date:   Wed Apr 24 15:44:07 2013 +0000

    Merge "Support WiFi only device at runtime." into jb-mr2-dev

commit 51f456f553248e910a7efc7eafa64f5ecf0f6cdc
Author: Wink Saville <wink@google.com>
Date:   Tue Apr 23 14:26:51 2013 -0700

    Support WiFi only device at runtime.
    
    To date WiFi only devices were defined by the list of networkAttributes
    in config.xml overriden in on a per-device basis. This change is the
    simplest change needed to determine this at runtime and therefore allowing
    a single build to support the two different configurations.
    
    Bug: 8562845
    Change-Id: I34de5c6accc718b199c13815537de1debfe3dc91

commit e68d858b0faf638045980237922e969516b1213e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Apr 23 13:43:43 2013 -0700

    Keep device state always updated
    
    Tasker app showed up a bug where we can be out of sync with screen state
    if we only received broadcasts when wifi is toggled on. Always receive
    updates.
    
    Bug: 8689583
    Change-Id: Iad457c9768ed421765adb6a15d5f42ecf682da38

commit 1b0ca9dace3fb3b84f8a87e539c0179e6093b423
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Apr 22 11:13:02 2013 -0700

    Listen for network disconnect.
    
    VPN used to just watch the interface, but that is insufficient.  There
    is no promise that the interface will go down when we're done with it.
    Now that wifi stays on in scan-only mode despite user turning it off
    it seems that the interface is left up, even in AP mode.
    
    Now listening for ConnectivityService broadcast that the network we were on
    has disconnected and tearing down the VPN then or when the interface
    goes away.
    
    bug:8550083
    Change-Id: Icf414497bc55bead69de04e91f39f90ac2e6578a

commit ad7cc9e6df86246ca41826cfadaf1c82b7077ead
Merge: 0f3e023 66104e1
Author: Adam Powell <adamp@google.com>
Date:   Wed Apr 10 16:16:33 2013 -0700

    am 66104e1e: am 521eeaef: Merge "Make MediaRouter ignore remembered wifi displays when wifi display is off" into jb-mr2-dev
    
    * commit '66104e1e19316d2c0a7b978093e2d9166f9cbda4':
      Make MediaRouter ignore remembered wifi displays when wifi display is off

commit 66104e1e19316d2c0a7b978093e2d9166f9cbda4
Merge: af543eb 521eeae
Author: Adam Powell <adamp@google.com>
Date:   Wed Apr 10 16:13:01 2013 -0700

    am 521eeaef: Merge "Make MediaRouter ignore remembered wifi displays when wifi display is off" into jb-mr2-dev
    
    * commit '521eeaefcb4b78a8b571d1a1b4f095d993aea8b6':
      Make MediaRouter ignore remembered wifi displays when wifi display is off

commit 521eeaefcb4b78a8b571d1a1b4f095d993aea8b6
Merge: 8881455 615e413
Author: Adam Powell <adamp@google.com>
Date:   Wed Apr 10 23:08:47 2013 +0000

    Merge "Make MediaRouter ignore remembered wifi displays when wifi display is off" into jb-mr2-dev

commit 615e413a90ff5898d8c458ebc9649ca95fa9fd98
Author: Adam Powell <adamp@google.com>
Date:   Wed Apr 10 15:30:51 2013 -0700

    Make MediaRouter ignore remembered wifi displays when wifi display is off
    
    Bug 8417329
    
    Change-Id: Ica9bf1b250be4b72ba32e63d7eb1a6ff0b727961

commit 01da3f416c4923eceef0949b73e003f99a00ca74
Merge: d236406 3526196
Author: Fabrice Di Meglio <fdimeglio@google.com>
Date:   Fri Mar 29 14:36:00 2013 -0700

    am 3526196d: am 3dc52ce7: Merge "Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode" into jb-mr2-dev
    
    * commit '3526196d1f405d6a42c15d3091ca3843c2002422':
      Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode

commit d236406ed761e3d545833d627fac672fb5702a36
Merge: 172c406 2b2845b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 29 14:35:14 2013 -0700

    am 2b2845b0: am 964a6a7e: Merge "Scope certs for wifi UID and handle migration" into jb-mr2-dev
    
    * commit '2b2845b0c130a495e844ec454cb61f9d0f76899e':
      Scope certs for wifi UID and handle migration

commit 3526196d1f405d6a42c15d3091ca3843c2002422
Merge: 2b2845b 3dc52ce
Author: Fabrice Di Meglio <fdimeglio@google.com>
Date:   Fri Mar 29 12:42:05 2013 -0700

    am 3dc52ce7: Merge "Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode" into jb-mr2-dev
    
    * commit '3dc52ce711a6345d9f18dd31e39344792116597c':
      Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode

commit 3dc52ce711a6345d9f18dd31e39344792116597c
Merge: 964a6a7 618e3aa
Author: Fabrice Di Meglio <fdimeglio@google.com>
Date:   Fri Mar 29 19:38:50 2013 +0000

    Merge "Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode" into jb-mr2-dev

commit 2b2845b0c130a495e844ec454cb61f9d0f76899e
Merge: 2adf34e 964a6a7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 29 10:36:38 2013 -0700

    am 964a6a7e: Merge "Scope certs for wifi UID and handle migration" into jb-mr2-dev
    
    * commit '964a6a7e209b0db262c827721ae5fde3f98ca763':
      Scope certs for wifi UID and handle migration

commit 964a6a7e209b0db262c827721ae5fde3f98ca763
Merge: 76a4074 8b643c1
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 29 17:32:44 2013 +0000

    Merge "Scope certs for wifi UID and handle migration" into jb-mr2-dev

commit 618e3aafdd2f1ae60c9d6a4c47b9928517dbaa62
Author: Fabrice Di Meglio <fdimeglio@google.com>
Date:   Thu Mar 28 20:07:21 2013 -0700

    Fix bug #8505156 WiFi properties dialog is having some issues in RTL mode
    
    - title should be "viewStart"
    - link speed should be also "viewStart"
    
    Change-Id: I8d85dd8b6850f8ae4c972dad40642c33b9004dce

commit 3e7be43e2555bbdfe311dcbd9a36f7f05321a2d8
Author: Kenny Root <kroot@google.com>
Date:   Thu Mar 28 09:25:51 2013 -0700

    Add ability to install credentials as other UID
    
    We need the ability to install from the system UID to wifi UID
    to explicitly bind WiFi credentials to the WiFi profile. This adds the
    ability for Wifi Settings to invoke installation of a PKCS12 file for
    the wifi UID.
    
    Bug: 8183258
    Change-Id: I652b7e6fa93deda6d6d310be33f224e5a356c787

commit 8b643c13f97c0f304a45039b9d1fe6900940499e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 22 13:05:57 2013 -0700

    Scope certs for wifi UID and handle migration
    
    Bug: 8183303
    Change-Id: I842c9b0c0d4f2fa42a3fc5b1ac22c28e202ef188

commit bd79419ef84ae31f3765721b50aa413fa462d1d1
Author: Kenny Root <kroot@google.com>
Date:   Wed Mar 20 11:36:50 2013 -0700

    KeyStore: add "migrate" command
    
    To support the WiFi service, we need to support migration from the
    system UID to the wifi UID. This adds a command to achieve the
    migration.
    
    Bug: 8122243
    Change-Id: I65f7a91504c1d2a2aac22b9c3051adffd28d66c1

commit 076d90298a4a7b82864d3dfdda11eeafe1e7957b
Merge: 95d6cbf a7f9b4e
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Mar 1 20:49:15 2013 +0000

    am a7f9b4e9: Merge "wifi: Add checking for scan results EOB" into jb-mr2-dev
    
    * commit 'a7f9b4e909b359ae94e88ebc402156f88931088b':
      wifi: Add checking for scan results EOB

commit a7f9b4e909b359ae94e88ebc402156f88931088b
Merge: 1da8a6a bca462a
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Mar 1 20:12:53 2013 +0000

    Merge "wifi: Add checking for scan results EOB" into jb-mr2-dev

commit bca462a2dcf19c404fb445c6b4d703fea040955f
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Mar 1 09:57:58 2013 -0800

    wifi: Add checking for scan results EOB
    
    Change-Id: I969079b72fdffe1b84d88242caa6b6281d1f02b1
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 5dbde7af9ff412acc32de2ede84ca403e04409d2
Merge: 8d628f0 14b628a
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Mar 1 17:42:48 2013 +0000

    am 14b628a3: wifi: Add delimiter flag into bss scan results request
    
    * commit '14b628a3400b6c36e0604f403dd72553c6fe63c2':
      wifi: Add delimiter flag into bss scan results request

commit 14b628a3400b6c36e0604f403dd72553c6fe63c2
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Fri Mar 1 09:37:00 2013 -0800

    wifi: Add delimiter flag into bss scan results request
    
    Change-Id: I2989ef1ee884db6add0405f36b628701aa928f69
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit aded7f6486a7f8eadb3f06f24c732375fe775db4
Merge: 2973ccd be1a8cd
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed Feb 27 23:22:10 2013 +0000

    am be1a8cda: wifi: Fix scan results merge
    
    * commit 'be1a8cda3e8113d1fd3a6e56d8bc6c4f2d350423':
      wifi: Fix scan results merge

commit be1a8cda3e8113d1fd3a6e56d8bc6c4f2d350423
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Tue Feb 26 17:01:36 2013 -0800

    wifi: Fix scan results merge
    
    Change-Id: I1fd6ce9cfe2966902696f5eaf58bf97086772ed4
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 93d6a29785f8fbd3084c9171cf1d6494f375668e
Merge: 5e7accf 67b3fbf
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed Feb 27 00:36:45 2013 +0000

    am 67b3fbf4: wifi: Get full scan results
    
    * commit '67b3fbf49c0c92641e19e3278a1feab7b68aa7b8':
      wifi: Get full scan results

commit 67b3fbf49c0c92641e19e3278a1feab7b68aa7b8
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Tue Feb 26 14:47:16 2013 -0800

    wifi: Get full scan results
    
    BUG: 8236341
    
    Change-Id: Ic0b769eed6bfcdc12644bf461060d3e42ab18e86
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 6f85bdcacc99553f64f3cb137b07b2cd002172ca
Merge: 713422a b8c0e00
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Feb 21 14:15:45 2013 -0800

    am b8c0e009: Restructure wifiservice for clarity
    
    * commit 'b8c0e009a74ac2eaee8946fbe0bb3b3fe2749c9a':
      Restructure wifiservice for clarity

commit 713422afab2586bef997e2846deebd3fc4598bb2
Merge: 4636dc4 d017f35
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Feb 21 14:15:42 2013 -0800

    am d017f352: Move wifiservice into its own package
    
    * commit 'd017f3523244974a8a3fb653ed4b6d514affcc01':
      Move wifiservice into its own package

commit 8a64b1a7f4b07e71b9eb0f4a98710cb1409588bf
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 20 15:12:41 2013 -0800

    Handle airplane settings properly
    
    Fix bug dealing with airplane mode settings of whether wifi
    is sensitive to airplane mode change and whether wifi is
    allowed to override airplane mode that likely has been
    broken ever since.
    
    Bug: 8141918
    Change-Id: Ia3116c9dfce2952cbe3911e9d81dbbae0430abef

commit b8c0e009a74ac2eaee8946fbe0bb3b3fe2749c9a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 20 14:19:54 2013 -0800

    Restructure wifiservice for clarity
    
    Move seperate operation pieces into own classes
    
    Bug: 8141918
    Change-Id: Iacb15ceca5431136051e815aa71617eef89b9fe9

commit d017f3523244974a8a3fb653ed4b6d514affcc01
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 20 13:30:44 2013 -0800

    Move wifiservice into its own package
    
    Change-Id: I3ff378a29cb4dd191605b0b641147eba1f445d13

commit b815edf3aba63c2cd46f3ceb243ed13192102940
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Feb 5 09:44:12 2013 -0800

    Track keys per config and allow cert push from apps
    
    Allow configuring keys for a configuration and update/delete
    from wificonfigstore.
    
    Change-Id: I79b43bf7ca58f7efc95f7dcc125fc84d7aa8c795

commit 26d0076f0dbb021c4e5cc1b37b632b2223fd9278
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Feb 5 09:44:12 2013 -0800

    Track keys per config and allow cert push from apps
    
    Allow configuring keys for a configuration and update/delete
    from wificonfigstore.
    
    Change-Id: I79b43bf7ca58f7efc95f7dcc125fc84d7aa8c795

commit 2f1d3a6132a2804f660b87ef373461da68b0123a
Merge: ac481d1 74fbeb4
Author: Romain Guy <romainguy@google.com>
Date:   Mon Feb 4 19:08:19 2013 -0800

    am 74fbeb48: Merge "Fix graphics corruption in WiFi password dialogs"
    
    # Via Android (Google) Code Review (1) and Romain Guy (1)
    * commit '74fbeb48d6b2b34b841004317bc67884cc1eb5d0':
      Fix graphics corruption in WiFi password dialogs

commit 74fbeb48d6b2b34b841004317bc67884cc1eb5d0
Merge: 69ced73 15a4620
Author: Romain Guy <romainguy@google.com>
Date:   Tue Feb 5 03:05:17 2013 +0000

    Merge "Fix graphics corruption in WiFi password dialogs"

commit 15a4620b18412d81c1f9102cfc85777dece41a8b
Author: Romain Guy <romainguy@google.com>
Date:   Mon Feb 4 18:49:38 2013 -0800

    Fix graphics corruption in WiFi password dialogs
    
    The ActionBarContextView popup window was set to use the "layout in screen"
    and "inset decor" flags even though it's not a fullscreen window. This was
    causing the popup window to be created by taking up all the available space.
    Because the views inside the popup window are wrap_content, this would cause
    part of the window to not be drawn and since the window is, correctly,
    marked opaque, we would get random graphics corruption on screen (the user
    would see the content of the tiles on a tiled renderer such as QCOM's.)
    
    This change simply removes the two unnecessary flags from the popup window,
    forcing it to be created and laid out at the exact size it needs. It will
    be properly positioned by the window manager underneath the status bar.
    An interesting side effect is that the window is now smaller than before
    (since it doesn't extend underneath the status bar) which saves a bit of
    memory.
    
    The popup window also contains an unncessary black background behind the
    action bar context view. This helps in a way because it allows us to
    create an opaque window but it increases the required bandwidth to draw
    that window. Given the benefits for SF it's probably best we keep the
    window the way it is for now.
    
    Change-Id: I4aeeb42a6232ff6b71811e766846d45635eb3365

commit 4ec772af967932e7ec0b9ffb1c5c522787675a5e
Merge: 199a2b5 c5401d4
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 19:05:22 2013 -0800

    am c5401d44: am 63d25816: am 599f9611: am f3ef10b1: am 2297d1e7: Merge "Fix WiFi test:" into jb-mr1.1-dev
    
    # Via Android Git Automerger (4) and others
    * commit 'c5401d4451dfb5edb627a35c1d3ad90cbcef77a1':
      Fix WiFi test:

commit c5401d4451dfb5edb627a35c1d3ad90cbcef77a1
Merge: ed1ad7f 63d2581
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 19:03:39 2013 -0800

    am 63d25816: am 599f9611: am f3ef10b1: am 2297d1e7: Merge "Fix WiFi test:" into jb-mr1.1-dev
    
    # Via Android Git Automerger (3) and others
    * commit '63d258167637309c0c85725ecc9112a88bf57824':
      Fix WiFi test:

commit 63d258167637309c0c85725ecc9112a88bf57824
Merge: 781bcd6 599f961
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 19:01:14 2013 -0800

    am 599f9611: am f3ef10b1: am 2297d1e7: Merge "Fix WiFi test:" into jb-mr1.1-dev
    
    # Via Android Git Automerger (2) and others
    * commit '599f9611aab587d13b4d7bac94fc628c675591a1':
      Fix WiFi test:

commit 599f9611aab587d13b4d7bac94fc628c675591a1
Merge: b616f0c f3ef10b
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 18:59:22 2013 -0800

    am f3ef10b1: am 2297d1e7: Merge "Fix WiFi test:" into jb-mr1.1-dev
    
    # Via Android (Google) Code Review (1) and others
    * commit 'f3ef10b12b61891962eb6253e95c8c9eec82d383':
      Fix WiFi test:

commit f3ef10b12b61891962eb6253e95c8c9eec82d383
Merge: 17f0549 2297d1e
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 18:57:50 2013 -0800

    am 2297d1e7: Merge "Fix WiFi test:" into jb-mr1.1-dev
    
    # Via Android (Google) Code Review (1) and Xia Wang (1)
    * commit '2297d1e78cc70d4e19d9e7c66d24fc494455166c':
      Fix WiFi test:

commit 2297d1e78cc70d4e19d9e7c66d24fc494455166c
Merge: c246950 f2991ad
Author: Xia Wang <xiaw@google.com>
Date:   Thu Jan 31 02:54:55 2013 +0000

    Merge "Fix WiFi test:" into jb-mr1.1-dev

commit f2991add02f3e6f50dd65a835fffec3aa7221769
Author: Xia Wang <xiaw@google.com>
Date:   Wed Jan 30 15:02:21 2013 -0800

    Fix WiFi test:
    
     -- In environment where there are too many APs, sometimes, the AP will not show in the scan list.
        Part of the reason is due to the change that the scanning on each frequency is shortened to save power.
        to avoid that, change the test to connect without scanning.
    
     -- Increase the timer to wait for WiFi to be connected
    
    Change-Id: If1a72607b3c7ad13dbbf788607665986eaf5b6b3

commit 28a068e0bd06c9baff580f28b60dfafeb80d3c47
Merge: 668f9c1 e6a6d83
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Jan 28 08:21:23 2013 -0800

    am e6a6d838: am be3d6457: am a56711a0: am 169dc398: Merge "Remove config_wifi_p2p_support from config.xml."
    
    # By Yoshihiko Ikenaga
    # Via Android Git Automerger (3) and others
    * commit 'e6a6d83845d40526cab2d91d0c92b32d4267f5e1':
      Remove config_wifi_p2p_support from config.xml.

commit e6a6d83845d40526cab2d91d0c92b32d4267f5e1
Merge: 572ec70 be3d645
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Jan 28 08:18:26 2013 -0800

    am be3d6457: am a56711a0: am 169dc398: Merge "Remove config_wifi_p2p_support from config.xml."
    
    # By Yoshihiko Ikenaga
    # Via Android Git Automerger (2) and others
    * commit 'be3d6457984cbb3c39ab0741fe8cb721a98139c3':
      Remove config_wifi_p2p_support from config.xml.

commit be3d6457984cbb3c39ab0741fe8cb721a98139c3
Merge: a647281 a56711a
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Jan 28 08:16:23 2013 -0800

    am a56711a0: am 169dc398: Merge "Remove config_wifi_p2p_support from config.xml."
    
    # By Yoshihiko Ikenaga
    # Via Android Git Automerger (1) and others
    * commit 'a56711a04618bbdcdaecf15e1815a5618e6b4737':
      Remove config_wifi_p2p_support from config.xml.

commit a56711a04618bbdcdaecf15e1815a5618e6b4737
Merge: 2e99d3c 169dc39
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Jan 28 08:13:42 2013 -0800

    am 169dc398: Merge "Remove config_wifi_p2p_support from config.xml."
    
    # By Yoshihiko Ikenaga
    # Via Gerrit Code Review (1) and Yoshihiko Ikenaga (1)
    * commit '169dc398ed946edae6fffa997e92871b711561d6':
      Remove config_wifi_p2p_support from config.xml.

commit 169dc398ed946edae6fffa997e92871b711561d6
Merge: ebb61ca 8879343
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Jan 28 16:01:43 2013 +0000

    Merge "Remove config_wifi_p2p_support from config.xml."

commit 8879343c26e94fc3a8ab4cf93613d66f2e4e829f
Author: Yoshihiko Ikenaga <yoshihiko.ikenaga@jp.sony.com>
Date:   Fri Jan 25 11:35:33 2013 +0900

    Remove config_wifi_p2p_support from config.xml.
    
    "config_wifi_p2p_support" is no longer used.
    It was replaced with PackageManager.FEATURE_WIFI_DIRECT.
    
    Change-Id: Ib57c5246b2ad218e65b4cbbb77fd37c04b5d9682
    Signed-off-by: Yoshihiko Ikenaga <yoshihiko.ikenaga@jp.sony.com>

commit e6f2f6cffdb7d2f8ce32ac6a9cb6884624106907
Merge: 2fd2fe3 33185d4
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 21:26:11 2012 -0700

    am 33185d4f: am f1e32af5: am c86e8dff: Merge "Fix WiFi stress test" into jb-mr1-dev
    
    * commit '33185d4f68b533e1289d1dcc1d88e43fe8462450':
      Fix WiFi stress test

commit 33185d4f68b533e1289d1dcc1d88e43fe8462450
Merge: 345c0fa f1e32af
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 21:23:31 2012 -0700

    am f1e32af5: am c86e8dff: Merge "Fix WiFi stress test" into jb-mr1-dev
    
    * commit 'f1e32af5ae629a1a0f73ee12aa6390ea9e527d32':
      Fix WiFi stress test

commit f1e32af5ae629a1a0f73ee12aa6390ea9e527d32
Merge: 40d9021 c86e8df
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 21:20:38 2012 -0700

    am c86e8dff: Merge "Fix WiFi stress test" into jb-mr1-dev
    
    * commit 'c86e8dffd04804f7f975c80325bc3ae70e7e972a':
      Fix WiFi stress test

commit d0fb412cda7ee8182dd4bdef5d2522102dc92fe6
Merge: 9986b2d c86e8df
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 21:20:33 2012 -0700

    am c86e8dff: Merge "Fix WiFi stress test" into jb-mr1-dev
    
    * commit 'c86e8dffd04804f7f975c80325bc3ae70e7e972a':
      Fix WiFi stress test

commit c86e8dffd04804f7f975c80325bc3ae70e7e972a
Merge: c8dc8eb b2a2096
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 21:18:28 2012 -0700

    Merge "Fix WiFi stress test" into jb-mr1-dev

commit b2a2096903342a9eaba0b8f64f0f549e5277b662
Author: Xia Wang <xiaw@google.com>
Date:   Wed Oct 31 16:53:26 2012 -0700

    Fix WiFi stress test
    
     - Disable lock screen after screen is turned on.
       Without disabling lock screen, device will screen off automatically after around 10 seconds
    
     - Add a longer timer for ping test when the data traffic is stalled.
       For a short ping test, it is hard to tell whether it is a transient issue or a real issue.
    
       bug# 7426823
    
    Change-Id: If1a560e11dcdff519562bb2a22651d1fd523b5a2

commit 7bbf8163fb83afc54b353a8def52bfb87ecce047
Author: Jamie Gennis <jgennis@google.com>
Date:   Fri Oct 19 18:29:29 2012 -0700

    Set the secureness when creating displays
    
    This change makes use of the new 'secure' argument to the
    ISurfaceComposer::createDisplay method.  In this change both the overlay and
    wifi displays are hard-coded to be non-secure displays.
    
    Bug: 7368436
    Change-Id: Ib65312f2adab5104d8deefbfc32af9dc106a9129

commit f991659c114a4a41908f8ae10054e7fbfc08fb51
Merge: d8a9073 e2c0feb
Author: Justin Koh <justinkoh@google.com>
Date:   Fri Oct 19 10:19:00 2012 -0700

    am e2c0feb5: am 75c61d83: Merge "Add appliance mode handling for WiFi Direct invitation dialog." into jb-mr1-aah-dev
    
    * commit 'e2c0feb53651cd943c91a8649ffec61efb2ae4fa':
      Add appliance mode handling for WiFi Direct invitation dialog.

commit e2c0feb53651cd943c91a8649ffec61efb2ae4fa
Merge: 59a9cc1 75c61d8
Author: Justin Koh <justinkoh@google.com>
Date:   Fri Oct 19 10:17:13 2012 -0700

    am 75c61d83: Merge "Add appliance mode handling for WiFi Direct invitation dialog." into jb-mr1-aah-dev
    
    * commit '75c61d83bffcbbf9b0518cb034e078b640e2095f':
      Add appliance mode handling for WiFi Direct invitation dialog.

commit 75c61d83bffcbbf9b0518cb034e078b640e2095f
Merge: 444354d 8f38f3c
Author: Justin Koh <justinkoh@google.com>
Date:   Fri Oct 19 10:13:34 2012 -0700

    Merge "Add appliance mode handling for WiFi Direct invitation dialog." into jb-mr1-aah-dev

commit 8f38f3c8d5283962c99dc63f8efc5fc2bb024641
Author: Justin Koh <justinkoh@google.com>
Date:   Wed Oct 17 11:33:15 2012 -0700

    Add appliance mode handling for WiFi Direct invitation dialog.
    
    Add appliance mode handling for WiFi Direct invitation dialog. Otherwise, no
    way to accept connections.
    
    Change-Id: Ic31b5bb25fed02848cf7c9e6418e21e9ab8b0cdd

commit 9f452d0b5ccad77fb6acfd1b20d5f77c9f425d22
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Oct 15 12:00:29 2012 -0700

    Frequency conflict handling
    
    We now show a dialog to user and let him handle whether to choose wifi
    or p2p when there is a frequency conflict.
    
    If user chooses to disable wifi tempoarily, we disconnect wifi until
    p2p connection is established and removed.
    
    Bug: 6590401
    Change-Id: I73871ddcb3732ae61997d8771b6aa90ad56270af

commit edba852930bd2e9ab41f74f340595dafe500c756
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Oct 16 18:10:38 2012 -0700

    Handle null BSSID
    
    The root cause of why bssid needs investigation, but for now,
    we can avoid crashing wifiwatchdog.
    
    When bssid is null, just treat it as a good link.
    
    Bug: 7357232
    Change-Id: I080dfc990f3412646976cdc6ef75112ab093d326

commit bf375dce9ee0c9601c0127c59c110a1ffc99f760
Merge: 4c870b6 006f6df
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 15 20:22:25 2012 -0700

    am 006f6dfc: am 4eaba60f: am df409231: Merge "Update wifi display device name when renamed." into jb-mr1-dev
    
    * commit '006f6dfc4cc1c2ad08e6bfad16d3463bca7a9933':
      Update wifi display device name when renamed.

commit 006f6dfc4cc1c2ad08e6bfad16d3463bca7a9933
Merge: 0b450a7 4eaba60
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 15 20:18:47 2012 -0700

    am 4eaba60f: am df409231: Merge "Update wifi display device name when renamed." into jb-mr1-dev
    
    * commit '4eaba60fff4a91cc883b27cfcfb9b241ddee218f':
      Update wifi display device name when renamed.

commit 4eaba60fff4a91cc883b27cfcfb9b241ddee218f
Merge: 4a533ef df40923
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 15 17:23:39 2012 -0700

    am df409231: Merge "Update wifi display device name when renamed." into jb-mr1-dev
    
    * commit 'df409231a75c8b2ae976af66c0baec99b280aa33':
      Update wifi display device name when renamed.

commit df409231a75c8b2ae976af66c0baec99b280aa33
Merge: 25160a6 ee4f029
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 15 17:21:20 2012 -0700

    Merge "Update wifi display device name when renamed." into jb-mr1-dev

commit ee4f029ff4905abbdbc1ce47db2cf2c3510949e9
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 15 15:31:59 2012 -0700

    Update wifi display device name when renamed.
    
    Bug: 7340725
    Change-Id: Ia3835a37fa3800371920f863b82f992efe764664

commit ba09cb8c187f171c21f685c1ab9f96b1cca84e3d
Merge: 2ca3ae1 5fb80c6
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:18:15 2012 -0700

    am 5fb80c6e: am d44525dc: am b30a8568: Merge "Defer wifi bounce following restore for 1 minute..." into jb-mr1-dev
    
    * commit '5fb80c6ee5fa9a42bc6141383216673a7247edd8':
      Defer wifi bounce following restore for 1 minute...

commit 5fb80c6ee5fa9a42bc6141383216673a7247edd8
Merge: fcd4db9 d44525d
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:14:33 2012 -0700

    am d44525dc: am b30a8568: Merge "Defer wifi bounce following restore for 1 minute..." into jb-mr1-dev
    
    * commit 'd44525dcd33babbb0f4e38c4a274a233283d64e0':
      Defer wifi bounce following restore for 1 minute...

commit d44525dcd33babbb0f4e38c4a274a233283d64e0
Merge: 711b4fc b30a856
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:09:39 2012 -0700

    am b30a8568: Merge "Defer wifi bounce following restore for 1 minute..." into jb-mr1-dev
    
    * commit 'b30a8568a8b31578b10af948869558ae218d0d5c':
      Defer wifi bounce following restore for 1 minute...

commit cf32f96620b67a8209de5d84502c5e9397a4552b
Merge: cde5343 fcd4db9
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:07:47 2012 -0700

    am fcd4db9b: am 711b4fca: am c9c47f82: Merge "Back up / restore the "Avoid poor connections" wifi setting" into jb-mr1-dev
    
    * commit 'fcd4db9b8174b40a76f77bea73011c6470772465':
      Back up / restore the "Avoid poor connections" wifi setting

commit fcd4db9b8174b40a76f77bea73011c6470772465
Merge: 921d445 711b4fc
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:05:25 2012 -0700

    am 711b4fca: am c9c47f82: Merge "Back up / restore the "Avoid poor connections" wifi setting" into jb-mr1-dev
    
    * commit '711b4fcadda2948b73e97f4ff3dc3e96b5316499':
      Back up / restore the "Avoid poor connections" wifi setting

commit b30a8568a8b31578b10af948869558ae218d0d5c
Merge: c9c47f8 d488bc0
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:05:03 2012 -0700

    Merge "Defer wifi bounce following restore for 1 minute..." into jb-mr1-dev

commit 711b4fcadda2948b73e97f4ff3dc3e96b5316499
Merge: e8b90ef c9c47f8
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 16:01:59 2012 -0700

    am c9c47f82: Merge "Back up / restore the "Avoid poor connections" wifi setting" into jb-mr1-dev
    
    * commit 'c9c47f821af22c6fae4c97fe185c6a651a6f9b67':
      Back up / restore the "Avoid poor connections" wifi setting

commit c9c47f821af22c6fae4c97fe185c6a651a6f9b67
Merge: a8a6b08 16eb7cd
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 15:57:06 2012 -0700

    Merge "Back up / restore the "Avoid poor connections" wifi setting" into jb-mr1-dev

commit 16eb7cd4570ca884c03151c4f9e7e32a5f8e4d94
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 15:26:30 2012 -0700

    Back up / restore the "Avoid poor connections" wifi setting
    
    Bug 7318177
    
    Change-Id: I8fdc037f823b8c57727e7d49c5bffdc9b3c10ebb

commit d488bc0ef494718e82a77b2e9433c2480e7383b0
Author: Christopher Tate <ctate@google.com>
Date:   Tue Oct 9 14:06:30 2012 -0700

    Defer wifi bounce following restore for 1 minute...
    
    ...to allow network-reliant restore actions by apps to get underway.
    
    Bug 7304761
    
    Change-Id: Ia1d2321ef86609588efbc7add043c24a12ec6a20

commit 19a8d0a32b9afd115066c12001719ca7564f292b
Merge: c30a8ea 2624f57
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 8 21:27:26 2012 -0700

    am 2624f57d: am 6cccadfb: am 434f8172: Merge "Don\'t do a wifi p2p scan in MediaRouter if we\'re already connected" into jb-mr1-dev
    
    * commit '2624f57d9b6f79496c9f5e1b5928c91fea52eecb':
      Don't do a wifi p2p scan in MediaRouter if we're already connected

commit 2624f57d9b6f79496c9f5e1b5928c91fea52eecb
Merge: 517ec2a 6cccadf
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 8 21:25:34 2012 -0700

    am 6cccadfb: am 434f8172: Merge "Don\'t do a wifi p2p scan in MediaRouter if we\'re already connected" into jb-mr1-dev
    
    * commit '6cccadfb43283ff3630e49e939c98c92c136e7ec':
      Don't do a wifi p2p scan in MediaRouter if we're already connected

commit 6cccadfb43283ff3630e49e939c98c92c136e7ec
Merge: 66a65f9 434f817
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 8 21:23:28 2012 -0700

    am 434f8172: Merge "Don\'t do a wifi p2p scan in MediaRouter if we\'re already connected" into jb-mr1-dev
    
    * commit '434f8172332f0abf02499f33846c6042ed628b0c':
      Don't do a wifi p2p scan in MediaRouter if we're already connected

commit 434f8172332f0abf02499f33846c6042ed628b0c
Merge: eb7f157 b072a96
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 8 21:20:20 2012 -0700

    Merge "Don't do a wifi p2p scan in MediaRouter if we're already connected" into jb-mr1-dev

commit b072a9686c29bfbc05b732076a4e89bcca8db08a
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 8 20:54:55 2012 -0700

    Don't do a wifi p2p scan in MediaRouter if we're already connected
    
    When we're connected to a wifi display already, some configurations
    might hiccup or otherwise disrupt the media stream if we initiate a
    new scan. Block the MediaRouter's default scanning behavior if we
    start up while already connected to a wifi display. (A scan will still
    occur if the user opens the picker dialog.)
    
    Change-Id: I413efa883eec41fe0377da18bcb55bc72e2ac729

commit 5067685ccf6c294a77a3e7f0577190600a0e6238
Author: Christopher Tate <ctate@google.com>
Date:   Thu Oct 4 19:10:11 2012 -0700

    Settings (and general) restore fixes
    
    Pro tem, we ignore wifi configuration data when restoring system settings.
    This is not ideal, but it *does* mean we do not bounce wifi off and on
    again during the extended restore process, which in turn means we don't
    interfere with things like the Play Store's download of applications.
    We do continue to back up wifi configuration, and will start using that
    data again when the new implementation that restores AP configurations
    without having to bounce wifi comes to pass.
    
    Also, this CL fixes a longstanding bug in BackupDataInput.skipEntityData()
    that was being reproduced reliably once settings restore was skipping
    the wifi-related entities in the restore stream.
    
    Bug 7249405
    
    Change-Id: I61520a9a116b66ebdf95734d09d9afd46406df01

commit 11b999d0aaca72a33526795b6849b473cc3dd569
Author: Adam Powell <adamp@google.com>
Date:   Thu Oct 4 16:26:53 2012 -0700

    MediaRouter/Wireless Display - correct initial state
    
    Make sure we get the right initial status for wifi displays when a new
    display route is first added to the MediaRouter.
    
    Bug 7289746
    
    Change-Id: Id41f704fc88021bd4cdf21e9f4b3c810775e1aea

commit 08970499ae50c1dcdb0fc4e54615e24f2fcf67d9
Merge: 0a6bd1c 91490e9
Author: Chris Wren <cwren@android.com>
Date:   Wed Oct 3 14:05:07 2012 -0700

    am 91490e93: am 04a3e809: am 4b576e39: Merge "change string for wifi not connected state." into jb-mr1-dev
    
    * commit '91490e933629b32d43c8bb512ab404e361f61bba':
      change string for wifi not connected state.

commit 91490e933629b32d43c8bb512ab404e361f61bba
Merge: 44b7fc3 04a3e80
Author: Chris Wren <cwren@android.com>
Date:   Wed Oct 3 13:53:54 2012 -0700

    am 04a3e809: am 4b576e39: Merge "change string for wifi not connected state." into jb-mr1-dev
    
    * commit '04a3e8090ac69a606bb9c6102bcd793e59625443':
      change string for wifi not connected state.

commit 04a3e8090ac69a606bb9c6102bcd793e59625443
Merge: a18d735 4b576e3
Author: Chris Wren <cwren@android.com>
Date:   Wed Oct 3 12:21:46 2012 -0700

    am 4b576e39: Merge "change string for wifi not connected state." into jb-mr1-dev
    
    * commit '4b576e39f0ae8fb595843a6e442e39ca90dad51a':
      change string for wifi not connected state.

commit 4b576e39f0ae8fb595843a6e442e39ca90dad51a
Merge: 4fc3fb4 daab6af
Author: Chris Wren <cwren@android.com>
Date:   Wed Oct 3 12:19:32 2012 -0700

    Merge "change string for wifi not connected state." into jb-mr1-dev

commit daab6af91d4e0f7bd13679f01a982dbe57c88bf0
Author: Chris Wren <cwren@android.com>
Date:   Wed Oct 3 15:13:10 2012 -0400

    change string for wifi not connected state.
    
    Bug: 7217026
    Change-Id: I8b593b85fe32f37880ee1a0b3ef869b36e80ba5b

commit 77aebfdbae489c3712ae3f9bca29d01fb1f09dc2
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Oct 1 21:07:03 2012 -0700

    Add new Display API for secure video capabilities.
    
    Added a new API to determine whether the display supports
    protected buffers so that an application can choose a different
    content stream or change how it decodes the content so
    that it will be viewable on the display.
    
    At present, wifi display does not fully support protected
    buffers although this may be enhanced in the future.
    
    Bug: 6986623
    Change-Id: If53a53d72b0ec92753cc4b29f99fcb131e00449b

commit 7a4e3898f18dc88cac363e9e20bae73ee48892de
Merge: 52fff79 5864396
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 1 13:47:32 2012 -0700

    am 58643967: am 21a80ff4: am c56e5600: Merge "Construct a task stack for picking a wifi network from notification" into jb-mr1-dev
    
    * commit '586439676fdec80d5e0c6151fc17bb52be5cc6b0':
      Construct a task stack for picking a wifi network from notification

commit 586439676fdec80d5e0c6151fc17bb52be5cc6b0
Merge: 3c367cd 21a80ff
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 1 10:36:48 2012 -0700

    am 21a80ff4: am c56e5600: Merge "Construct a task stack for picking a wifi network from notification" into jb-mr1-dev
    
    * commit '21a80ff4d1a557d8e33f86a218d204c0093fefc7':
      Construct a task stack for picking a wifi network from notification

commit 21a80ff4d1a557d8e33f86a218d204c0093fefc7
Merge: 0cfda91 c56e560
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 1 10:34:59 2012 -0700

    am c56e5600: Merge "Construct a task stack for picking a wifi network from notification" into jb-mr1-dev
    
    * commit 'c56e5600501a5c376dc13e6a99fcec7782fc8718':
      Construct a task stack for picking a wifi network from notification

commit c56e5600501a5c376dc13e6a99fcec7782fc8718
Merge: bfbf6e1 d56b4d1
Author: Adam Powell <adamp@google.com>
Date:   Mon Oct 1 10:32:34 2012 -0700

    Merge "Construct a task stack for picking a wifi network from notification" into jb-mr1-dev

commit d56b4d1db34bd6928f599e7e9a7321c2a81cb995
Author: Adam Powell <adamp@google.com>
Date:   Sun Sep 30 18:27:31 2012 -0700

    Construct a task stack for picking a wifi network from notification
    
    Bug 7001327
    
    Change-Id: I5a79e6933cd33386cd0aa4df626f15902deedd67

commit 17d9f6753aa7a00af425fec2305ece5f8b367794
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Sep 30 16:25:50 2012 -0700

    Make rssi state change sticky
    
    NetworkController misses the rssi state at boot. It gets the wifi
    connection status because it is sticky. The rssi state will remain
    out of sync until the wifi state machine sends another update which may
    not happen if rssi does not change significantly.
    
    Make rssi sticky as well to make sure NetworkController has the last known
    signal strength on wifi.
    
    Bug: 6916156
    Change-Id: Id7dd621c6dbc35d7354757c61aa18a3b1ba90593

commit dcb183774963f826a98e56384c0c54f24c671c95
Merge: 3201f2d df8b777
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Fri Sep 28 00:32:46 2012 -0700

    am df8b777d: (-s ours) Reconcile with jb-mr1-release - do not merge
    
    * commit 'df8b777d260e0801f98dc46dfe728a1f7548f144':
      ScaleGestureDetector bugfixes
      Reverting public setSoWriteTimeout
      Fix Wifi Stress test after wifi settings are moved to Settings.global
      Assign default texture id of 0

commit 75d4ab1c88bb7e0772cbf24c066e3bd0fb11881c
Merge: 1028bcd c8ce675
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 26 20:25:33 2012 -0700

    am c8ce6750: am 7bb89cf1: Merge changes I2c09abaa,I9d8406e1 into jb-mr1-dev
    
    * commit 'c8ce675003aa2326965fee1eb3b33ea7dec79a8e':
      Cure narcolepsy.
      Allow applications to connect to known wifi displays.

commit 4ff4f4a39b4e465fa2c49631fa6f1a5e044e3267
Merge: 03d28b5 7bb89cf
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 26 20:23:13 2012 -0700

    am 7bb89cf1: Merge changes I2c09abaa,I9d8406e1 into jb-mr1-dev
    
    * commit '7bb89cf1632da6dc236e6603c4245301500eeb39':
      Cure narcolepsy.
      Allow applications to connect to known wifi displays.

commit c8ce675003aa2326965fee1eb3b33ea7dec79a8e
Merge: 73f7617 7bb89cf
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 26 20:22:38 2012 -0700

    am 7bb89cf1: Merge changes I2c09abaa,I9d8406e1 into jb-mr1-dev
    
    * commit '7bb89cf1632da6dc236e6603c4245301500eeb39':
      Cure narcolepsy.
      Allow applications to connect to known wifi displays.

commit 7bb89cf1632da6dc236e6603c4245301500eeb39
Merge: f21b94a f9d40f4
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 26 20:18:27 2012 -0700

    Merge changes I2c09abaa,I9d8406e1 into jb-mr1-dev
    
    * changes:
      Cure narcolepsy.
      Allow applications to connect to known wifi displays.

commit bc335457462a12434a9df6955de1dd693cdccac7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 26 18:34:47 2012 -0700

    Allow applications to connect to known wifi displays.
    
    Bug: 7177920
    Change-Id: I9d8406e1016988e2cd267dfa52d78a829f1b385e

commit e8ac0e68d1a42c588d27efcefada4b04674cee49
Merge: 1c8cd46 b39f3f4
Author: Ashish Sharma <ashishsharma@google.com>
Date:   Wed Sep 26 13:53:01 2012 -0700

    am b39f3f46: am 8b3750e2: Merge "Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global" into jb-mr1-dev
    
    * commit 'b39f3f4696bf473d986ecc45461754beec931174':
      Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global

commit ec20564fb32c038f059c532b89de45ad8f766e9a
Merge: 39bd0ce 8b3750e
Author: Ashish Sharma <ashishsharma@google.com>
Date:   Wed Sep 26 13:51:27 2012 -0700

    am 8b3750e2: Merge "Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global" into jb-mr1-dev
    
    * commit '8b3750e2ce6a4627df751eb239b7b75d390149cc':
      Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global

commit b39f3f4696bf473d986ecc45461754beec931174
Merge: 83b6c24 8b3750e
Author: Ashish Sharma <ashishsharma@google.com>
Date:   Wed Sep 26 13:51:09 2012 -0700

    am 8b3750e2: Merge "Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global" into jb-mr1-dev
    
    * commit '8b3750e2ce6a4627df751eb239b7b75d390149cc':
      Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global

commit 8b3750e2ce6a4627df751eb239b7b75d390149cc
Merge: 54ea6bf 404479a
Author: Ashish Sharma <ashishsharma@google.com>
Date:   Wed Sep 26 13:49:28 2012 -0700

    Merge "Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global" into jb-mr1-dev

commit 404479a98c444e7f47783891e799978a3802a666
Author: Ashish Sharma <ashishsharma@google.com>
Date:   Wed Sep 26 11:33:50 2012 -0700

    Migrate DATA_ACTIVITY_TIMEOUT_MOBILE/WIFI from Settings.Secure to Settings.Global
    
    Bug: 7189605
    Change-Id: Id54b8d490d7849bf071c3fbfd8f7358ed873a4e8

commit 9faab4fb7a2ce2b96c86d2a74f1eb4744f8fb97c
Author: Xia Wang <xiaw@google.com>
Date:   Tue Sep 25 22:32:36 2012 -0700

    Fix Wifi Stress test after wifi settings are moved to Settings.global
    
    Change-Id: I823e99b39bc340683b686bb0dd43a473865656f0

commit 3d3eac7beef4218005389f3b34765c37c3c2a13b
Merge: 47a3989 68c3774
Author: Xia Wang <xiaw@google.com>
Date:   Wed Sep 26 12:02:44 2012 -0700

    am 68c37742: am b4510e3c: Merge "Fix Wifi Stress test after wifi settings are moved to Settings.global" into jb-mr1-dev
    
    * commit '68c37742cfdff42b9df4fbd6bbe3d75a0381ce56':
      Fix Wifi Stress test after wifi settings are moved to Settings.global

commit 68c37742cfdff42b9df4fbd6bbe3d75a0381ce56
Merge: 56d86e5 b4510e3
Author: Xia Wang <xiaw@google.com>
Date:   Wed Sep 26 12:00:58 2012 -0700

    am b4510e3c: Merge "Fix Wifi Stress test after wifi settings are moved to Settings.global" into jb-mr1-dev
    
    * commit 'b4510e3c6dc645753533cd3b2e17e99de41480b4':
      Fix Wifi Stress test after wifi settings are moved to Settings.global

commit 9a3fdfbcdf4729c7ac0609e13dc61c80b4844ace
Merge: 69b05e7 b4510e3
Author: Xia Wang <xiaw@google.com>
Date:   Wed Sep 26 12:00:44 2012 -0700

    am b4510e3c: Merge "Fix Wifi Stress test after wifi settings are moved to Settings.global" into jb-mr1-dev
    
    * commit 'b4510e3c6dc645753533cd3b2e17e99de41480b4':
      Fix Wifi Stress test after wifi settings are moved to Settings.global

commit b4510e3c6dc645753533cd3b2e17e99de41480b4
Merge: 4368ba4 3272a38
Author: Xia Wang <xiaw@google.com>
Date:   Wed Sep 26 11:58:58 2012 -0700

    Merge "Fix Wifi Stress test after wifi settings are moved to Settings.global" into jb-mr1-dev

commit 3272a38dbc5fdf2d68b653592a244059cd29255a
Author: Xia Wang <xiaw@google.com>
Date:   Tue Sep 25 22:32:36 2012 -0700

    Fix Wifi Stress test after wifi settings are moved to Settings.global
    
    Change-Id: I823e99b39bc340683b686bb0dd43a473865656f0

commit 51a28cdbe06068d7d0e4be8ba571f009becf46c9
Merge: cbd06b6 052ec5c
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 25 23:51:15 2012 -0700

    am 052ec5cd: am ca68f4a3: Merge "Remove WifiStateTracker code tracking wifi p2p" into jb-mr1-dev
    
    * commit '052ec5cdffb8b8586d4da6e4d405bac10323b900':
      Remove WifiStateTracker code tracking wifi p2p

commit 052ec5cdffb8b8586d4da6e4d405bac10323b900
Merge: 20dc79c ca68f4a
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 25 23:33:03 2012 -0700

    am ca68f4a3: Merge "Remove WifiStateTracker code tracking wifi p2p" into jb-mr1-dev
    
    * commit 'ca68f4a32f7712876cad59ceff768c37c334214c':
      Remove WifiStateTracker code tracking wifi p2p

commit 75fc1b4985c6c5602a05736c56f5f4524e1893aa
Merge: 8562887a ca68f4a
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 25 23:32:33 2012 -0700

    am ca68f4a3: Merge "Remove WifiStateTracker code tracking wifi p2p" into jb-mr1-dev
    
    * commit 'ca68f4a32f7712876cad59ceff768c37c334214c':
      Remove WifiStateTracker code tracking wifi p2p

commit ca68f4a32f7712876cad59ceff768c37c334214c
Merge: 17ef62c 0f08b81
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 25 23:30:48 2012 -0700

    Merge "Remove WifiStateTracker code tracking wifi p2p" into jb-mr1-dev

commit 0f08b813bb0f14f00cf167eeb49b5eea8f3b4f0f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 25 23:02:47 2012 -0700

    Remove WifiStateTracker code tracking wifi p2p
    
    This code was never supposed to have been there. It just remained
    from an old implementation and actually results in
    CS getting the wrong network info when both wifi and p2p are connected
    
    Exposing p2p network type to CS needs to be done differently.
    
    Bug: 7233984
    Change-Id: I84a6091b8236cf5bdfcef3e7f626163d629e372d

commit f465b72cd48a79feaf90ecf48bd000549566f488
Author: Winson Chung <winsonc@google.com>
Date:   Mon Sep 24 16:47:46 2012 -0700

    Fixing various QS issues. (Bug 7216908, Bug 7217154)
    
    - Making distinction between wifi not connected and unavailable
    - Removing periods from carrier names
    - Updating airplane mode icons
    
    Change-Id: I8a629f07375faaa34a1b5ebeb307605f12f75173

commit 876576b14f993fbe18f190f411528e6b11467bdc
Merge: fffe651 ecfc9ca
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Tue Sep 25 12:48:13 2012 -0700

    am ecfc9ca5: Merge into jb-mr1-dev
    
    * commit 'ecfc9ca5f5233ad2eb6921c05250b8b3ebbc4c58':
      Use global wifi_sleep_policy constants

commit 8ef71b411684510ee55f3990810a4dac8da36f29
Merge: 76ed3da ecfc9ca
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Tue Sep 25 12:30:00 2012 -0700

    am ecfc9ca5: Merge into jb-mr1-dev
    
    * commit 'ecfc9ca5f5233ad2eb6921c05250b8b3ebbc4c58':
      Use global wifi_sleep_policy constants

commit f4b5ab193c95675c07b8e361846d21d79571da0e
Author: Winson Chung <winsonc@google.com>
Date:   Mon Sep 24 16:47:46 2012 -0700

    Fixing various QS issues. (Bug 7216908, Bug 7217154)
    
    - Making distinction between wifi not connected and unavailable
    - Removing periods from carrier names
    - Updating airplane mode icons
    
    Change-Id: I8a629f07375faaa34a1b5ebeb307605f12f75173

commit 1c87a074d7bdb3cd0ce0eca80a9645dd1503b2b8
Merge: e41633f 2a78c33
Author: Brian Muramatsu <btmura@google.com>
Date:   Mon Sep 24 18:44:09 2012 -0700

    am 2a78c336: am 7cf3bbc4: Merge "Use global wifi_sleep_policy constants" into jb-mr1-dev
    
    * commit '2a78c336eef813379f83d6e84e84f2c447d828be':
      Use global wifi_sleep_policy constants

commit 2a78c336eef813379f83d6e84e84f2c447d828be
Merge: 2ca11f5 7cf3bbc
Author: Brian Muramatsu <btmura@google.com>
Date:   Mon Sep 24 18:42:04 2012 -0700

    am 7cf3bbc4: Merge "Use global wifi_sleep_policy constants" into jb-mr1-dev
    
    * commit '7cf3bbc4c0af6f3f4e92c51bb2c5e65cd1a499d1':
      Use global wifi_sleep_policy constants

commit 7cf3bbc4c0af6f3f4e92c51bb2c5e65cd1a499d1
Merge: d7ae127 35d323a
Author: Brian Muramatsu <btmura@google.com>
Date:   Mon Sep 24 18:39:18 2012 -0700

    Merge "Use global wifi_sleep_policy constants" into jb-mr1-dev

commit cb49aba2ff1146e56d0849787ba234f3a89fad73
Merge: b06fc58 e8910d3
Author: Winson Chung <winsonc@google.com>
Date:   Mon Sep 24 00:48:42 2012 -0700

    am e8910d3b: am 3ed6f945: Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)
    
    * commit 'e8910d3b782411568aed452c58ac301242ab9009':
      Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)

commit 2c2ca5cb7c083cd53dee00e71af99d1abf931976
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Sep 23 17:30:19 2012 -0700

    Increase WFD connect time out to 60s
    
    The worst case WPS timeout for GO negotiation is two minutes.
    Until, we better handle cancelling/disconnecting and re-syncing the
    WFD framework with the wifi direct framework/supplicant, increase
    the time out to 60s to help with dogfood
    
    Bug: 7217600
    Change-Id: I1ba0d9963b957454e2c6f47bfdf05176dea07be7

commit 3e3b3f17baa2a801309500a3efaa46cedf0b7f47
Merge: a132665 3ed6f94
Author: Winson Chung <winsonc@google.com>
Date:   Fri Sep 21 17:47:31 2012 -0700

    am 3ed6f945: Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)
    
    * commit '3ed6f9456a60cb3a2cf4166a7fa19e30b9bbd972':
      Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)

commit 76a678e802a52c844029c9a1cb344d8d455bdf6b
Merge: cea904c ddfaa3f
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 21 13:34:40 2012 -0700

    am ddfaa3f5: Merge "Provide a debugging option to force enable wifi display." into jb-mr1-dev
    
    * commit 'ddfaa3f55638db2e3d7c9928b605c2e6b90facae':
      Provide a debugging option to force enable wifi display.

commit 917fc95cac6d3eb3e8ee640d0e72eba89a1a9c8a
Merge: 534a076 314488b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 21 13:32:22 2012 -0700

    am 314488b7: Merge "Captive check for both mobile and wifi" into jb-mr1-dev
    
    * commit '314488b791d36756504ee593f818f04b4cd24893':
      Captive check for both mobile and wifi

commit e8910d3b782411568aed452c58ac301242ab9009
Merge: a158328 3ed6f94
Author: Winson Chung <winsonc@google.com>
Date:   Fri Sep 21 12:14:10 2012 -0700

    am 3ed6f945: Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)
    
    * commit '3ed6f9456a60cb3a2cf4166a7fa19e30b9bbd972':
      Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)

commit 3ed6f9456a60cb3a2cf4166a7fa19e30b9bbd972
Author: Winson Chung <winsonc@google.com>
Date:   Thu Sep 20 16:07:11 2012 -0700

    Showing QuickContacts card, adding brightness bar timeout and width, fixing wifi display icon visibility. (Bug 7186309, Bug 7175023)
    
    Change-Id: Iea717e97bf90301bef68b06e1a35644e24ab029d

commit b3ce5f322474411d2a714363913d7133c7fa9c66
Merge: 6a05111 d00110c
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 20:27:57 2012 -0700

    am d00110c1: am ddfaa3f5: Merge "Provide a debugging option to force enable wifi display." into jb-mr1-dev
    
    * commit 'd00110c18b66046be285f716a0ed356752b083d5':
      Provide a debugging option to force enable wifi display.

commit d00110c18b66046be285f716a0ed356752b083d5
Merge: 45e8433 ddfaa3f
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 20:23:25 2012 -0700

    am ddfaa3f5: Merge "Provide a debugging option to force enable wifi display." into jb-mr1-dev
    
    * commit 'ddfaa3f55638db2e3d7c9928b605c2e6b90facae':
      Provide a debugging option to force enable wifi display.

commit 35d323a5206644029eb53ae751268feca430cc46
Author: Brian Muramatsu <btmura@google.com>
Date:   Thu Sep 20 19:52:34 2012 -0700

    Use global wifi_sleep_policy constants
    
    Bug 7196148
    
    This will get rid of the wifi_sleep_policy has moved log spamming.
    
    Change-Id: I303c8da80289aba183eb1e51f6a006fc40cd1801

commit ddfaa3f55638db2e3d7c9928b605c2e6b90facae
Merge: e6ff478 bbd28a2
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 17:02:26 2012 -0700

    Merge "Provide a debugging option to force enable wifi display." into jb-mr1-dev

commit bbd28a293f84baeafed469c5e223eff82c1117c0
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 16:47:15 2012 -0700

    Provide a debugging option to force enable wifi display.
    
    Bug: 7179627
    Change-Id: I84c7605a1cee5ed723341eebdcec4a824e7e4d38

commit b42fb03b7958896ed774cb471fb5d8830eb3c1ec
Merge: 1d824df 6c0fcc9
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Sep 20 13:39:30 2012 -0700

    am 6c0fcc96: am 314488b7: Merge "Captive check for both mobile and wifi" into jb-mr1-dev
    
    * commit '6c0fcc961e1650113947918dc105c2a459ebf40d':
      Captive check for both mobile and wifi

commit 6c0fcc961e1650113947918dc105c2a459ebf40d
Merge: 27001b5 314488b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Sep 20 13:37:07 2012 -0700

    am 314488b7: Merge "Captive check for both mobile and wifi" into jb-mr1-dev
    
    * commit '314488b791d36756504ee593f818f04b4cd24893':
      Captive check for both mobile and wifi

commit 314488b791d36756504ee593f818f04b4cd24893
Merge: d86077c 9538bdd
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Sep 20 13:33:51 2012 -0700

    Merge "Captive check for both mobile and wifi" into jb-mr1-dev

commit 9538bdd3c77968c7673719c580ae653ede4654d6
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Sep 20 09:32:41 2012 -0700

    Captive check for both mobile and wifi
    
    Bug: 7113195
    Bug: 7102238
    Bug: 7087564
    
    Change-Id: Iac08db9de3935338ad498aa3983d2ca82057dda1

commit e108978db5c74992917224ef8a02d3e11240fe1e
Merge: fa5c67d f803ff4
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 06:23:43 2012 -0700

    am f803ff4f: Merge "Make wifi display state changes more robust." into jb-mr1-dev
    
    * commit 'f803ff4f743f63dbbb9382d1e1ef7adc25a88e24':
      Make wifi display state changes more robust.

commit d6466128a4b831e4dd99c5d1173761c420d21490
Merge: 21196ee c6493e3
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 06:18:01 2012 -0700

    am c6493e39: am f803ff4f: Merge "Make wifi display state changes more robust." into jb-mr1-dev
    
    * commit 'c6493e39204faab2a1326274f0b927e418339fcc':
      Make wifi display state changes more robust.

commit c6493e39204faab2a1326274f0b927e418339fcc
Merge: d2812e1 f803ff4
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 20 06:10:03 2012 -0700

    am f803ff4f: Merge "Make wifi display state changes more robust." into jb-mr1-dev
    
    * commit 'f803ff4f743f63dbbb9382d1e1ef7adc25a88e24':
      Make wifi display state changes more robust.

commit f803ff4f743f63dbbb9382d1e1ef7adc25a88e24
Merge: e02acec c2b9ea6
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 19 23:21:17 2012 -0700

    Merge "Make wifi display state changes more robust." into jb-mr1-dev

commit c2b9ea624148df80945afad4198fe686a0ab8dca
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 19 23:09:23 2012 -0700

    Make wifi display state changes more robust.
    
    Bug: 7178216
    Change-Id: Icceaeb61730b0b4916cdda44459f4c69553e303c

commit 89d5546d7fd3a3bb19820c42e8b4527013dd6545
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 19 11:33:42 2012 -0700

    Add support for remembering Wifi display devices.
    
    Add a setting to globally disable Wifi display.
    
    Fixed a bug where the wifi display broadcast receiver
    was running on the wrong thread.
    
    Removed the wifi-display QuickSettings dialog, all functionality
    has been moved to Settings.
    
    Bug: 7178216
    Bug: 7192799
    Change-Id: I9796baac8245d664cf28fa147b9ed978d81d8ab9

commit 054e3a1aa663163a72f0258a5540faa6de351538
Merge: 03f2abe 08980a1
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 18 00:10:16 2012 -0700

    am 08980a1f: am 049dd8e6: Merge "Revert "Specify max go intent for wifi display"" into jb-mr1-dev
    
    * commit '08980a1f902a4ac8d485df91f8186598fc49043a':
      Revert "Specify max go intent for wifi display"

commit e1d624017c8f86169b7e30928cb96a61757356c2
Merge: 012bdf5 e8d79c8
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 18 00:09:54 2012 -0700

    am e8d79c87: am 218e2f19: Merge "Specify max go intent for wifi display" into jb-mr1-dev
    
    * commit 'e8d79c87c23845ad0a13dff999a9429e4197544b':
      Specify max go intent for wifi display

commit 08980a1f902a4ac8d485df91f8186598fc49043a
Merge: 596115b 049dd8e
Author: Dave Burke <daveburke@google.com>
Date:   Tue Sep 18 00:04:31 2012 -0700

    am 049dd8e6: Merge "Revert "Specify max go intent for wifi display"" into jb-mr1-dev
    
    * commit '049dd8e6a3815519062902cc6b6f91940c54d5ea':
      Revert "Specify max go intent for wifi display"

commit e8d79c87c23845ad0a13dff999a9429e4197544b
Merge: 1c9f740 218e2f1
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 18 00:04:03 2012 -0700

    am 218e2f19: Merge "Specify max go intent for wifi display" into jb-mr1-dev
    
    * commit '218e2f199b9ba568a815d64269ea0784e2d32935':
      Specify max go intent for wifi display

commit 43a104e54d6c864d8f2a63b68293af59b9eb7242
Merge: b34b1d5 049dd8e
Author: Dave Burke <daveburke@google.com>
Date:   Mon Sep 17 19:02:28 2012 -0700

    am 049dd8e6: Merge "Revert "Specify max go intent for wifi display"" into jb-mr1-dev
    
    * commit '049dd8e6a3815519062902cc6b6f91940c54d5ea':
      Revert "Specify max go intent for wifi display"

commit 049dd8e6a3815519062902cc6b6f91940c54d5ea
Merge: c535d2f ee261a5
Author: Dave Burke <daveburke@google.com>
Date:   Mon Sep 17 18:58:11 2012 -0700

    Merge "Revert "Specify max go intent for wifi display"" into jb-mr1-dev

commit ee261a5a6cd7da6d95d5c96981e0dfc068f48a05
Author: Dave Burke <daveburke@google.com>
Date:   Mon Sep 17 18:56:19 2012 -0700

    Revert "Specify max go intent for wifi display"
    
    This reverts commit 7ab7260697de617aced0b0ba594304a42e5395bd
    
    Change-Id: I5b322f41729695465b164e1dfe6d4b1902cd8117

commit efa2d9d46f1c99baac17689ed8f79bb7eba70535
Merge: d384c50 218e2f1
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 17 17:41:13 2012 -0700

    am 218e2f19: Merge "Specify max go intent for wifi display" into jb-mr1-dev
    
    * commit '218e2f199b9ba568a815d64269ea0784e2d32935':
      Specify max go intent for wifi display

commit 218e2f199b9ba568a815d64269ea0784e2d32935
Merge: f1aa107 7ab7260
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 17 17:37:47 2012 -0700

    Merge "Specify max go intent for wifi display" into jb-mr1-dev

commit 7ab7260697de617aced0b0ba594304a42e5395bd
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 17 17:34:03 2012 -0700

    Specify max go intent for wifi display
    
    For p2p and sta single channel concurrency, we need the device
    to be a GO
    
    Change-Id: I8c3f180b8fc450238e24dace478f03cdf4e370a7

commit 5067ea375111eacd5cdf5cec381ea258708ba82d
Merge: dc5a1b8 5bae602
Author: Christopher Tate <ctate@google.com>
Date:   Mon Sep 17 12:47:03 2012 -0700

    am 5bae602c: am 2892dfbe: Merge "Fix default population of wifi settings" into jb-mr1-dev
    
    * commit '5bae602cbbb96af3290d430ab25600149d4d073d':
      Fix default population of wifi settings

commit 55ffb815aec2fb7c85356811989349cb5bb9af24
Merge: 3b9d9b1 2892dfb
Author: Christopher Tate <ctate@google.com>
Date:   Sat Sep 15 16:11:53 2012 -0700

    am 2892dfbe: Merge "Fix default population of wifi settings" into jb-mr1-dev
    
    * commit '2892dfbeafec5315d05fb6ceabeaee73b88f5ff0':
      Fix default population of wifi settings

commit 5bae602cbbb96af3290d430ab25600149d4d073d
Merge: 2dd7cb6 2892dfb
Author: Christopher Tate <ctate@google.com>
Date:   Sat Sep 15 16:11:25 2012 -0700

    am 2892dfbe: Merge "Fix default population of wifi settings" into jb-mr1-dev
    
    * commit '2892dfbeafec5315d05fb6ceabeaee73b88f5ff0':
      Fix default population of wifi settings

commit 2892dfbeafec5315d05fb6ceabeaee73b88f5ff0
Merge: 8dd9206 6f5a9a9
Author: Christopher Tate <ctate@google.com>
Date:   Fri Sep 14 17:58:59 2012 -0700

    Merge "Fix default population of wifi settings" into jb-mr1-dev

commit 6f5a9a96523ecf97a9828a410dd1226df47ec4e6
Author: Christopher Tate <ctate@google.com>
Date:   Fri Sep 14 17:24:28 2012 -0700

    Fix default population of wifi settings
    
    Various wifi settings that are explicitly defaulted did not get their
    default code properly converted to refer to the correct settings
    database table.
    
    A collection of moved-to-Global settings that had not yet been
    marked @deprecated in the Secure.* namespace are now so marked.
    
    Also updated the namespace used to refer to wifi settings from the
    Wifi Service.  These changes are cosmetic, but they do eliminate a
    number of runtime log messages.
    
    Bug 7153671
    
    Change-Id: I9e5b6464d025cfb480ef97373996e38e82f90593

commit 633fe60b78665979109d4796ba22430b7b1cd758
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 14 14:35:44 2012 -0700

    Fix suspend bugs
    
    Listen to screen broadcast all the time to avoid situations of losing
    this information when wifi is turned on and off
    
    Avoid duplicate suspend commands to driver
    
    Bug: 7156907
    Change-Id: I162b7ba249ae8925119a534229045965c0c13d1f

commit 67d8343f9a2c0abf5af7ec025658364c66cbb73f
Merge: 9e23ebb 49fcac6
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 14 10:27:58 2012 -0700

    am 49fcac63: am 45a0b90a: Merge "Enable remote submix for wifi display." into jb-mr1-dev
    
    * commit '49fcac63282ee9d6ac7552505aeea6be2501ee24':
      Enable remote submix for wifi display.

commit 1eb6314dd03a2db7e5a44e2603481afc3db883da
Merge: e6a0b56 45a0b90
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 13 15:34:28 2012 -0700

    am 45a0b90a: Merge "Enable remote submix for wifi display." into jb-mr1-dev
    
    * commit '45a0b90a7ed7ebd8219a7a6d7b9e64c55183523a':
      Enable remote submix for wifi display.

commit 49fcac63282ee9d6ac7552505aeea6be2501ee24
Merge: 90e627e 45a0b90
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 13 15:34:22 2012 -0700

    am 45a0b90a: Merge "Enable remote submix for wifi display." into jb-mr1-dev
    
    * commit '45a0b90a7ed7ebd8219a7a6d7b9e64c55183523a':
      Enable remote submix for wifi display.

commit 45a0b90a7ed7ebd8219a7a6d7b9e64c55183523a
Merge: 83cdb02 88469e5
Author: Jeff Brown <jeffbrown@google.com>
Date:   Thu Sep 13 15:29:15 2012 -0700

    Merge "Enable remote submix for wifi display." into jb-mr1-dev

commit f119384a08bf50b62a2bca671f12c0c581f3b977
Merge: 116be95 2b2b53c
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Sep 12 16:59:06 2012 -0700

    am 2b2b53c7: (-s ours) Reconcile with jb-mr1-release - do not merge
    
    * commit '2b2b53c713001008b446c8ee17911fb199622160':
      Fixing issue with Airplane Mode. (Bug 7141144)
      Update airplane-mode manipulation for the new Settings namespace
      Check for null ViewRootImpl when saving accessibility focus in ListView.
      Reset GL buffer state after functor invocation
      Copy all mutable state before sending to clients.
      Disable wifi display API when the adapter is not registered.
      Wrapped call to notifyAll() in a synchronized block
      Fix EmergencyDialer button on devices without telephony hardware

commit 88469e56c8294a928e65398352e8444d66bdb75a
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 12 16:01:45 2012 -0700

    Enable remote submix for wifi display.
    
    Change-Id: Ib6cad4ecfed91abf835555a1089a206ee9b0763c

commit eda63986feada152633ca5685041de180bc1f2bd
Merge: 3acdb33 81da4c7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Wed Sep 12 15:35:48 2012 -0700

    am 81da4c77: am c7b6ec7a: Merge "Improve reporting of wifi connection state." into jb-mr1-dev
    
    * commit '81da4c7780134b4ed5d37872b198fb6ad01b3885':
      Improve reporting of wifi connection state.

commit 322dd5e53d3b65cd0bebf6f63f8f0b014465040b
Merge: fe945e9 c7b6ec7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Tue Sep 11 18:49:24 2012 -0700

    am c7b6ec7a: Merge "Improve reporting of wifi connection state." into jb-mr1-dev
    
    * commit 'c7b6ec7a7c8ee33278baddb0889d67042f38daef':
      Improve reporting of wifi connection state.

commit 81da4c7780134b4ed5d37872b198fb6ad01b3885
Merge: e020020 c7b6ec7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Tue Sep 11 18:49:16 2012 -0700

    am c7b6ec7a: Merge "Improve reporting of wifi connection state." into jb-mr1-dev
    
    * commit 'c7b6ec7a7c8ee33278baddb0889d67042f38daef':
      Improve reporting of wifi connection state.

commit c7b6ec7a7c8ee33278baddb0889d67042f38daef
Merge: 5e900e3 f8f0edd
Author: Jeff Brown <jeffbrown@google.com>
Date:   Tue Sep 11 18:47:37 2012 -0700

    Merge "Improve reporting of wifi connection state." into jb-mr1-dev

commit f8f0eddd07d22ab815d97dd32ae6ed52dc31a80c
Author: Jeff Brown <jeffbrown@google.com>
Date:   Tue Sep 11 17:05:11 2012 -0700

    Improve reporting of wifi connection state.
    
    We should only report that the wifi display is connected
    after the RTSP connection has been fully established.
    
    Change-Id: Ifc6bc5d5cebd42d551026885b31cbc74b7ece2b1

commit a804691c402fe76addb00025a870368e64a8bf0f
Merge: 8b919cb 092d330
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Sep 10 17:11:41 2012 -0700

    am 092d330d: am fdb5bd26: Merge "Disable wifi display API when the adapter is not registered." into jb-mr1-dev
    
    * commit '092d330d025ebf4250024983a8b280d21d47c71f':
      Disable wifi display API when the adapter is not registered.

commit b6e9976497c880b2d76d88218768a3692db68e7f
Merge: b53f6dd fb7a804
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Sep 10 17:10:14 2012 -0700

    am fb7a8045: am b0d10aa9: Merge "Add new wifi display discovery API." into jb-mr1-dev
    
    * commit 'fb7a80459206322468144029c06e38c084b35255':
      Add new wifi display discovery API.

commit b53f6ddb0022731e40f47d0dc392e092a38e257d
Merge: 8d6a6be 10d49dc
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Sep 10 17:10:10 2012 -0700

    am 10d49dcf: am 0597100f: Merge "Retry wifi display connections." into jb-mr1-dev
    
    * commit '10d49dcf3d2c4b04657c038ec2dc0654fba34233':
      Retry wifi display connections.

commit 8d6a6be9271ad81fddec0486206789184eeb60b9
Merge: 4062c18 9fd7ce7
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Sep 10 17:10:06 2012 -0700

    am 9fd7ce72: am f82b5836: Merge "Add permissions to control and configure wifi display." into jb-mr1-dev
    
    * commit '9fd7ce728b613372307b9f2ec9f22412058c16e6':
      Add permissions to control and configure wifi display.

commit 1bfb3323c7f78a3350a061c296117a8340afb90d
Merge: fd6b028 131b15a
Author: Jeff Brown <jeffbrown@google.com>
Date:   Mon Sep 10 17:09:10 2012 -0700

    am 131b15a5: am 4d0b5625: Disable hardcoded wifi display adapter.
    
    * commit '131b15a5a6040ec5667f9a94ac7bca775b4abcfd':
      Disable hardcoded wifi display adapter.

commit dedb4511984f08218f6e4b0e03ea78f2d8e5ea0d
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Sep 9 13:26:55 2012 -0700

    Disable wifi display API when the adapter is not registered.
    
    Bug: 7132341
    Change-Id: I46d859082077afd2c8adc829ad285977dff80d07

commit 21fb044749b66ed98ace72011c422633bdce2df4
Merge: e1f36f5 fdb5bd2
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Sep 9 13:32:03 2012 -0700

    am fdb5bd26: Merge "Disable wifi display API when the adapter is not registered." into jb-mr1-dev
    
    * commit 'fdb5bd261d7836b5f7e9c20d75709ca978d6eb18':
      Disable wifi display API when the adapter is not registered.

commit 092d330d025ebf4250024983a8b280d21d47c71f
Merge: e671ef1 fdb5bd2
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Sep 9 13:31:41 2012 -0700

    am fdb5bd26: Merge "Disable wifi display API when the adapter is not registered." into jb-mr1-dev
    
    * commit 'fdb5bd261d7836b5f7e9c20d75709ca978d6eb18':
      Disable wifi display API when the adapter is not registered.

commit fdb5bd261d7836b5f7e9c20d75709ca978d6eb18
Merge: 25c925e 21c7153
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Sep 9 13:29:19 2012 -0700

    Merge "Disable wifi display API when the adapter is not registered." into jb-mr1-dev

commit 21c7153d30071dcbeb92daa1fd48ed181e42aef3
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sun Sep 9 13:26:55 2012 -0700

    Disable wifi display API when the adapter is not registered.
    
    Bug: 7132341
    Change-Id: I46d859082077afd2c8adc829ad285977dff80d07

commit 34cf966057c97b1249849868c2d09866ddf4f37c
Merge: 15a17cc b0d10aa
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:57:55 2012 -0700

    am b0d10aa9: Merge "Add new wifi display discovery API." into jb-mr1-dev
    
    * commit 'b0d10aa9831fb74a28db63cac9d111559bed62ab':
      Add new wifi display discovery API.

commit fb7a80459206322468144029c06e38c084b35255
Merge: 10d49dc b0d10aa
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:57:52 2012 -0700

    am b0d10aa9: Merge "Add new wifi display discovery API." into jb-mr1-dev
    
    * commit 'b0d10aa9831fb74a28db63cac9d111559bed62ab':
      Add new wifi display discovery API.

commit 15a17cc52979c1e42a7475e6e2329ffac2586e07
Merge: f1764a1 0597100
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:56:06 2012 -0700

    am 0597100f: Merge "Retry wifi display connections." into jb-mr1-dev
    
    * commit '0597100f9127ddc0b638eb044872f138f4d3e4a8':
      Retry wifi display connections.

commit 10d49dcf3d2c4b04657c038ec2dc0654fba34233
Merge: 9fd7ce7 0597100
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:56:01 2012 -0700

    am 0597100f: Merge "Retry wifi display connections." into jb-mr1-dev
    
    * commit '0597100f9127ddc0b638eb044872f138f4d3e4a8':
      Retry wifi display connections.

commit b0d10aa9831fb74a28db63cac9d111559bed62ab
Merge: 0597100 e08ae38
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:55:02 2012 -0700

    Merge "Add new wifi display discovery API." into jb-mr1-dev

commit f1764a1fda10de68b3fa7ec0a7c01314242386ba
Merge: 23032b5 f82b583
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:54:18 2012 -0700

    am f82b5836: Merge "Add permissions to control and configure wifi display." into jb-mr1-dev
    
    * commit 'f82b58368e1bd502f82ad7791647c5922ba5d0c0':
      Add permissions to control and configure wifi display.

commit 9fd7ce728b613372307b9f2ec9f22412058c16e6
Merge: 039df49 f82b583
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:54:14 2012 -0700

    am f82b5836: Merge "Add permissions to control and configure wifi display." into jb-mr1-dev
    
    * commit 'f82b58368e1bd502f82ad7791647c5922ba5d0c0':
      Add permissions to control and configure wifi display.

commit 0597100f9127ddc0b638eb044872f138f4d3e4a8
Merge: f82b583 0cfebf2
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:53:58 2012 -0700

    Merge "Retry wifi display connections." into jb-mr1-dev

commit e08ae388d63c4db8f9d9a7ecd634f9a51f6e91b9
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 20:36:36 2012 -0700

    Add new wifi display discovery API.
    
    The API is quite simple.  There are a few extra functions
    on DisplayManager to scan, connect and disconnect from
    wifi displays and get status, and a single protected
    broadcast sent when the status changes.
    
    Change-Id: Ic91dbab5ee818e790b27fa32e1a1e93788793be0

commit f82b58368e1bd502f82ad7791647c5922ba5d0c0
Merge: 4319079 4b71e4e
Author: Jeff Brown <jeffbrown@google.com>
Date:   Sat Sep 8 14:51:55 2012 -0700

    Merge "Add permissions to control and configure wifi display." into jb-mr1-dev

commit 606290ef9b83badb2d6cbd2990607ad5e3237af8
Merge: de1b8ad 4d0b562
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 17:54:30 2012 -0700

    am 4d0b5625: Disable hardcoded wifi display adapter.
    
    * commit '4d0b56255489efc3b35b9f0187f56536f07d5d66':
      Disable hardcoded wifi display adapter.

commit 131b15a5a6040ec5667f9a94ac7bca775b4abcfd
Merge: c0befe6 4d0b562
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 17:54:12 2012 -0700

    am 4d0b5625: Disable hardcoded wifi display adapter.
    
    * commit '4d0b56255489efc3b35b9f0187f56536f07d5d66':
      Disable hardcoded wifi display adapter.

commit 0cfebf28b15e85a42981a8f9e6a09556bef36ea3
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 17:41:20 2012 -0700

    Retry wifi display connections.
    
    Change-Id: I48c62c7e272c2696022ddeea1c3107d24a9431b8

commit 4b71e4e66cd12d581d4939bab86ec624d27eb570
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 17:41:02 2012 -0700

    Add permissions to control and configure wifi display.
    
    Change-Id: I54af6da53b7243516becd6a3d5985c0feda6c225

commit 4d0b56255489efc3b35b9f0187f56536f07d5d66
Author: Jeff Brown <jeffbrown@google.com>
Date:   Fri Sep 7 17:50:18 2012 -0700

    Disable hardcoded wifi display adapter.
    
    Change-Id: Id0f7d59b6eafa8794ff7616cf54a0b94ba78c763

commit df7b5030fabb85013a25b6f11bb28304176a873c
Merge: ea9eb1a a62d413
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Wed Aug 29 11:04:03 2012 -0700

    am a62d4133: am c88a80a1: am 15e099cc: am 0e0942c7: Merge "Default WiFi sleep policy setting"
    
    * commit 'a62d413366e656ae9a868a548093327dd648ac7a':
      Default WiFi sleep policy setting

commit a62d413366e656ae9a868a548093327dd648ac7a
Merge: e8fe1d5 c88a80a
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Wed Aug 29 11:01:41 2012 -0700

    am c88a80a1: am 15e099cc: am 0e0942c7: Merge "Default WiFi sleep policy setting"
    
    * commit 'c88a80a1d7a35eaefb54d17b60e9d3a07b800e82':
      Default WiFi sleep policy setting

commit c88a80a1d7a35eaefb54d17b60e9d3a07b800e82
Merge: d5a1074 15e099c
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Wed Aug 29 10:58:35 2012 -0700

    am 15e099cc: am 0e0942c7: Merge "Default WiFi sleep policy setting"
    
    * commit '15e099cc09589f963933f046d7267552ba3ffad8':
      Default WiFi sleep policy setting

commit 15e099cc09589f963933f046d7267552ba3ffad8
Merge: c5f34bd 0e0942c
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Wed Aug 29 10:49:25 2012 -0700

    am 0e0942c7: Merge "Default WiFi sleep policy setting"
    
    * commit '0e0942c7209c758bc00939ae54059dc24bce3abb':
      Default WiFi sleep policy setting

commit 0e0942c7209c758bc00939ae54059dc24bce3abb
Merge: 48c45d0 7e07147
Author: Jean-Baptiste Queru <jbq@google.com>
Date:   Wed Aug 29 09:50:45 2012 -0700

    Merge "Default WiFi sleep policy setting"

commit 7e07147ecec50549272b4ec2f4f364102d7f379c
Author: Erik Ljungberg <erik.ljungberg@sonyericsson.com>
Date:   Mon Aug 23 15:13:46 2010 +0200

    Default WiFi sleep policy setting
    
    Creates a defult.xml setting for WiFi sleep policy.
    
    It is now possible, through device overlays, to change
    the default sleep policy to e.g. never in order to improve
    user experience of WiFi.
    
    Change-Id: Ie459b8e70fdbc7c605452fe0692d7bc26460e939

commit da6da0907b28d4704aabbdb1bbeb4300954670d1
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Aug 16 12:49:23 2012 -0700

    Captive portal handling
    
    We now notify the user of a captive portal before switching to the network as default.
    This allows background applications to continue to work until the user confirms he
    wants to sign in to the captive portal.
    
    Also, moved out captive portal handling out of wifi as a seperate component.
    
    Change-Id: I7c7507481967e33a1afad0b4961688bd192f0d31

commit d6112c1146b5c07af6ff85f0f82dd8949bba0616
Merge: 9315bda e9395e1
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Aug 27 18:08:18 2012 -0700

    am e9395e1a: am bf3218f6: am 129d6fac: am 67ea8c86: Merge "Added a persistent feature in WiFi Direct."
    
    * commit 'e9395e1a3c12f055dfc65565aafe5b81f37c4118':
      Added a persistent feature in WiFi Direct.

commit e9395e1a3c12f055dfc65565aafe5b81f37c4118
Merge: 87f67b7 bf3218f
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Aug 27 18:06:12 2012 -0700

    am bf3218f6: am 129d6fac: am 67ea8c86: Merge "Added a persistent feature in WiFi Direct."
    
    * commit 'bf3218f64de1692ca26c67b1911af856d81e186c':
      Added a persistent feature in WiFi Direct.

commit bf3218f64de1692ca26c67b1911af856d81e186c
Merge: 5c807b4 129d6fa
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Aug 27 18:03:51 2012 -0700

    am 129d6fac: am 67ea8c86: Merge "Added a persistent feature in WiFi Direct."
    
    * commit '129d6fac00545d6ea4eee75f25ddb3ffe8452bb9':
      Added a persistent feature in WiFi Direct.

commit 129d6fac00545d6ea4eee75f25ddb3ffe8452bb9
Merge: e9c7efd 67ea8c8
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Aug 27 17:57:29 2012 -0700

    am 67ea8c86: Merge "Added a persistent feature in WiFi Direct."
    
    * commit '67ea8c86419ffbf603052e816d6b1e9e7e20fbb9':
      Added a persistent feature in WiFi Direct.

commit 67ea8c86419ffbf603052e816d6b1e9e7e20fbb9
Merge: 32d1fec 0879d03
Author: Irfan Sheriff <isheriff@android.com>
Date:   Mon Aug 27 17:54:07 2012 -0700

    Merge "Added a persistent feature in WiFi Direct."

commit 0879d03f0a5caa108a0a7320442d57629f9ced81
Author: Yoshihiko Ikenaga <yoshihiko.ikenaga@jp.sony.com>
Date:   Thu Aug 16 23:37:36 2012 +0900

    Added a persistent feature in WiFi Direct.
    
    Provide a new feature to use persistent group at default.
    In the normal connect sequence, if the persistent profile has been
    stored, try to use it. Otherwise, a new persistent group is created.
    If the persistent profiles are stored over 32, an old profile is
    deleted automatically.
    
    Change-Id: Iccb9fa044f1907f0818cd259275e1675f4c3e222
    Signed-off-by: Yoshihiko Ikenaga <yoshihiko.ikenaga@jp.sony.com>

commit 21326d8b77cfd1567d87d5ebe3e327b744632e24
Author: Chih-Wei Huang <cwhuang@linux.org.tw>
Date:   Wed Aug 22 11:26:51 2012 +0800

    Avoid system_server crashing due to mac address is null
    
    It's possible that the mac address is null (getMacAddress() of WifiNative.java).
    In this case system_server will crash like:
    
    E AndroidRuntime: *** FATAL EXCEPTION IN SYSTEM PROCESS: WifiWatchdogStateMachine
    E AndroidRuntime: java.lang.NullPointerException
    E AndroidRuntime:        at android.net.arp.ArpPeer.<init>(ArpPeer.java:57)
    E AndroidRuntime:        at android.net.wifi.WifiWatchdogStateMachine.doArpTest(WifiWatchdogStateMachine.java:866)
    
    Check the mac address before parsing to avoid crashing.
    
    Change-Id: I5d4205c04d479a3a2837172c6382816ea4bf74d6

commit 05f0c5007527bac5aa53b3c93dde0a4ee383d7da
Merge: 02da59f 602afdc
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Aug 15 16:33:39 2012 -0700

    am 602afdc0: am dea6cb78: Merge "CTS test for WiFi watchdog - framework support." into jb-mr1-dev
    
    * commit '602afdc08282d22ba738ddcb7e516c3cf26ae087':
      CTS test for WiFi watchdog - framework support.

commit 602afdc08282d22ba738ddcb7e516c3cf26ae087
Merge: febb9ff dea6cb7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Aug 15 16:31:09 2012 -0700

    am dea6cb78: Merge "CTS test for WiFi watchdog - framework support." into jb-mr1-dev
    
    * commit 'dea6cb78216e5394129a322bac9bd77459233107':
      CTS test for WiFi watchdog - framework support.

commit dea6cb78216e5394129a322bac9bd77459233107
Merge: 32e7bd9 f630782
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Aug 15 16:28:58 2012 -0700

    Merge "CTS test for WiFi watchdog - framework support." into jb-mr1-dev

commit f6307820c88e694e102824225b9d8caa6de75a30
Author: Yuhao Zheng <yuhaozheng@google.com>
Date:   Tue Aug 14 14:21:25 2012 -0700

    CTS test for WiFi watchdog - framework support.
    
    The new WiFi watchdog requires kernel/driver to export some packet loss
    counters. This CTS tests whether those counters are correctly exported.
    
    Change-Id: I41999676f8488e86f35f1f8214ce668f1a2b5638

commit 10c45b6965baf9e0fbadd8b0b5742290689c6319
Merge: 2414c8b 6ccaa54
Author: Nick Pelly <npelly@google.com>
Date:   Fri Jun 15 16:55:41 2012 -0700

    Merge "Include WIFI scan's in Battery Stats."

commit 6ccaa540a18a69e5343e3e4d507f341880fcde5a
Author: Nick Pelly <npelly@google.com>
Date:   Fri Jun 15 15:22:47 2012 -0700

    Include WIFI scan's in Battery Stats.
    
    Call noteWifiScanStartedFromSource() when a scan is started.
    Call noteWifiScanStoppedFromSource() when a scan is finished.
    
    The current implementation tracks to UID that requested the scan, and
    correctly tracks the duration of the scan. It ignores scan requests
    that occur when a scan is already in progress. It does not distinguish
    between active and passive scans.
    
    Repurpose all the noteScanWifiLockAcquired/Released() plumbing
    for WIFI scan tracking. The WIFI scan locks were never reported
    to the user. Use noteFullWifiLock() when WIFI scan locks are used -
    this makes sense because the power draw for a WIFI scan lock
    should be about the same as for a full WIFI lock.
    
    Bug: 6642581
    Change-Id: Ida6e87992853698545b89f875c973a239218317d

commit 67234c4b87f767a8d5ebbd1ab6bc803f7fe8504c
Author: Daniel Sandler <dsandler@android.com>
Date:   Fri Jun 15 13:17:39 2012 -0400

    Hide "no internet connection" when connected some other way.
    
    We now track whether the device is connected at all, and use
    this to suppress the disconnected message in the mobile
    status string (we previously just looked at wifi
    connectivity).
    
    So, if a device is attached via ethernet:
    
    - On wifi-only devices, the combined label is shown in the
      notification panel, so you'll see "ETHERNET" (this comes
      straight from EthernetDataTracker; at some point we need
      localized strings and icons).
    
    - On mobile-data devices (phones), the notification panel
      only shows the mobile data label, which will be
      suppressed, so you'll see nothing at all.
    
    Bug: 6648292
    Change-Id: I9841eaeffe50a4f046afbdc09d80c5bd4d78a839

commit 590d515d912396a0c293d78529ac0dbc224400bf
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jun 14 16:10:13 2012 -0400

    Show even fewer notifications in Setup.
    
    Restricting to pkg="android" didn't filter out things like
    open wifi networks, etc. So now we have a whitelist:
    notifications must be sent the "android" pseudo-package,
    *and* they must have one of these "kind" tags:
    
      - android.system.imeswitcher (IME switcher, needed by SUW)
      - android.system.update (OTAs)
    
    Note that OTAs currently use a fullScreenIntent, so they
    bypass this logic anyway, but for consistency's sake we now
    allow OTA icons in the status bar explicitly.
    
    Bug: 6645469
    Change-Id: Ib2e2f22d7a0817a1acaf8137ed4f3c7d3ddf8af5

commit 3d32a24adf02cecca86ec16ac8827ce195daeaec
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Jun 5 13:44:14 2012 -0400

    Back from the dead: Carrier name, background dimming.
    
    Unlike previous versions of Android, we now show the current
    wifi SSID in the carrier label if connected to wifi.
    
    Bug: 6612419
    Bug: 6620626
    Change-Id: Ifb5ba8efe6dd387e960efc6a9b1da69a08e97d96

commit 0fa9d2d03f2825e22408cda65a9bbb88a43d9a31
Author: Andrew Flynn <flynn@google.com>
Date:   Thu May 31 15:39:15 2012 -0700

    Refresh signal cluster for airplane switch.
    
    This fixes a bug where if Airplane mode on/off is the only icon
    that is changing in the signal cluster (for example, someone on
    a wifi-only device has wifi turned on in airplane mode, so wifi
    icon is not changing), this will refresh the signal cluster.
    
    Bug: 6531918
    Change-Id: I7a440b84c9dfa0b300b81d14426b99fd48fad06c

commit f9b84a636c4d691c270db54d9918cbfb443e8e4b
Merge: 29bc3fb 1442a93
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri May 25 10:39:23 2012 -0700

    am 1442a932: am da87c7c1: Merge "Fix delayed wifi shutdown" into jb-dev
    
    * commit '1442a932fffa102057164085106d3b3f41906014':
      Fix delayed wifi shutdown

commit 1442a932fffa102057164085106d3b3f41906014
Merge: bb99674 da87c7c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri May 25 10:35:44 2012 -0700

    am da87c7c1: Merge "Fix delayed wifi shutdown" into jb-dev
    
    * commit 'da87c7c1eea9a054fd6842995df115113228191d':
      Fix delayed wifi shutdown

commit da87c7c1eea9a054fd6842995df115113228191d
Merge: 5321096 f48fb85
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri May 25 10:31:46 2012 -0700

    Merge "Fix delayed wifi shutdown" into jb-dev

commit f48fb85a8c4f72ec08b98f15ec3d9c70c247de7d
Author: Vishal Mahaveer <vishalm@ti.com>
Date:   Thu May 24 14:03:36 2012 -0500

    Fix delayed wifi shutdown
    
    Use a wake up alarm to ensure delayed shut down message is sent
    
    Bug: 5926285
    Change-Id: I26a3353ddabb17d55299d8b5f9faf4c7ef5b2448
    Signed-off-by: Vishal Mahaveer <vishalm@ti.com>

commit a43a91b72723948efee5eb1b84692a687aa90333
Merge: 8e7ef44 099a220
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Mon May 21 14:28:58 2012 -0700

    am 099a220c: Reconcile with jb-release nakasi-factoryrom-release
    
    * commit '099a220cf57f00732d347cd49422c849354d2e38':
      Updating default wallpaper.
      cherry-picked w/conflicts: ce77ce1d2b2cd99e2b14695542098af37b2943db
      Fix issue where static wallpaper was offset on boot
      Fix persisting wifi state on setWifiEnabled() call
      Eliminate deferred surface destruction.
      Hide the expanded status bar view when not in use.
      New fonts in notifications.
      Fix 1U notifications.

commit 9582f90eebe0091682c1397a68864f31a5ef56a0
Merge: 92302af1 16cf17c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon May 21 12:41:50 2012 -0700

    am 16cf17ce: am ce66556a: Merge "Fix persisting wifi state on setWifiEnabled() call" into jb-dev
    
    * commit '16cf17ce60171690526b08494482cbef4154bd96':
      Fix persisting wifi state on setWifiEnabled() call

commit bb04b69e74ca0c2654d5a40c59bb729b7b6367e3
Merge: cd820f9 9fd6156
Author: Daniel Sandler <dsandler@android.com>
Date:   Mon May 21 12:40:16 2012 -0700

    am 9fd61568: am a5d17288: Merge "New null (disconnected) RSSI for wifi and mobile." into jb-dev
    
    * commit '9fd615682948fb005f575de7d35e78a69227f01d':
      New null (disconnected) RSSI for wifi and mobile.

commit 51d65ae8d96037243f93620870fb2270ec71b00c
Merge: 324d426 d72953e
Author: Daniel Sandler <dsandler@android.com>
Date:   Mon May 21 11:52:46 2012 -0700

    am d72953e8: am 614349d7: Merge "Status Bar: Include wifi/mobile state in touch exploration" into jb-dev
    
    * commit 'd72953e87bff49673e1a8787961de37e21b8c061':
      Status Bar: Include wifi/mobile state in touch exploration

commit a8fec13f54b4c8ae10b232ba94cc54c90a102ffa
Merge: 693cf16 829a82c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 17 15:32:54 2012 -0700

    am 829a82c6: am 4441a369: Merge "Add logging to capture wifi enable" into jb-dev
    
    * commit '829a82c68fd64be4f997f6933d222ad604ae93d9':
      Add logging to capture wifi enable

commit c71006ed0c0053cc70da2fea2ab3d3a232c216bd
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 17 12:33:46 2012 -0700

    Fix persisting wifi state on setWifiEnabled() call
    
    When somebody makes a quick setWifiEnabled calls in back to back succession,
    we were missing setting the last state because we were only doing that
    when wifi was in a particular state from a state machine's perspective.
    
    This was done to handle the interaction b/w airplane and wifi and was
    done in the wrong way. That part is now moved to the code which detects
    airplane mode changes.
    
    In the longer term, I want to move the whole persisting code as part of
    wifi state machine which is more aware of the exact states wifi is in.
    
    Bug: 6504534
    Change-Id: I452f3f4efdeb84458dcfd280269e09ffa3844f05

commit 16cf17ce60171690526b08494482cbef4154bd96
Merge: a978d9bf ce66556
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 17 14:12:59 2012 -0700

    am ce66556a: Merge "Fix persisting wifi state on setWifiEnabled() call" into jb-dev
    
    * commit 'ce66556a345aacad517f8eb72ddec20160ce9d61':
      Fix persisting wifi state on setWifiEnabled() call

commit ce66556a345aacad517f8eb72ddec20160ce9d61
Merge: d51a68b f03d620
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 17 14:10:35 2012 -0700

    Merge "Fix persisting wifi state on setWifiEnabled() call" into jb-dev

commit f03d62007c252271aa30360de90a50b3a974ee8f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 17 12:33:46 2012 -0700

    Fix persisting wifi state on setWifiEnabled() call
    
    When somebody makes a quick setWifiEnabled calls in back to back succession,
    we were missing setting the last state because we were only doing that
    when wifi was in a particular state from a state machine's perspective.
    
    This was done to handle the interaction b/w airplane and wifi and was
    done in the wrong way. That part is now moved to the code which detects
    airplane mode changes.
    
    In the longer term, I want to move the whole persisting code as part of
    wifi state machine which is more aware of the exact states wifi is in.
    
    Bug: 6504534
    Change-Id: I452f3f4efdeb84458dcfd280269e09ffa3844f05

commit 9fd615682948fb005f575de7d35e78a69227f01d
Merge: 00e5d8b a5d1728
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu May 17 10:22:36 2012 -0700

    am a5d17288: Merge "New null (disconnected) RSSI for wifi and mobile." into jb-dev
    
    * commit 'a5d17288ffeba130fe6ee4673f0ad880b3b42fb7':
      New null (disconnected) RSSI for wifi and mobile.

commit a5d17288ffeba130fe6ee4673f0ad880b3b42fb7
Merge: e43e08b d4b7e92
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu May 17 10:20:40 2012 -0700

    Merge "New null (disconnected) RSSI for wifi and mobile." into jb-dev

commit d4b7e92744bfca1432b9ade74b718936757fcade
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu May 17 12:52:51 2012 -0400

    New null (disconnected) RSSI for wifi and mobile.
    
    On wifi-only devices we now show the null wifi RSSI if wifi
    is enabled but not connected.
    
    Bug: 6449811
    Change-Id: Ib0cb11bcbef86d44ec633690806cff38796ffc3e

commit d72953e87bff49673e1a8787961de37e21b8c061
Merge: 29da393 614349d
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu May 17 06:46:59 2012 -0700

    am 614349d7: Merge "Status Bar: Include wifi/mobile state in touch exploration" into jb-dev
    
    * commit '614349d74ee2141006fcd87fb8a16b92619c8d48':
      Status Bar: Include wifi/mobile state in touch exploration

commit 614349d74ee2141006fcd87fb8a16b92619c8d48
Merge: 2b9eba5 2f7dfa7
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu May 17 06:45:15 2012 -0700

    Merge "Status Bar: Include wifi/mobile state in touch exploration" into jb-dev

commit 2f7dfa7afdaada78c46bd6fd7e307656ba3dd66a
Author: John Spurlock <jspurlock@google.com>
Date:   Wed May 16 20:20:59 2012 -0400

    Status Bar: Include wifi/mobile state in touch exploration
    
    Bug: 5325056
    Change-Id: Iefbd734344d3b70d3e0ebf6f0dffa55d89a054c7

commit 829a82c68fd64be4f997f6933d222ad604ae93d9
Merge: 6340b3f 4441a36
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 16 13:55:02 2012 -0700

    am 4441a369: Merge "Add logging to capture wifi enable" into jb-dev
    
    * commit '4441a369abfaca15a6c4b258d36405890c93deec':
      Add logging to capture wifi enable

commit 4441a369abfaca15a6c4b258d36405890c93deec
Merge: e0bb6fe bd21b78
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 16 13:52:29 2012 -0700

    Merge "Add logging to capture wifi enable" into jb-dev

commit bd21b78f0f018f1ea2fc750232ffc20263baa2e0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 16 13:13:54 2012 -0700

    Add logging to capture wifi enable
    
    Bug: 6504534
    Change-Id: I3c3a803ce5bc53f1bdae697a23b95d63db82717c

commit 70bc32559b65b8cd858dda2f1c721fd09d4888cf
Merge: 642a2a9 fed9759
Author: Christopher Tate <ctate@google.com>
Date:   Wed May 16 13:00:53 2012 -0700

    am fed97595: am 71abf6a2: Merge "Merge restored wifi APs, don\'t overwrite" into jb-dev
    
    * commit 'fed97595c81787ce2ff01823f9dcde9c20bc1a97':
      Merge restored wifi APs, don't overwrite

commit fed97595c81787ce2ff01823f9dcde9c20bc1a97
Merge: a8066dd 71abf6a
Author: Christopher Tate <ctate@google.com>
Date:   Wed May 16 12:56:40 2012 -0700

    am 71abf6a2: Merge "Merge restored wifi APs, don\'t overwrite" into jb-dev
    
    * commit '71abf6a27cd5e0ba4ce6115c649bca9b612489e3':
      Merge restored wifi APs, don't overwrite

commit 71abf6a27cd5e0ba4ce6115c649bca9b612489e3
Merge: ffc731d 8dfe2b9
Author: Christopher Tate <ctate@google.com>
Date:   Wed May 16 12:53:27 2012 -0700

    Merge "Merge restored wifi APs, don't overwrite" into jb-dev

commit 8dfe2b9dd7b8b924177a9f67785bcd6d1b0eeada
Author: Christopher Tate <ctate@google.com>
Date:   Tue May 15 15:05:04 2012 -0700

    Merge restored wifi APs, don't overwrite
    
    We now preserve any already-known AP configuration information when
    restoring wifi from backup, instead of flatly overwriting the known
    definitions with the historical ones.  This means that if you are
    performing setup while connected to an AP unknown in the restored
    dataset, you will retain your connection instead of seeing it drop
    partway through the restore process because suddenly the supplicant
    "forgot" how to connect to it.
    
    Duplicates are resolved by retaining the currently-defined network
    configuration and discarding the historical one.
    
    Bug 6443790
    
    Change-Id: I1f44cc6a01fc4ae7c4b680682a10fcb7a0be65dc

commit 164c8ffb83c26bb362fff04d34a9ed785325f5a0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon May 14 14:26:07 2012 -0700

    Add work around to restart driver on failure
    
    A driver start can fail and device can stay stuck in that state.
    Add a work around to retry once after a period of time and then
    reload wifi if that does not work.
    
    Bug: 6005966
    Change-Id: I930554ac96ac25da2a38e49630d375656e32f6f6

commit f91d4e7bdd6923b6f724b7956c0a87714e61fd13
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon May 14 14:26:07 2012 -0700

    Add work around to restart driver on failure
    
    A driver start can fail and device can stay stuck in that state.
    Add a work around to retry once after a period of time and then
    reload wifi if that does not work.
    
    Bug: 6005966
    Change-Id: I930554ac96ac25da2a38e49630d375656e32f6f6

commit 8c898e1e437dc5e7bd1aa5afba2a31b003ab3d30
Merge: 4106d56 aa7b072
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon May 14 07:49:15 2012 -0700

    am aa7b072d: am ba1db8a5: Merge "Fix wifi direct issues" into jb-dev
    
    * commit 'aa7b072dffa8ba12e74f770cafe0b7acb5b81e02':
      Fix wifi direct issues

commit aa7b072dffa8ba12e74f770cafe0b7acb5b81e02
Merge: 8470381 ba1db8a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri May 11 14:48:32 2012 -0700

    am ba1db8a5: Merge "Fix wifi direct issues" into jb-dev
    
    * commit 'ba1db8a5912c989e493269b8751c7e9d312e0eae':
      Fix wifi direct issues

commit ba1db8a5912c989e493269b8751c7e9d312e0eae
Merge: dcc1996 10ca870
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri May 11 14:46:46 2012 -0700

    Merge "Fix wifi direct issues" into jb-dev

commit 10ca870d3b58ec6fd62b85466ec1211fca77d33e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu May 10 16:52:49 2012 -0700

    Fix wifi direct issues
    
    - BSS command is unreliable, use group owner information from p2p_find
    - Fix the autonomousgroup settings
    - Use group idle settings only on the p2p group interface to avoid group idle
    resulting group formation failures
    
    Bug: 6426991
    Change-Id: I44fc204775580fb4fec6ce27070ddbde0751b495

commit 0a2a91e8784d00b451caedcd4daf49ccf9f5bcb7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 9 11:21:02 2012 -0700

    Tone down poor connection avoidance
    
    Until we figure out a way to compare a poor mobile network
    against and poor wifi network and then weighing in other factors,
    tone down wifi avoidance aggressiveness
    
    Bug: 6456541
    Change-Id: Idc81e4d83f47c9870abbdb4359ddfeaffdcca838

commit 741f3513b34cb8737213b479d19dc9fc86bce272
Merge: 0b30d75 2f10418
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 16:29:57 2012 -0700

    am 2f104185: am 04e83d39: Merge "Fix reference counting of wifi locks" into jb-dev
    
    * commit '2f104185a5accaa6f403d7cc0d795a53b6265334':
      Fix reference counting of wifi locks

commit 2f104185a5accaa6f403d7cc0d795a53b6265334
Merge: cdffda2 04e83d3
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 16:27:38 2012 -0700

    am 04e83d39: Merge "Fix reference counting of wifi locks" into jb-dev
    
    * commit '04e83d39523316ad7fa9fd7b3f392caa847ddc70':
      Fix reference counting of wifi locks

commit 04e83d39523316ad7fa9fd7b3f392caa847ddc70
Merge: d69c367 2c02da2
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 16:25:34 2012 -0700

    Merge "Fix reference counting of wifi locks" into jb-dev

commit 2c02da2bc62c4dfef684ea381be02a4e568b73d0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 14:40:16 2012 -0700

    Fix reference counting of wifi locks
    
    Bug: 6105898
    Change-Id: I7368de91fa4aa63fd97dda0ee91d810aaaa53d8b

commit 7044f5c2bab2088878b12761dd90142e76678224
Merge: b86a020 7a224b0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 11:46:41 2012 -0700

    am 7a224b0f: am d07223f8: Merge "Fix getConfiguredNetworks when wifi is disabled" into jb-dev
    
    * commit '7a224b0f339c62f34fd2b1e20be225bd7ff8deb8':
      Fix getConfiguredNetworks when wifi is disabled

commit 7a224b0f339c62f34fd2b1e20be225bd7ff8deb8
Merge: 78e2360 d07223f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 11:44:19 2012 -0700

    am d07223f8: Merge "Fix getConfiguredNetworks when wifi is disabled" into jb-dev
    
    * commit 'd07223f8294bbc32c9dbbee295e5c0739ce09550':
      Fix getConfiguredNetworks when wifi is disabled

commit d07223f8294bbc32c9dbbee295e5c0739ce09550
Merge: 7a6a4bf a3cbe75
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 11:42:09 2012 -0700

    Merge "Fix getConfiguredNetworks when wifi is disabled" into jb-dev

commit a3cbe75c93f96acdd3e0c4a5f6de5c50c2d6ea85
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed May 2 10:24:40 2012 -0700

    Fix getConfiguredNetworks when wifi is disabled
    
    Bug: 6380917
    Change-Id: I4c6f1a379ef2401cde739aedfc82578c03e7dcf3

commit 15ec7d6d7f23ec197a88619b5e03320cfebd2240
Author: Jeff Sharkey <jsharkey@android.com>
Date:   Tue Apr 17 12:23:40 2012 -0700

    Add ALLOW_METERED column to DownloadManager.
    
    Also allow isActiveNetworkMetered() to inspect networks without
    requiring ACCESS_WIFI_STATE.
    
    Bug: 3001465
    Change-Id: Ibc23577d4ad941e4f93db417be6b046881dcbfb1

commit ca1f596677639ce6e2e2c50db02f2f4c95069ee1
Merge: 11c0ab9 c1c0ced
Author: Mike Lockwood <lockwood@google.com>
Date:   Thu Mar 22 15:14:05 2012 -0700

    Merge changes Ifbc8b4dd,I96a4e3bf
    
    * changes:
      Add config_wifi_driver_stop_delay to public.xml to fix build
      WifiStateMachine: Move wifi teardown delay to a framework resource

commit c1c0ced6698978cb4226148a422503fdac6b59b5
Author: Mike Lockwood <lockwood@google.com>
Date:   Thu Mar 22 11:13:58 2012 -0700

    Add config_wifi_driver_stop_delay to public.xml to fix build
    
    Change-Id: Ifbc8b4dd97f20a343119b414423fdb609331e482
    Signed-off-by: Mike Lockwood <lockwood@google.com>

commit 09a12bcfab6600a8cc017f0a5f92259dfc8fc471
Author: Mike Lockwood <lockwood@google.com>
Date:   Sat Feb 4 12:05:31 2012 -0500

    WifiStateMachine: Move wifi teardown delay to a framework resource
    
    Bug: 5931171
    
    Change-Id: I96a4e3bf1d044ea4a4d2955775703b6f0ce862ed
    Signed-off-by: Mike Lockwood <lockwood@google.com>

commit 6d3c2f0cad85b5f618d0bdbf3e9ca659768a47f0
Author: Xia Wang <xiaw@google.com>
Date:   Fri Mar 9 17:38:31 2012 -0800

    Fix test flakiness
    
    Disable soft AP before start the wifi stress test.
    If soft AP test failed with AP enabled, the wifi client can not be
    enabled.
    
    Change-Id: Ie6950f6b5b662727f2e811d9b81aeb0f4f7cda91

commit d65a4f62fe641cfa485663b162b6f10aa74e3665
Merge: d122d8e 776cca3
Author: Xia Wang <xiaw@google.com>
Date:   Fri Mar 9 17:17:51 2012 -0800

    Merge "Allow CM/WIFI tests running with wifi-only flag."

commit 776cca3b3a84cd16bdaccdd43963cc34d923e0a4
Author: Xia Wang <xiaw@google.com>
Date:   Fri Mar 9 16:42:55 2012 -0800

    Allow CM/WIFI tests running with wifi-only flag.
    
    Change-Id: I12ab8f6f0335574a5af6db497ed76e6d5fec3ab7

commit aa6816a8a0e575059f1e417ba2bbc3c86cc879a3
Merge: c709216 4c8982a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 9 08:53:01 2012 -0800

    Merge "Enhancements for avoiding poor connection on wifi"

commit 4c8982ad820007512e4e9cbb7f15925228d70761
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Mar 8 16:11:02 2012 -0800

    Enhancements for avoiding poor connection on wifi
    
    - Avoid flapping
    - Increase thresholds and monitor rssi more closely to detect consistently weak signal
    
    Change-Id: I6139a20b7306839b345146a72ce690020a2e00b8

commit a27421a306c49fbe9b3823b30f7ab1cd58b28854
Author: Wink Saville <wink@google.com>
Date:   Thu Mar 1 10:25:48 2012 -0800

    If no NITZ information use Country Code to set TimeZone.
    
    This is not perfect and only works if the CC is known via
    the GSM radio and is only accurate if there is one time zone
    per country. This does nothing to resolve time zone problems
    for wifi only devices.
    
    So this is a partial fix for bug 2896745
    
    Bug: 2896745
    Change-Id: I78f013836c4e4870b8b1016a8312f5adbe0d31c9

commit 06d4329f3868005f8fd3b6ef6b6e72cdd729a29b
Merge: 842c99f 198357e
Author: Mike Lockwood <lockwood@google.com>
Date:   Sun Feb 19 12:56:53 2012 -0800

    Merge "WifiStateMachine: Move wifi teardown delay to a framework resource" into ics-aah

commit 11bc45fcba96cf7ccc5f67b3c47088c2c89c8e7a
Author: Kent Ryhorchuk <kryhorchuk@google.com>
Date:   Mon Feb 13 16:24:29 2012 -0800

    New clock sync control loop.
    
    Change clock sync control to velicity form PI loop. Tuned for office LAN and
    WiFi conditions, will probably perform better in clean environments.
    Improve packet filtering to prevent clock sync on bad rtt.
    Changed diag interface to take rtt times, P, I, D are no longer supported.
    
    Change-Id: Iad2b26eb44cd222ec5f219b49669e2d6baec9d1c

commit 98b33ff6baa2f522f66e5222d24815c54e3bc8e3
Merge: 9d7b999 16b7ddc
Author: Mike Lockwood <lockwood@google.com>
Date:   Thu Feb 16 10:15:16 2012 -0800

    Merge "Remove airplane mode related wifi test for Wi-Fi only devices."

commit 16b7ddcfe64acf6715ba4b6e012c3d12d15d0380
Author: Xia Wang <xiaw@google.com>
Date:   Tue Feb 7 14:19:56 2012 -0800

    Remove airplane mode related wifi test for Wi-Fi only devices.
    
    Change-Id: I5b319b98ac68c0b7f053c5baf084c3138db8fe07

commit 17fe2476167ae741de44a2f0c0f5cb43fafe5584
Author: Kent Ryhorchuk <kryhorchuk@google.com>
Date:   Mon Feb 13 16:24:29 2012 -0800

    New clock sync control loop.
    
    Change clock sync control to velicity form PI loop. Tuned for office LAN and
    WiFi conditions, will probably perform better in clean environments.
    Improve packet filtering to prevent clock sync on bad rtt.
    Changed diag interface to take rtt times, P, I, D are no longer supported.
    
    Change-Id: Id7758262c5f987f07d7091aba6c0874d7c19f387

commit 516da340928b0a61a72b9f4b72decc478f9adb08
Merge: 01fdbf5 c199e2c
Author: Mike Lockwood <lockwood@google.com>
Date:   Fri Feb 10 15:30:58 2012 -0800

    am c199e2c7: Merge changes Iefeba018,I1ce5b26d,Ie3f59793,Id3c5e1ec,I9063154a,Ib7bd88a3,I20963df8,I01060b08,I7dc29739,I5c55a051,Ia07aa3c4,I3194ea94,I0dc37cce,Ic3a7bb65,I0a7eaecf,Ifa7b0614,Ice952c8e,Ia5abdb9e,Ifcb310f9,If5f4ec97,I4767690f,I79824179,I6e0f981e,Id60ae7f6
    
    * commit 'c199e2c7e0f8895273fdd912c5c88495a8b30e35': (24 commits)
      EthernetDataTracker: Don't run DHCP or set network available until link is up
      Only send master volume or mute updates if the settings have changed
      Make AudioManager.adjustMasterVolume public and hidden
      Allow disabling network stats support in a resource overlay
      Restore persisted master volume if the media server restarts
      Don't allow changing master volume when muted
      Show the flags in package manager debugging.
      Modified the constructor of EndpointBase
      Add a getEndpointInfo accessor to AIDL-generated RPC proxy classes
      Defer persisting master data to avoid excessive database writes
      Add an option that disables the AUDIO_BECOMING_NOISY intent send when a headset is hotplugged.
      Remove reference counting and client death notification for master mute
      AudioService: Send broadcasts when master volume and mute state change
      Use the new get/putFlattenable methods on RpcData.
      Don't try to unmarshal void return types when there are out parameters being returned.
      AudioManager: Add wrapper methods for master volume support
      AudioManager: Add support for master mute
      NetworkTimeUpdateService: Schedule NTP on ethernet connect as well as wifi
      For events, require that the parameters be marked in.
      PhoneWindowManager: stifle warning that ITelephony service does not exist
      ...

commit c199e2c7e0f8895273fdd912c5c88495a8b30e35
Merge: 0ee0969 efeba01
Author: Mike Lockwood <lockwood@google.com>
Date:   Fri Feb 10 15:26:36 2012 -0800

    Merge changes Iefeba018,I1ce5b26d,Ie3f59793,Id3c5e1ec,I9063154a,Ib7bd88a3,I20963df8,I01060b08,I7dc29739,I5c55a051,Ia07aa3c4,I3194ea94,I0dc37cce,Ic3a7bb65,I0a7eaecf,Ifa7b0614,Ice952c8e,Ia5abdb9e,Ifcb310f9,If5f4ec97,I4767690f,I79824179,I6e0f981e,Id60ae7f6
    
    * changes:
      EthernetDataTracker: Don't run DHCP or set network available until link is up
      Only send master volume or mute updates if the settings have changed
      Make AudioManager.adjustMasterVolume public and hidden
      Allow disabling network stats support in a resource overlay
      Restore persisted master volume if the media server restarts
      Don't allow changing master volume when muted
      Show the flags in package manager debugging.
      Modified the constructor of EndpointBase
      Add a getEndpointInfo accessor to AIDL-generated RPC proxy classes
      Defer persisting master data to avoid excessive database writes
      Add an option that disables the AUDIO_BECOMING_NOISY intent send when a headset is hotplugged.
      Remove reference counting and client death notification for master mute
      AudioService: Send broadcasts when master volume and mute state change
      Use the new get/putFlattenable methods on RpcData.
      Don't try to unmarshal void return types when there are out parameters being returned.
      AudioManager: Add wrapper methods for master volume support
      AudioManager: Add support for master mute
      NetworkTimeUpdateService: Schedule NTP on ethernet connect as well as wifi
      For events, require that the parameters be marked in.
      PhoneWindowManager: stifle warning that ITelephony service does not exist
      AudioManager: transparently convert volume settings for other streams to master volume if config_useMasterVolume is set.
      Support putting Flattenables in Lists.
      Was generating code that uses the wrong RpcData.
      store the hw addr in the extraInfo field of ethernet NetworkInfos

commit a5abdb9e580f7598ae5553f4490d16871453f9f5
Author: Mike Lockwood <lockwood@android.com>
Date:   Wed Nov 9 10:49:29 2011 -0800

    NetworkTimeUpdateService: Schedule NTP on ethernet connect as well as wifi
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit 4dd8338b8dc75c85f1ea7d198e27c36149a9f4dc
Merge: 7f6b378 8e2b887
Author: Xia Wang <xiaw@google.com>
Date:   Wed Feb 8 10:08:23 2012 -0800

    Merge "Remove airplane mode related wifi test for Wi-Fi only devices." into ics-aah

commit 8e2b887567a69ece0bc339fbc0b425d9efdf8d32
Author: Xia Wang <xiaw@google.com>
Date:   Tue Feb 7 14:19:56 2012 -0800

    Remove airplane mode related wifi test for Wi-Fi only devices.
    
    Change-Id: I7304276af7cb1dad0f08ebc9738108e877525eb9

commit 354edbc80ec3f12539e08b32058702b7fe3a27cd
Author: John Grossman <johngro@google.com>
Date:   Fri Jan 20 12:12:59 2012 -0800

    Implement new common_time service functionality.
    
    Major re-factor of the common_time (formally aah_timesrv) service in
    preparation for up-integration into Android master.  This work
    includes bug fixes, new features, and general code cleanup.  High
    points are listed below.
    
    + CommonClock interface has been enhanced to allow querying of many
      more low level synchronization details; mostly for debugging, but in
      theory useful to an application as well.
    + CommonTimeConfig interface has been implemented.  This allows a
      management process to configure a number of different parameters
      (many of them new) to control the behavior of the common_time
      service.  Most importantly, the time service can be bound to a
      specific network interface and should only operate on that interface
      an no others.
    + Enhance log messages to be more useful in determining what the time
      service state machine is doing and why.
    + Enhance information provided by dumpsys to provide many more details
      about the quality of time sync and the network conditions which gave
      rise to the current quality conditions.
    
    Features, features, features....
    + Add a feature which lets the high level choose a different master
      election endpoint so that multiple time synchronization domains can
      co-exist on the same subnet (mostly to support a potential use case
      of multiple home domains in a multiple dwelling environment like a
      hotel, dormitory or apartment complex).
    + Add a feature which lets the high level assign a 64-bit group ID
      which allows partitioning of time synchronization domains even when
      the master election endpoint is shared (as it might be if broadcast
      is being used instead of multicast)
    + Add an auto-disable feature which lets the time service drop into
      network-less mode when there are no active clients of the
      common_time service in the device.  Mostly for phones, this allows
      phones to not consume network/battery resources when they don't need
      to maintain common time.
    + Add a feature which lets the high level choose the priority of the
      common_time service in the master election protocol.  This allows
      high level decisions about things like mobile vs non-mobile, wired
      ethernet vs WiFi to affect who ends up with the job of master on a
      given network.  Priority overrides at the low level also allow
      clients coming in from network-less mode to lower their effective
      priority as they join a new network so as to not disrupt any
      stable long-running timeline which may already be active on the
      network.
    + Add the ability to control some of the core parameters of the time
      sync service which effect network load (like the sync polling
      interval and the master announce interval)
    
    Change-Id: I71af15a83cfa5ef0417b406928967fb9e02f55c6

commit 198357e6a28fd6f82a13024f7e2996c7132581c9
Author: Mike Lockwood <lockwood@google.com>
Date:   Sat Feb 4 12:05:31 2012 -0500

    WifiStateMachine: Move wifi teardown delay to a framework resource
    
    Bug: 5931171
    
    Change-Id: I12b539e1070483a1f7cdbd5c152da4b4cb6326b0
    Signed-off-by: Mike Lockwood <lockwood@google.com>

commit 000a0ac74341eead49d5e7b5b7df3be46b3a96f3
Merge: 3c658de a8c0d5e
Author: Xia Wang <xiaw@google.com>
Date:   Wed Feb 1 11:14:01 2012 -0800

    am a8c0d5e6: Merge "Use PackageManager to detect wifi-only devices in ConnectivityManagerTest."
    
    * commit 'a8c0d5e6d4a83da42dc318fe61ac38a519043b99':
      Use PackageManager to detect wifi-only devices in ConnectivityManagerTest.

commit a8c0d5e6d4a83da42dc318fe61ac38a519043b99
Merge: 6b11072 4dfa295
Author: Xia Wang <xiaw@google.com>
Date:   Wed Feb 1 11:12:05 2012 -0800

    Merge "Use PackageManager to detect wifi-only devices in ConnectivityManagerTest."

commit 4dfa295ad8b75a8c0976e7de078ebe4f654a6a89
Author: Brett Chabot <brettchabot@android.com>
Date:   Fri Jan 27 20:01:42 2012 -0800

    Use PackageManager to detect wifi-only devices in ConnectivityManagerTest.
    
    Change-Id: I9749bf9024a73af095d4a681bb902594828ad599

commit 09d620a41de6cc4e889136a5a300ef84fe78daf5
Merge: c8583c1 733ba9d
Author: Brett Chabot <brettchabot@android.com>
Date:   Tue Jan 31 15:32:30 2012 -0800

    Merge "Use PackageManager to detect wifi-only devices in ConnectivityManagerTest." into ics-aah

commit 733ba9d2d97efb635aea0714e15e93c4021f918e
Author: Brett Chabot <brettchabot@android.com>
Date:   Fri Jan 27 20:01:42 2012 -0800

    Use PackageManager to detect wifi-only devices in ConnectivityManagerTest.
    
    Change-Id: I9749bf9024a73af095d4a681bb902594828ad599

commit 2b138fac5307b71402c37bcfdbec1216a62706f2
Merge: 547eb97 bbbf6b9
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 15:49:40 2012 -0800

    am bbbf6b9c: am 70828a1d: am 5b08738a: Merge "Suppress mobile-out-of-service label if wifi connected." into ics-mr1
    
    * commit 'bbbf6b9c49301460a34e749d476c10834a609cf5':
      Suppress mobile-out-of-service label if wifi connected.

commit bbbf6b9c49301460a34e749d476c10834a609cf5
Merge: 838a0e0 70828a1
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 15:47:06 2012 -0800

    am 70828a1d: am 5b08738a: Merge "Suppress mobile-out-of-service label if wifi connected." into ics-mr1
    
    * commit '70828a1d40c9bf0e5066166216013093298de034':
      Suppress mobile-out-of-service label if wifi connected.

commit 0382a787ad211b4a213d47b89f32a4379cf1079b
Merge: 74515ab 5b08738
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 13:05:00 2012 -0800

    am 5b08738a: Merge "Suppress mobile-out-of-service label if wifi connected." into ics-mr1
    
    * commit '5b08738a62ece5bf0ca5d22a6f062e2fb67af272':
      Suppress mobile-out-of-service label if wifi connected.

commit 70828a1d40c9bf0e5066166216013093298de034
Merge: 2de74f5 5b08738
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 13:04:17 2012 -0800

    am 5b08738a: Merge "Suppress mobile-out-of-service label if wifi connected." into ics-mr1
    
    * commit '5b08738a62ece5bf0ca5d22a6f062e2fb67af272':
      Suppress mobile-out-of-service label if wifi connected.

commit 5b08738a62ece5bf0ca5d22a6f062e2fb67af272
Merge: 6c055bb 62a1eb8
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 13:02:32 2012 -0800

    Merge "Suppress mobile-out-of-service label if wifi connected." into ics-mr1

commit 62a1eb8972f6eb1133060ae96142abcd57d347dd
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 26 10:22:23 2012 -0500

    Suppress mobile-out-of-service label if wifi connected.
    
    Carrier name is shown if
     - in service and connected to mobile data
     - in service and connected to wifi
    
    Carrier name is blanked if out of service and connected to
    wifi.
    
    "No internet connection" is shown if out of service without
    any other route.
    
    Bug: 5903914
    Change-Id: I59d4d0c90e4153d73c38f7f0e150becf7e021a5b

commit 7d6d9c005e5cfad787bb62b7fee6be2d75b13ca3
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 10 15:50:45 2012 -0800

    Initial support for concurrency
    
    Use of multiple socket connections over wlan0 and p2p and
    p2p state machine is now controlled entirely from wifi state machine
    
    Add discovery stop to allow STA scans to proceed after p2p is used
    
    Change-Id: I790c9112d3f475f638f06fc3ae9e191f6d90ef35

commit c83551ff6d8781cdd1a71d8ee178bcc28f41a52a
Merge: 6a1acf0 fa1a916
Author: Jeff Sharkey <jsharkey@android.com>
Date:   Tue Jan 24 15:40:20 2012 -0800

    am fa1a9162: Merge "Match WIFI_P2P data usage."
    
    * commit 'fa1a91628a706bbe51d91e0ccb9144df8b8529e6':
      Match WIFI_P2P data usage.

commit fa1a91628a706bbe51d91e0ccb9144df8b8529e6
Merge: 7caffbc 3ca7481
Author: Jeff Sharkey <jsharkey@android.com>
Date:   Tue Jan 24 15:38:54 2012 -0800

    Merge "Match WIFI_P2P data usage."

commit 3ca7481439c9b65a137d7705d0f4a16766529e75
Author: Jeff Sharkey <jsharkey@android.com>
Date:   Tue Jan 24 15:37:07 2012 -0800

    Match WIFI_P2P data usage.
    
    Bug: 5405891
    Change-Id: I5b815d6fc25a2f26a86c39a43fde305fcc3fb65c

commit 2e481b9146fe194fb1344ff8c1d1e0d499bdf06b
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Jan 24 14:45:40 2012 -0500

    Stop showing "No internet connection" when there is one.
    
    In particular, even though the mobile data network isn't
    routing packets (and therefore is not an internet
    connection), we want to show the PLMN anyway:
    
      [MOBILE RSSI] Carrier  [WIFI RSSI] WiFi SSID
    
    This change also improves the following cases:
    
     - Combines "No internet connection" from wifi and mobile
       into one single string in airplane mode:
    
         [AIRPLANE] No internet connection.
    
     - Removes "No internet connection" from the mobile string
       when wifi is on in airplane mode, making a nice compact
       display in this case:
    
         [AIRPLANE] [WIFI RSSI] WiFi SSID
    
    Bug: 5903914
    Change-Id: I477821d2c5e9922252dd6bcb3ed494c8c57d99b0

commit 9236f89c44f6bb19d6a6d83a3528969b34fac0fc
Merge: f86d65c a551fee
Author: Robert Ly <robertly@google.com>
Date:   Fri Jan 20 15:56:44 2012 -0800

    am a551feef: am ab8f1ba0: am 12310ee8: am 9575a1ab: Merge "docs: wifi direct" into ics-mr0
    
    * commit 'a551feefa57ea28146a2493778815f5402eb6e58':
      docs: wifi direct

commit a551feefa57ea28146a2493778815f5402eb6e58
Merge: d3fe9ab ab8f1ba
Author: Robert Ly <robertly@google.com>
Date:   Fri Jan 20 15:52:07 2012 -0800

    am ab8f1ba0: am 12310ee8: am 9575a1ab: Merge "docs: wifi direct" into ics-mr0
    
    * commit 'ab8f1ba0ec9d66db2f653b08f4caa24a27b3a996':
      docs: wifi direct

commit 439cf1c8528334d68ba943a951b5de1f4f4500a6
Merge: 3bb3d41 12310ee
Author: Robert Ly <robertly@google.com>
Date:   Thu Jan 19 10:44:35 2012 -0800

    am 12310ee8: am 9575a1ab: Merge "docs: wifi direct" into ics-mr0
    
    * commit '12310ee801553e63091ce3bda6f07a5be31a473c':
      docs: wifi direct

commit ab8f1ba0ec9d66db2f653b08f4caa24a27b3a996
Merge: ab9601c 12310ee
Author: Robert Ly <robertly@google.com>
Date:   Thu Jan 19 10:43:45 2012 -0800

    am 12310ee8: am 9575a1ab: Merge "docs: wifi direct" into ics-mr0
    
    * commit '12310ee801553e63091ce3bda6f07a5be31a473c':
      docs: wifi direct

commit 12310ee801553e63091ce3bda6f07a5be31a473c
Merge: 230a709 9575a1a
Author: Robert Ly <robertly@google.com>
Date:   Thu Jan 19 10:41:28 2012 -0800

    am 9575a1ab: Merge "docs: wifi direct" into ics-mr0
    
    * commit '9575a1ab5d033248284d59b2a2ae6eda80f79762':
      docs: wifi direct

commit 9575a1ab5d033248284d59b2a2ae6eda80f79762
Merge: 00697a9 12a1de0
Author: Robert Ly <robertly@google.com>
Date:   Thu Jan 19 10:38:51 2012 -0800

    Merge "docs: wifi direct" into ics-mr0

commit 12a1de04ffa6fdc2d00d1573f3643d9e12199b50
Author: Robert Ly <robertly@google.com>
Date:   Wed Nov 2 11:56:50 2011 -0700

    docs: wifi direct
    
    Change-Id: I462a90feec29350db6bedea16e03bdd785fa60bb

commit 5e991f28f63a110fe3b34c3fa7c3bbc25ad9bb4d
Merge: 03ee656 494a177
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 12 13:40:58 2012 -0800

    am 494a1776: am 66e66e1d: am 755a967b: Merge "Clean up wifi/mobile indicators in the expanded panel." into ics-mr1
    
    * commit '494a17761d524c53b26f198e59f4f82af2cf0abf':
      Clean up wifi/mobile indicators in the expanded panel.

commit 494a17761d524c53b26f198e59f4f82af2cf0abf
Merge: 5b7863f 66e66e1
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 12 13:37:54 2012 -0800

    am 66e66e1d: am 755a967b: Merge "Clean up wifi/mobile indicators in the expanded panel." into ics-mr1
    
    * commit '66e66e1d70bdcf184a29bc5eb8cfdeecffdb799f':
      Clean up wifi/mobile indicators in the expanded panel.

commit 66e66e1d70bdcf184a29bc5eb8cfdeecffdb799f
Merge: 499b944 755a967
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 12 11:40:43 2012 -0800

    am 755a967b: Merge "Clean up wifi/mobile indicators in the expanded panel." into ics-mr1
    
    * commit '755a967bdc2cddb6fbadd10e357f8a5328520061':
      Clean up wifi/mobile indicators in the expanded panel.

commit 338618e7ad7c1943caefeee565bb9ed7f8c9b88d
Merge: cf89dcb 755a967
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 12 11:40:36 2012 -0800

    am 755a967b: Merge "Clean up wifi/mobile indicators in the expanded panel." into ics-mr1
    
    * commit '755a967bdc2cddb6fbadd10e357f8a5328520061':
      Clean up wifi/mobile indicators in the expanded panel.

commit 755a967bdc2cddb6fbadd10e357f8a5328520061
Merge: cf602db 5962fd5
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Jan 12 11:38:39 2012 -0800

    Merge "Clean up wifi/mobile indicators in the expanded panel." into ics-mr1

commit 5962fd5ec95249ba8354d3a533c27a012bcf22e2
Author: Daniel Sandler <dsandler@android.com>
Date:   Wed Jan 11 14:57:04 2012 -0500

    Clean up wifi/mobile indicators in the expanded panel.
    
    We now have two separate RSSI icons, one for wifi and one
    for mobile data, as originally proposed in bug 5544770.
    Each has an accompanying label showing the appropriate
    network description string (PLMN or SSID or "No internet
    connection"); these will be truncated as necessary to avoid
    clobbering other UI elements in the panel.
    
    Bug: 5543495
    Bug: 5621224
    Change-Id: I8fc322f8471fc94000e7230de359d3f1fe561b1e

commit 0540731341246ed6f026c689663c7cea8f6281dc
Merge: e6618e7 d9dc7fe
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Dec 12 13:38:03 2011 -0800

    am d9dc7fe6: am c34306e4: am 97ff7893: Merge "Fix wifi bring up at boot up" into ics-mr1
    
    * commit 'd9dc7fe61e0daaab6c19189904082436b34747a1':
      Fix wifi bring up at boot up

commit d9dc7fe61e0daaab6c19189904082436b34747a1
Merge: 36b8c2e c34306e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Dec 12 12:35:12 2011 -0800

    am c34306e4: am 97ff7893: Merge "Fix wifi bring up at boot up" into ics-mr1
    
    * commit 'c34306e46e0f53a9478216c2d5fd3129a3bc6f8e':
      Fix wifi bring up at boot up

commit c34306e46e0f53a9478216c2d5fd3129a3bc6f8e
Merge: 555fe79 97ff789
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Dec 8 16:01:59 2011 -0800

    am 97ff7893: Merge "Fix wifi bring up at boot up" into ics-mr1
    
    * commit '97ff7893321362020211fae3c5a52b95c3ec19e1':
      Fix wifi bring up at boot up

commit 7fc4d0cd35a4a898c31f6f524faa1d6f2a7092d2
Merge: 19f47b2 97ff789
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Dec 8 16:01:47 2011 -0800

    am 97ff7893: Merge "Fix wifi bring up at boot up" into ics-mr1
    
    * commit '97ff7893321362020211fae3c5a52b95c3ec19e1':
      Fix wifi bring up at boot up

commit 97ff7893321362020211fae3c5a52b95c3ec19e1
Merge: c40f70a 5401f0b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Dec 8 15:59:26 2011 -0800

    Merge "Fix wifi bring up at boot up" into ics-mr1

commit 5401f0b87b9bdcd603c55871a37fff07ab3054d7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Dec 7 16:27:49 2011 -0800

    Fix wifi bring up at boot up
    
    Bug: 5719176
    Change-Id: Iac879fc634f6ab6289b73c46931d754bc0af2f87

commit 8964779292e859028460500de3ba65e048f85466
Merge: d04f281 3de8d36
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Dec 7 11:03:56 2011 -0800

    am 3de8d36b: Reconcile with ics-mr0-release
    
    * commit '3de8d36b6fd166cf63ca256c455c0ea26a849668':
      DO NOT MERGE: Remove the AVI extractor.
      Disable wifiwatchdog for now

commit d6b9de68603b652ff01544794d405669c8527584
Merge: a0cb89a 40cb30c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Dec 7 11:02:27 2011 -0800

    am 40cb30c2: am 7b62313e: Disable wifiwatchdog for now
    
    * commit '40cb30c2df2176c03f24cbdc194e3af5a4f64758':
      Disable wifiwatchdog for now

commit f00f39d473a3853a9a6199675bb0bdaa6049bc37
Merge: 7830ede 48747bd
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Dec 7 07:32:08 2011 -0800

    am 48747bdd: am 6ee7bca1: (-s ours) am 3de8d36b: Reconcile with ics-mr0-release
    
    * commit '48747bdd5bb06ce4bdf8f9ac379e0c55a3ee2d6f':
      DO NOT MERGE: Remove the AVI extractor.
      Disable wifiwatchdog for now

commit 48747bdd5bb06ce4bdf8f9ac379e0c55a3ee2d6f
Merge: b808af7 6ee7bca
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Dec 7 07:29:38 2011 -0800

    am 6ee7bca1: (-s ours) am 3de8d36b: Reconcile with ics-mr0-release
    
    * commit '6ee7bca1ce7f93d33a70701bb7862c3d13e68b89':
      DO NOT MERGE: Remove the AVI extractor.
      Disable wifiwatchdog for now

commit 6ee7bca1ce7f93d33a70701bb7862c3d13e68b89
Merge: 7c92e2d 3de8d36
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Wed Dec 7 07:27:57 2011 -0800

    am 3de8d36b: Reconcile with ics-mr0-release
    
    * commit '3de8d36b6fd166cf63ca256c455c0ea26a849668':
      DO NOT MERGE: Remove the AVI extractor.
      Disable wifiwatchdog for now

commit e6aadfe6545bcfd44617aa36614d4db31cb48900
Merge: 0dfb860 591f6fa
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 16:17:30 2011 -0800

    am 591f6fa7: am 5e2e7d5f: am 40cb30c2: am 7b62313e: Disable wifiwatchdog for now
    
    * commit '591f6fa7c7dc9b82ccd6d5b0d758116babbaa058':
      Disable wifiwatchdog for now

commit 591f6fa7c7dc9b82ccd6d5b0d758116babbaa058
Merge: f9bb1cd 5e2e7d5
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 16:04:30 2011 -0800

    am 5e2e7d5f: am 40cb30c2: am 7b62313e: Disable wifiwatchdog for now
    
    * commit '5e2e7d5fb81266640f8284abb25fe8be06693f5b':
      Disable wifiwatchdog for now

commit b87d22b865b1e706da352f1a9ddc35b4efdfe70b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 11:20:30 2011 -0800

    Disable wifiwatchdog for now
    
    Change-Id: I2ac4fa706f3d0a415cb8e86002173b776aba4e02

commit 5e2e7d5fb81266640f8284abb25fe8be06693f5b
Merge: fb72920 40cb30c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 11:37:40 2011 -0800

    am 40cb30c2: am 7b62313e: Disable wifiwatchdog for now
    
    * commit '40cb30c2df2176c03f24cbdc194e3af5a4f64758':
      Disable wifiwatchdog for now

commit 40cb30c2df2176c03f24cbdc194e3af5a4f64758
Merge: 98a85c2 7b62313
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 11:34:58 2011 -0800

    am 7b62313e: Disable wifiwatchdog for now
    
    * commit '7b62313eab4af8835a64fb3fe1e15e5e534a9479':
      Disable wifiwatchdog for now

commit 7b62313eab4af8835a64fb3fe1e15e5e534a9479
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 6 11:20:30 2011 -0800

    Disable wifiwatchdog for now
    
    Change-Id: I2ac4fa706f3d0a415cb8e86002173b776aba4e02

commit d554f7613cb65715367cbf23d3c6ba1f03e80f7e
Merge: 60dfe30 1fd2911
Author: Xia Wang <xiaw@google.com>
Date:   Mon Dec 5 16:35:54 2011 -0800

    am 1fd29114: am 96f660f4: am e63d67ef: Merge "Add extra 2 minute for wifi to shutdown" into ics-mr1
    
    * commit '1fd291144cd533800630c461d4fe9119f446a726':
      Add extra 2 minute for wifi to shutdown

commit 1fd291144cd533800630c461d4fe9119f446a726
Merge: 6a2b621 96f660f
Author: Xia Wang <xiaw@google.com>
Date:   Mon Dec 5 16:32:59 2011 -0800

    am 96f660f4: am e63d67ef: Merge "Add extra 2 minute for wifi to shutdown" into ics-mr1
    
    * commit '96f660f4a8b99ff387e17474f2574e4e284ceeb8':
      Add extra 2 minute for wifi to shutdown

commit 96f660f4a8b99ff387e17474f2574e4e284ceeb8
Merge: 96de4c3b e63d67e
Author: Xia Wang <xiaw@google.com>
Date:   Mon Dec 5 15:55:27 2011 -0800

    am e63d67ef: Merge "Add extra 2 minute for wifi to shutdown" into ics-mr1
    
    * commit 'e63d67eff794ba2e4e5d2aa9e8854b37329f4429':
      Add extra 2 minute for wifi to shutdown

commit 498e422a94f6a92ef4be2df4a96a596063f5712b
Merge: 47e6347 e63d67e
Author: Xia Wang <xiaw@google.com>
Date:   Mon Dec 5 15:55:07 2011 -0800

    am e63d67ef: Merge "Add extra 2 minute for wifi to shutdown" into ics-mr1
    
    * commit 'e63d67eff794ba2e4e5d2aa9e8854b37329f4429':
      Add extra 2 minute for wifi to shutdown

commit e63d67eff794ba2e4e5d2aa9e8854b37329f4429
Merge: da926cf 10a3e8f
Author: Xia Wang <xiaw@google.com>
Date:   Mon Dec 5 15:52:34 2011 -0800

    Merge "Add extra 2 minute for wifi to shutdown" into ics-mr1

commit 10a3e8fae865f17c10816d1767d2efa3d4a18935
Author: Xia Wang <xiaw@google.com>
Date:   Fri Dec 2 17:49:36 2011 -0800

    Add extra 2 minute for wifi to shutdown
    
    Change-Id: I3cf2fbf5de8b96b75d5e460e4ad822a1947ff6e7

commit bb4d7b33fc3a77b3c62c25c6265ead87bca2230e
Merge: 40e38e3 7480255
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:09:32 2011 -0800

    am 74802557: am 6c509ef0: am da822367: am 25261f59: Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0
    
    * commit '748025579912f92609cadd71786805e10281858d':
      Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901

commit 748025579912f92609cadd71786805e10281858d
Merge: d3ea6b4 6c509ef
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:07:13 2011 -0800

    am 6c509ef0: am da822367: am 25261f59: Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0
    
    * commit '6c509ef0bad761feecfd94b66d532ae05b450317':
      Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901

commit 6c509ef0bad761feecfd94b66d532ae05b450317
Merge: 3892889 da82236
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:04:39 2011 -0800

    am da822367: am 25261f59: Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0
    
    * commit 'da822367886d68f997153c7edd5368f3dfb6d58d':
      Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901

commit d65eedc608e2b1d547e7699c9aa84a57035b90ca
Merge: ec5f7df da82236
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:04:33 2011 -0800

    am da822367: am 25261f59: Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0
    
    * commit 'da822367886d68f997153c7edd5368f3dfb6d58d':
      Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901

commit da822367886d68f997153c7edd5368f3dfb6d58d
Merge: 8990cb5 25261f5
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:02:44 2011 -0800

    am 25261f59: Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0
    
    * commit '25261f59af0d902f239e541b735f7dc31e714b07':
      Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901

commit 25261f59af0d902f239e541b735f7dc31e714b07
Merge: fe464a7 a4c2caa
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 28 16:00:49 2011 -0800

    Merge "Increase time between wifi stop and wifi start: set to 2 minutes http://b/issue?id=5629901" into ics-mr0

commit 40e38e36fa672902ea72873a77286e15b5b2f6bd
Merge: a1ea841 d3ea6b4
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 15:52:08 2011 -0800

    am d3ea6b40: am 38928899: am 8990cb57: Merge "Fix flashing wifi dialog after rotating back from landscape." into ics-mr1
    
    * commit 'd3ea6b40bb8f0fbc2a877963db1ab4fa0fc02b2f':
      Fix flashing wifi dialog after rotating back from landscape.

commit d3ea6b40bb8f0fbc2a877963db1ab4fa0fc02b2f
Merge: 589364c 3892889
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 15:47:16 2011 -0800

    am 38928899: am 8990cb57: Merge "Fix flashing wifi dialog after rotating back from landscape." into ics-mr1
    
    * commit '3892889952b0ad3fa0b095c96d8ae2ae110585e2':
      Fix flashing wifi dialog after rotating back from landscape.

commit 3892889952b0ad3fa0b095c96d8ae2ae110585e2
Merge: 70a1ee3 8990cb5
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 15:45:32 2011 -0800

    am 8990cb57: Merge "Fix flashing wifi dialog after rotating back from landscape." into ics-mr1
    
    * commit '8990cb5768efba46bb1d7458377dd44498afcfdb':
      Fix flashing wifi dialog after rotating back from landscape.

commit ec5f7df910196ead350af856558eebf8675b7f3d
Merge: 22d1962 8990cb5
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 15:45:30 2011 -0800

    am 8990cb57: Merge "Fix flashing wifi dialog after rotating back from landscape." into ics-mr1
    
    * commit '8990cb5768efba46bb1d7458377dd44498afcfdb':
      Fix flashing wifi dialog after rotating back from landscape.

commit 8990cb5768efba46bb1d7458377dd44498afcfdb
Merge: 500afb8 08837c2
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 15:43:23 2011 -0800

    Merge "Fix flashing wifi dialog after rotating back from landscape." into ics-mr1

commit 08837c246c9c27902c59b41c8661c2f27a4aa2bc
Author: Chet Haase <chet@google.com>
Date:   Mon Nov 28 11:53:21 2011 -0800

    Fix flashing wifi dialog after rotating back from landscape.
    
    There was an error in some of the OpenGL layer logic such that we would
    occasionally set up a layer for rendering and then not clean up when it was
    done. This caused future OpenGL rendering to go into that layer instead of
    to the buffers being displayed on the screen, resulting in artifacts including
    flashes and displaying of stale content. This happened specifically when
    using the wifi settings dialog with the InputMethod keyboard displayed,
    but it was probably visible in other situations as well.
    
    Issue #5628248: Flickering/flashing after entering password for WiFi
    
    Change-Id: I38139f620b310f4309570fa7224552d2ee633999

commit 633b7c6a2ffb673e7e22330150bb57ab67c0d227
Merge: 02f5470 4b173c0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 23 19:24:44 2011 -0800

    am 4b173c0d: am 694b266e: am 7b6d238b: Merge "Fix tethering interaction from wifi" into ics-mr1
    
    * commit '4b173c0d8c168372c0056849cddc932328a6fdd5':
      Fix tethering interaction from wifi

commit 4b173c0d8c168372c0056849cddc932328a6fdd5
Merge: 40da453 694b266e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 23 19:22:50 2011 -0800

    am 694b266e: am 7b6d238b: Merge "Fix tethering interaction from wifi" into ics-mr1
    
    * commit '694b266e0366e5400d577659d1bb8152f0a106e7':
      Fix tethering interaction from wifi

commit 38e09deaf55ff0649df8cb5d48e65b801122ed12
Merge: 1212d24 7b6d238
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 23 19:19:56 2011 -0800

    am 7b6d238b: Merge "Fix tethering interaction from wifi" into ics-mr1
    
    * commit '7b6d238b7515fdd070c361a03e99e6022f2cd2ba':
      Fix tethering interaction from wifi

commit 694b266e0366e5400d577659d1bb8152f0a106e7
Merge: 08b5211 7b6d238
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 23 19:19:56 2011 -0800

    am 7b6d238b: Merge "Fix tethering interaction from wifi" into ics-mr1
    
    * commit '7b6d238b7515fdd070c361a03e99e6022f2cd2ba':
      Fix tethering interaction from wifi

commit 7b6d238b7515fdd070c361a03e99e6022f2cd2ba
Merge: e95f498 c74694d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 23 19:18:22 2011 -0800

    Merge "Fix tethering interaction from wifi" into ics-mr1

commit c74694d5e12b66b1b234d2c8d02a8f72f0e3cd66
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Nov 22 12:57:17 2011 -0800

    Fix tethering interaction from wifi
    
    - Use the right interface for untether
    
    - Wait till tethering service confirms that untether() is successful before
    shutting down soft Ap. This helps to make sure interface does not go away
    before clean up is done.
    
    Bug: 5659166
    Change-Id: Iff9d4a67ff40664c2114e766590d6a83b7739738

commit a4c2caac05009512213454d329579a79dde11e5f
Author: Xia Wang <xiaw@google.com>
Date:   Thu Nov 17 11:11:59 2011 -0800

    Increase time between wifi stop and wifi start: set to 2 minutes
    http://b/issue?id=5629901
    
    Change on state validation:
      - When network state is broadcast in other network information,
        the test activity will record the state change which cause false
        alarm in the test.
    
    Change-Id: I8bd1e8c04ab97116f3a02ccc5543f34a7e651cda

commit 43adbae8037540bee8fa7001b33d7d4e6f1d5770
Merge: d8883f5 0342a42
Author: Mike Lockwood <lockwood@android.com>
Date:   Wed Nov 9 10:55:26 2011 -0800

    Merge "NetworkTimeUpdateService: Schedule NTP on ethernet connect as well as wifi" into ics-aah

commit 0342a420a4a87f8d03d86e85f2f5aa85f28d75fd
Author: Mike Lockwood <lockwood@android.com>
Date:   Wed Nov 9 10:49:29 2011 -0800

    NetworkTimeUpdateService: Schedule NTP on ethernet connect as well as wifi
    
    Change-Id: I936fd9a8119ee361ec0afde60f7931c58ffdd524
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit 9575a1bea1787efe1686bd8562bcc70c72d01721
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Nov 7 10:34:54 2011 -0800

    Convert soft ap config store to state machine
    
    - Create thread when needed
    - asynchronous interaction with wifi state machine
    
    Bug: 5587391
    Change-Id: Ie6d01b5a6b398a3fa12c384920a473e242443131

commit 7400fb353a96e1420877f04cd0015ae1805fa822
Merge: 7e3e8b8 7bfb5b5
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Nov 8 03:52:17 2011 +0000

    am 7bfb5b51: am c06669a3: Merge "Fix scaling on notification panel wifi/battery icons." into ics-mr1
    
    * commit '7bfb5b51de523a33cc413158626b947269427e8f':
      Fix scaling on notification panel wifi/battery icons.

commit 7bfb5b51de523a33cc413158626b947269427e8f
Merge: 39c0e9f c06669a
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Nov 8 03:50:34 2011 +0000

    am c06669a3: Merge "Fix scaling on notification panel wifi/battery icons." into ics-mr1
    
    * commit 'c06669a303f2122a71e83d4813ecf78e6ff2b5a5':
      Fix scaling on notification panel wifi/battery icons.

commit af8a750f827af47f1be75690405a4f3c14d317ed
Merge: 1fcccba c06669a
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Nov 8 03:48:55 2011 +0000

    am c06669a3: Merge "Fix scaling on notification panel wifi/battery icons." into ics-mr1
    
    * commit 'c06669a303f2122a71e83d4813ecf78e6ff2b5a5':
      Fix scaling on notification panel wifi/battery icons.

commit c06669a303f2122a71e83d4813ecf78e6ff2b5a5
Merge: 84b0213 989b9f2
Author: Daniel Sandler <dsandler@android.com>
Date:   Mon Nov 7 19:47:51 2011 -0800

    Merge "Fix scaling on notification panel wifi/battery icons." into ics-mr1

commit 989b9f2100281c302d964eda260a9ad703a6fae0
Author: Daniel Sandler <dsandler@android.com>
Date:   Mon Nov 7 17:09:57 2011 -0500

    Fix scaling on notification panel wifi/battery icons.
    
    Still needs a redesign.
    
    Bug: 5544770
    Change-Id: I27f6ea9f788110d7027b3ea788ca98216fa4fe28

commit 464a98151c83d71c4dd94b95968eb2f42eb83126
Author: John Grossman <johngro@google.com>
Date:   Mon Oct 31 16:34:24 2011 -0700

    Timesync: Improve logging and reject bad resps.
    
    + Improve the state machine logging in the time server so we have some
      visibility into why it is doing the things it is doing.
    + Also, reject sync responses we receive from IP addresses which are
      not our current master.  Given the poor quality of the AAH WiFi
      network right now, we are thrashing a whole lot and can actually get
      into a state where this starts to happen.  Its easy to check and
      reject invalid responses, so do so.
    
    Change-Id: I2318be3998c7f9f77bb25588d935f54394976875

commit b68d7ab80a721661cdff300cd9b2e65a9769737f
Merge: b453daf 12f9900
Author: Scott Main <smain@google.com>
Date:   Thu Oct 27 15:55:22 2011 +0000

    am 12f9900b: am 737c3dd9: Merge "docs: add package description for wifi.p2p and update the one for wifi" into ics-mr0
    
    * commit '12f9900bfb004a09ea6a8ce0df27c661124f46ac':
      docs: add package description for wifi.p2p and update the one for wifi

commit 12f9900bfb004a09ea6a8ce0df27c661124f46ac
Merge: d085df3 737c3dd
Author: Scott Main <smain@google.com>
Date:   Thu Oct 27 15:51:21 2011 +0000

    am 737c3dd9: Merge "docs: add package description for wifi.p2p and update the one for wifi" into ics-mr0
    
    * commit '737c3dd9f116ae68bcb9b5ce6855afaf2f59738b':
      docs: add package description for wifi.p2p and update the one for wifi

commit 737c3dd9f116ae68bcb9b5ce6855afaf2f59738b
Merge: aac4184 63fcb39
Author: Scott Main <smain@google.com>
Date:   Thu Oct 27 08:49:48 2011 -0700

    Merge "docs: add package description for wifi.p2p and update the one for wifi" into ics-mr0

commit 951ee2a847acd35f4236e411538f19b84e29a053
Merge: 1686fc3 ee89393
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Oct 20 10:53:28 2011 -0700

    am ee89393f: am 0d6ff010: Tune wifi RSSI code (see bug 5241139).
    
    * commit 'ee89393f5f48c1d621af291121d1624b6127dba5':
      Tune wifi RSSI code (see bug 5241139).

commit ee89393f5f48c1d621af291121d1624b6127dba5
Merge: 5c405fe 0d6ff01
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Oct 20 10:50:54 2011 -0700

    am 0d6ff010: Tune wifi RSSI code (see bug 5241139).
    
    * commit '0d6ff01050af1bc37ee383c9c7ed1b3a3aa775bf':
      Tune wifi RSSI code (see bug 5241139).

commit 0d6ff01050af1bc37ee383c9c7ed1b3a3aa775bf
Author: Daniel Sandler <dsandler@android.com>
Date:   Wed Oct 19 21:02:37 2011 -0400

    Tune wifi RSSI code (see bug 5241139).
    
    Bug: 5241139
    Change-Id: I3fef432c39f1b33532e48b643bd9268d3df0f864

commit 7aae98b5279689f55a5ec74c450e21e5362f9eea
Merge: 3d13c28 bf83971
Author: Dianne Hackborn <hackbod@google.com>
Date:   Wed Oct 19 17:19:03 2011 -0700

    am bf83971b: am 16362041: Merge "Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo." into ics-mr0
    
    * commit 'bf83971ba883e30e778558cf4df1e034233214c9':
      Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo.

commit bf83971ba883e30e778558cf4df1e034233214c9
Merge: 6ca2b06 1636204
Author: Dianne Hackborn <hackbod@google.com>
Date:   Wed Oct 19 17:17:29 2011 -0700

    am 16362041: Merge "Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo." into ics-mr0
    
    * commit '163620417bc2980528e2079e3456c9600a92e165':
      Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo.

commit 163620417bc2980528e2079e3456c9600a92e165
Merge: 018cb11 c7d233d
Author: Dianne Hackborn <hackbod@google.com>
Date:   Wed Oct 19 17:15:39 2011 -0700

    Merge "Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo." into ics-mr0

commit c7d233d93f84fce9877c3eb645bbb515baf0dc0a
Author: Dianne Hackborn <hackbod@google.com>
Date:   Wed Oct 19 16:55:27 2011 -0700

    Fix issue #5484096: Device rebooted after turning WiFi tethering ON, IRL19 Crespo.
    
    Change-Id: Iee530ae4adac20eb9637cc1b933a2202f4beb373

commit 63fcb397a2583255ec4a0f5e5d8c4c124c272616
Author: Scott Main <smain@google.com>
Date:   Tue Oct 18 10:17:17 2011 -0700

    docs: add package description for wifi.p2p and update the one for wifi
    
    Change-Id: Iaf80f9640a4d56100e22d93954edd8aeb5ea4d2b

commit 679f6c614a6c0514d6ec7c0b21640fe8882a9f6e
Merge: 81f9650 0dc9937
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:22:38 2011 -0700

    am 0dc9937d: am 210ccb81: Merge "Updated wifi in range status bar notification icon" into ics-mr0
    
    * commit '0dc9937d4d9ae0a0c216fe661a1ecb3e985a53e4':
      Updated wifi in range status bar notification icon

commit b6883f94494d3e421ab00566765b21ab0dce8611
Merge: d932eeb d54b59e
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:22:33 2011 -0700

    am d54b59e8: am 41f45e49: Merge "Updated stat_sys wifi icons" into ics-mr0
    
    * commit 'd54b59e8a04ad9ca68dbdfdb096a2a4a26cc8d3c':
      Updated stat_sys wifi icons

commit 0dc9937d4d9ae0a0c216fe661a1ecb3e985a53e4
Merge: 695d9b0 210ccb8
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:20:04 2011 -0700

    am 210ccb81: Merge "Updated wifi in range status bar notification icon" into ics-mr0
    
    * commit '210ccb8110be9297acc94975d97156ee8ee2d61b':
      Updated wifi in range status bar notification icon

commit d54b59e8a04ad9ca68dbdfdb096a2a4a26cc8d3c
Merge: 496e809 41f45e4
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:19:59 2011 -0700

    am 41f45e49: Merge "Updated stat_sys wifi icons" into ics-mr0
    
    * commit '41f45e4969565d21f7d49b2b1cf828e27af73efa':
      Updated stat_sys wifi icons

commit 210ccb8110be9297acc94975d97156ee8ee2d61b
Merge: b5e8a29 a197abd
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:17:34 2011 -0700

    Merge "Updated wifi in range status bar notification icon" into ics-mr0

commit 41f45e4969565d21f7d49b2b1cf828e27af73efa
Merge: 86e12a8 1084195
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:16:37 2011 -0700

    Merge "Updated stat_sys wifi icons" into ics-mr0

commit a197abdc52c49d051a32df37842917e2e89e7c11
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 15:13:44 2011 -0700

    Updated wifi in range status bar notification icon
    
    Change-Id: I5e91d14473908086848db552acec0df90e7104c2

commit 1084195d51d8d7cef5e0328e97eaee3ec1d4ecef
Author: Justin Ho <justinho@google.com>
Date:   Thu Oct 13 09:26:31 2011 -0700

    Updated stat_sys wifi icons
    
    Change-Id: I28d022bc554656c23adcf959df00b0b1c5fd95a9

commit a66b1156af21297638401b4bbc5fc8506a5564a6
Merge: e99b689 74450d3
Author: Anirudh Dewani <anirudhd@google.com>
Date:   Thu Oct 6 17:59:21 2011 -0700

    am 74450d37: Merge "Docs changes for WiFiDirect sample"
    
    * commit '74450d37cf20915a834f78bb26d5ef481d039a71':
      Docs changes for WiFiDirect sample

commit 74450d37cf20915a834f78bb26d5ef481d039a71
Merge: 31743d8 5d0dbea
Author: Anirudh Dewani <anirudhd@google.com>
Date:   Thu Oct 6 17:57:55 2011 -0700

    Merge "Docs changes for WiFiDirect sample"

commit 5d0dbea9e9630ff2792a76b00b1016ae8215cdd9
Author: Anirudh Dewani <anirudhd@google.com>
Date:   Thu Oct 6 08:03:45 2011 +0530

    Docs changes for WiFiDirect sample
    
    Change-Id: Icfe3cc12c451563792745fc4c326d064cac978c3

commit a6cbcf051af2af5938cdde4e9c10fde01d124395
Merge: 527d9a1 774f9856
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Oct 3 13:57:46 2011 -0700

    am 774f9856: Merge "Remember wifi disable due to airplane"
    
    * commit '774f9856d31d42741660c07d24a1bb86c754365e':
      Remember wifi disable due to airplane

commit 774f9856d31d42741660c07d24a1bb86c754365e
Merge: be25ca2 31b92e2
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Oct 3 13:53:42 2011 -0700

    Merge "Remember wifi disable due to airplane"

commit 31b92e28a577f2f36f30b8a95147155fec038e30
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Oct 3 12:13:20 2011 -0700

    Remember wifi disable due to airplane
    
    Add the wifi disabled due to airplane mode as a seperate settings so
    that wifi is restored after a reboot when airplane mode is turned off
    
    Bug: 5365718
    Change-Id: I36a9694bbcacd5bb5f89498e4adc47c81e611da6

commit f7231ad551ce7b18b14db12834f4ff876fcd2005
Merge: 878a55b df4a97e
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 10:23:58 2011 -0700

    am df4a97ed: am 8b42fcef: Fix wifi data activity icons
    
    * commit 'df4a97ede4a4aa878b91c3f81e1bfc05c4b75551':
      Fix wifi data activity icons

commit df4a97ede4a4aa878b91c3f81e1bfc05c4b75551
Merge: 289d93a 8b42fce
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 10:21:53 2011 -0700

    am 8b42fcef: Fix wifi data activity icons
    
    * commit '8b42fcef5ac33d94b76e3002861d4ea4081a6a4f':
      Fix wifi data activity icons

commit 8b42fcef5ac33d94b76e3002861d4ea4081a6a4f
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 07:57:50 2011 -0700

    Fix wifi data activity icons
    
    Bug: 5393252
    Change-Id: I6ca650b4f722b2c8cc4d17b1bc6ec2f2c0b7e10d

commit 8cf60154ef6c389b15cbe4ea8be513db5edb9bb5
Merge: b95dc68 df73a55
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 09:59:53 2011 -0700

    am df73a558: Merge "Fix wifi data activity icons"
    
    * commit 'df73a5587005b69af9a5fd64cb12f77e9f3a86d8':
      Fix wifi data activity icons

commit b95dc6834e4685ccca66bbd95e29650e07a21674
Merge: d588942 82afa6e
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 09:59:52 2011 -0700

    am 82afa6e6: Merge "Fix IPv6 on wifi"
    
    * commit '82afa6e61e6e8df57b71096a9f07eda956442fec':
      Fix IPv6 on wifi

commit df73a5587005b69af9a5fd64cb12f77e9f3a86d8
Merge: 82afa6e ecc430e
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 09:57:51 2011 -0700

    Merge "Fix wifi data activity icons"

commit 82afa6e61e6e8df57b71096a9f07eda956442fec
Merge: ff1ea0d 7960d9f
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 09:57:36 2011 -0700

    Merge "Fix IPv6 on wifi"

commit ecc430e9f5783649d75704aa7ae90a542ee85862
Author: repo sync <isheriff@google.com>
Date:   Fri Sep 30 07:57:50 2011 -0700

    Fix wifi data activity icons
    
    Bug: 5393252
    Change-Id: I6ca650b4f722b2c8cc4d17b1bc6ec2f2c0b7e10d

commit 7960d9f888e31602e17b8856c77a3826bf8c841e
Author: repo sync <isheriff@google.com>
Date:   Thu Sep 29 12:40:02 2011 -0700

    Fix IPv6 on wifi
    
    Bug: 5388757
    Change-Id: I3c8c776c26dad1daa9801d0455fde749c0206401

commit c1358b240c28443496249a5483afaccfc93f8d97
Author: Lorenzo Colitti <lorenzo@google.com>
Date:   Wed Sep 28 22:31:45 2011 -0700

    Revert "Tell the resolver what protocols to use."
    
    Change Ife82a8d8 broke IPv6 on wifi. Change I4e3a69ea is
    an alternate approach that does not require any framework
    changes.
    
    Bug: 5284168
    Change-Id: Ib6e002aa23700adc71051cf6b76860545497dbf4

commit 4a5fe793361ff77da3b0187babdb26729f52eff9
Merge: d44413f e7b4090
Author: Peter Ng <petergng@google.com>
Date:   Mon Sep 26 19:17:58 2011 -0700

    am e7b40904: Merge "Vpn icon updated to a flat key and wifi updated to a two tone graphic"
    
    * commit 'e7b40904be006d1c79776942a9050aace43ac044':
      Vpn icon updated to a flat key and wifi updated to a two tone graphic

commit e7b40904be006d1c79776942a9050aace43ac044
Merge: 1867a3c 51be3b2
Author: Peter Ng <petergng@google.com>
Date:   Mon Sep 26 17:02:06 2011 -0700

    Merge "Vpn icon updated to a flat key and wifi updated to a two tone graphic"

commit 51be3b2ed9e04a6e613a5bcdb4b5845dc5e0d24c
Author: Peter Ng <petergng@google.com>
Date:   Mon Sep 26 16:40:31 2011 -0700

    Vpn icon updated to a flat key and wifi updated to a two tone graphic
    
    Bug: 5155775
    Change-Id: I302fa857185761c408a26b7360ab0db48e72642d

commit 7c12eee6439435d7f29d49cab76edaedbd809460
Author: Daniel Sandler <dsandler@android.com>
Date:   Sun Sep 25 15:53:33 2011 -0400

    Update all RSSIs whenever the connectivity changes.
    
    The connectivity includes the network condition, which is a
    magic number that indicates how useful the connection is
    (driven by ability to connect to GTalk, and manifested with
    a differently-colored signal icon).
    
    Previously we were only updating the icons of the network
    type currently in use. Now we tickle all the icons any time
    the connectivity changes, to avoid the two icons getting out
    of sync (example: on mobile, connection is bad, connect to
    wifi, conncetion is good; wifi icon appears and turns blue
    but mobile RSSI remains gray).
    
    Bug: 5369405
    Change-Id: I78b62084b819c83f83aacc146feeb323c1199dc0

commit 9858a1bc8509cc8c10dc19dceb5efbe1038cf29d
Merge: 4e1842c 15bbaeb
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 23 15:22:54 2011 -0700

    am 15bbaeb0: am c21994bc: Merge "Fix watchdog to stop ping after wifi disconnects" into ics-factoryrom
    
    * commit '15bbaeb0753f5336a5e8ee07e6f796657ecefb73':
      Fix watchdog to stop ping after wifi disconnects

commit 15bbaeb0753f5336a5e8ee07e6f796657ecefb73
Merge: ba7bc59 c21994b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 23 15:20:56 2011 -0700

    am c21994bc: Merge "Fix watchdog to stop ping after wifi disconnects" into ics-factoryrom
    
    * commit 'c21994bc26df959d1a7161e38b4402b7255ea321':
      Fix watchdog to stop ping after wifi disconnects

commit c21994bc26df959d1a7161e38b4402b7255ea321
Merge: b20d378 32f04e9
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 23 15:18:37 2011 -0700

    Merge "Fix watchdog to stop ping after wifi disconnects" into ics-factoryrom

commit 32f04e9009046f72242932bf4e820802148e423a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 23 14:48:26 2011 -0700

    Fix watchdog to stop ping after wifi disconnects
    
    - The pings are delayed async messages that were getting handled
    after a disconnect as well
    
    - Increase poll time to 200 ms, so we block on a receive for 1ms every 200ms for a
    sent packet
    
    Bug: 5361564
    Change-Id: I1931a1c4146e78a87407d541d8c3934ff8232604

commit a2fae17ff4b5e13282527dfa5f4e031b1b5857e6
Author: Peter Ng <petergng@google.com>
Date:   Tue Sep 20 16:06:19 2011 -0700

    Updated stat_ icons
    
    -tethering icons updated, no longer blue
    -available wifi updated with new wifi icon
    -other stat_sys and stat_notify are simple metadata cleanups
    
    Bug: 5076774
    Change-Id: Icdcf0033e47aed8a359176c5cb6a36d5dbda2cef

commit 5f0ee8b30a815d582aa1237780ccfc333ee157f0
Author: Peter Ng <petergng@google.com>
Date:   Tue Sep 20 16:06:19 2011 -0700

    updated stat_ in frameworks
    
    -tethering icons updated, no longer blue
    -available wifi updated with new wifi icon
    -other stat_sys and stat_notify are simple metadata cleanups
    
    Bug: 5076774
    
    Change-Id: If08d0a6afbd3e76e8c8397db7a016eb70339b1d4

commit 121090d5b27280786c33a578144f0430715b38af
Merge: 0641ebd 369711f
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Sep 15 07:59:24 2011 -0700

    am 369711f8: Merge "Fix overlapping wifi and airplane icons."
    
    * commit '369711f89b251dd0136e7a2dc6a08b64d31af129':
      Fix overlapping wifi and airplane icons.

commit 369711f89b251dd0136e7a2dc6a08b64d31af129
Merge: cb99512 5ccff81
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Sep 15 07:56:48 2011 -0700

    Merge "Fix overlapping wifi and airplane icons."

commit 9c3e293f928108e1fcf2722c4f523a64ec227c1a
Merge: 05a73a4 651cdfc
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 13 16:09:14 2011 -0700

    am 651cdfcb: Unhide wifi p2p API
    
    * commit '651cdfcbac6245f570475991588ddc2d30265e8d':
      Unhide wifi p2p API

commit 651cdfcbac6245f570475991588ddc2d30265e8d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Sep 7 00:31:20 2011 -0700

    Unhide wifi p2p API
    
    Bug: 5247957
    Change-Id: Id93e30c0cb60f361ba13a840de8f843415777336

commit 5ccff81a642844138b144ad2cc339eba188812a0
Author: Daniel Sandler <dsandler@android.com>
Date:   Tue Sep 13 15:17:58 2011 -0400

    Fix overlapping wifi and airplane icons.
    
    Bug: 5254547
    Change-Id: If293be36c4e06a8fac6f728b1f96e5759fe20f6d

commit 616f3173e08ec6110cf5766c70f84c9e031fb7d7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Sep 11 19:59:01 2011 -0700

    Emergency callback mode handling
    
    For wifi, track ECM and shut down and restart when device
    goes in ECM and out
    
    For p2p, simply turn off when in ECM mode
    
    Bug: 5185246
    Change-Id: I5f5bf75fac3e27db1d7c412135c796f2b137263d

commit 467869220c0d1ead673a95655cf48d94fd3e9f6d
Merge: 885ade6 858c396
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 9 15:16:25 2011 -0700

    am 858c396e: Merge "Finalize wifi watchdog default settings"
    
    * commit '858c396e877d04843af6db663218b3992c8fee64':
      Finalize wifi watchdog default settings

commit 858c396e877d04843af6db663218b3992c8fee64
Merge: dd4c771 998196d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 9 15:15:13 2011 -0700

    Merge "Finalize wifi watchdog default settings"

commit 998196d64d35c1767dbb08f059fe3af171e44e1d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Sep 9 12:36:28 2011 -0700

    Finalize wifi watchdog default settings
    
    - Reduce DNS counts from 15 to 5. 15 was for debug.
    - Keep success scenario as atleast 1 being successful
    - Wait for a second to start checks (for some setups)
    - Use one bar as a start for doing periodic DNS checks
    - Do a DNS check every hour (instead of half hour)
    
    Bug: 5284337
    Change-Id: Ie64d8cac48318a0c4c59f91ad21f8c6712b71338

commit 6acf39b3c6b67c2d302b6a01a213bd40a8192909
Author: JP Abgrall <jpa@google.com>
Date:   Thu Sep 8 15:13:26 2011 -0700

    NetworkManagementService: adjust the qtaguid idx to new kernel
    
    https://partner.source.android.com/g/#/c/8968/ introduced
    
      idx iface acct_tag_hex uid_tag_int cnt_set ...
      2 wlan0 0x0 10022 0 ...
      3 wlan0 0x0 10022 1 ...
      4 wlan0 0x3010000000000000 10022 0 ...
      5 wlan0 0x3010000000000000 10022 1 ...
    
    so treat it as monotonic starting a idx 1 for header line.
    
    Change-Id: Ie1d0ec9a0b7103620a93b0ef0b01c13fe4162616

commit 9b2886e24301e5d4e7052ec4a6eaff273d3f516c
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Aug 31 11:46:42 2011 -0700

    Create new isNetworkSupported API
    
    Useful for checking if on a wifi-only device.
    Similar to asking for NetworkInfo for a network type and checking for
    null, though here the intent is explicit.
    
    bug:5087537
    Change-Id: Ia3ddd09b6b735b8b3ceb7a347891e015fd96b218

commit d2310a0ae2eca5bca2f93e5275247ee77db81260
Merge: e8af9a7 a81fe3b
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Aug 25 13:21:34 2011 -0700

    am a81fe3bb: Merge "Only show wifi indicator when wifi is connected."
    
    * commit 'a81fe3bbcc49a783ff99aea5e09e15191b065017':
      Only show wifi indicator when wifi is connected.

commit a81fe3bbcc49a783ff99aea5e09e15191b065017
Merge: 07800a5 7b2013d
Author: Daniel Sandler <dsandler@android.com>
Date:   Thu Aug 25 07:57:06 2011 -0700

    Merge "Only show wifi indicator when wifi is connected."

commit 7b2013d94c29da01dba298c6ab97b7b2b37fad34
Author: Daniel Sandler <dsandler@android.com>
Date:   Wed Aug 24 12:20:55 2011 -0700

    Only show wifi indicator when wifi is connected.
    
    Bug: 5182789
    Change-Id: I06e9592f9c51affd3b05b163f7a4f7b0c144403f

commit 28f89d40ee7bab93cf7b783f92dbb18bdc43e473
Author: Daniel Sandler <dsandler@google.com>
Date:   Mon Aug 15 14:04:15 2011 -0400

    Fix the crazy RSSI icons.
    
    Codepaths for wifi and mobile were contaminating one
    another's data, which is fine when you're only showing one
    at a time, but not so good in the general case.
    
    Bug: 3481508
    Bug: 5159559
    Bug: 5161130
    Bug: 5163206
    Change-Id: I64e6f5ebd07a5b0777e7296b1c210195431e4ce6

commit a34a9dd42605b0f90890ed788c498437778e5296
Merge: f86ab0d 37d81ac
Author: Adam Powell <adamp@google.com>
Date:   Sun Aug 14 17:39:55 2011 -0700

    am 37d81ac3: Merge "Fix bug 4981687 - WiFi connection dialog should dismiss when tapped outside."
    
    * commit '37d81ac316db1e9fab455d5b80012c8cf8b6c334':
      Fix bug 4981687 - WiFi connection dialog should dismiss when tapped outside.

commit 37d81ac316db1e9fab455d5b80012c8cf8b6c334
Merge: 27b1c97 d42bc52
Author: Adam Powell <adamp@google.com>
Date:   Sun Aug 14 17:38:27 2011 -0700

    Merge "Fix bug 4981687 - WiFi connection dialog should dismiss when tapped outside."

commit d42bc52030f3ab9d5e215033916cfee0b6e05bcc
Author: Adam Powell <adamp@google.com>
Date:   Sun Aug 14 17:16:37 2011 -0700

    Fix bug 4981687 - WiFi connection dialog should dismiss when tapped outside.
    
    Be more forceful in how we allow touch outside to dismiss in
    non-fullscreen situations. Dialogs will be canceled. Activities will
    be finished.
    
    Change-Id: I041a60501319829a2214f9249d154d5513049a0f

commit 5a63aa3d7722c14c75d99a19687fe7d0b966424b
Merge: f8a8961 50a928f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Aug 9 15:50:00 2011 -0700

    am 50a928f4: Merge "Avoid turning off wifi tethering on interface down"
    
    * commit '50a928f41445141be50428b02bd86a9ffcfd5f8e':
      Avoid turning off wifi tethering on interface down

commit 50a928f41445141be50428b02bd86a9ffcfd5f8e
Merge: f6d08b9 14f3ae7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Aug 9 15:47:20 2011 -0700

    Merge "Avoid turning off wifi tethering on interface down"

commit 14f3ae7fe0a73aae4e023ed815c51597c1bc5455
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Aug 8 17:06:35 2011 -0700

    Avoid turning off wifi tethering on interface down
    
    The hostapd daemon can bring down an interface, followed by immediately bringing it up
    and this results in us turning off tethering completely.
    
    Wait for the right notification to enter tethered state after brining up hostapd.
    
    Bug: 5135245
    Change-Id: I95c8c0c4c2c99c03fce2d18c014eaff37ed4e762

commit 8dc6a1b2823f374a176fb21b8a174664a5f825fa
Author: Isaac Levy <ilevy@google.com>
Date:   Wed Jul 27 08:00:03 2011 -0700

    Watchdog notify on explicit connect
    
    Notifies when user explicitly clicks on wifi dialog.
    
    Change-Id: I5eee37d68b422d748d41e9384d5006482a223dc5

commit f183f72dce4a2f789dc5d045ddd62f7146122b2c
Merge: 97121fe 6f9e6ea
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Jul 27 16:11:27 2011 -0700

    am 6f9e6ea8: Merge "Will not disable wifi on wifi-only devices."
    
    * commit '6f9e6ea8dfa1dce3cb04f2146c0f33b88885e24c':
      Will not disable wifi on wifi-only devices.

commit 6f9e6ea8dfa1dce3cb04f2146c0f33b88885e24c
Merge: c8b7ac1 4ad39d6
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Jul 27 16:09:18 2011 -0700

    Merge "Will not disable wifi on wifi-only devices."

commit 4ad39d6ac16961df0e7a3e4b4e7075aaa5202787
Author: Isaac Levy <ilevy@google.com>
Date:   Tue Jul 26 18:59:12 2011 -0700

    Will not disable wifi on wifi-only devices.
    
    - Turn off watchdog by default on wifi-only devices, b/5073657
    - Do not disable wifi networks if connectivity manager reports
    no mobile connection.
    
    Change-Id: I835e753624fc5e447081cde473039011721112c6

commit 7dd04132d370537a07d3ad0e0ee7c8ff75166876
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jul 26 13:29:28 2011 -0700

    Run hostapd on a seperate thread
    
    Hostapd start can block and state machine can be slow to respond.
    Refactor wifi state machine to handle this behavior.
    
    Bug: 5079498
    Change-Id: Id7707bf2b0e1cb46a1f1374598ec4d7f6403ae1a

commit e8daf2a7000e12dc0d62cb98b06ca849cf40564a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Jul 24 14:28:15 2011 -0700

    Fix interface notification race
    
    In one use case, I see that if we go straight from
    wifi client mode to tethering operation, the interface change notifications
    are reported in an order that causes to enter tethered state
    without actually tethering through connectivity service.
    
    It is because an interface down notification (from wifi going down) comes after
    we have started soft ap and we think we have tethered after calling startTethering
    and switch to Tethered state
    
    Instead, we should make sure tethering has started before going to Tethered state.
    
    Change-Id: Iba7e8fab0feeb5637d40938862a8638871df8b02

commit 7ef8611b5f3a893a46c7b9e22bdd8ab252e373ff
Author: Chia-chi Yeh <chiachi@android.com>
Date:   Fri Jul 22 15:46:52 2011 -0700

    VPN: increase timeout period to 60 seconds for legacy VPN.
    
    Some VPN needs more time than others in order to create the secure tunnel.
    For example, L2TP/IPSec PSK on average needs 15 seconds on WiFi. On mobile
    connection, variation gets larger, and it sometimes needs more than 30
    seconds. This change increases timeout period from 30 to 60 seconds.
    
    Change-Id: I6006fd254a7bc91c22f63d2f3f20ea79ee9b05e2

commit 4735a5d3d4704f39a2573892f7eedc14563383be
Merge: 432fb8e d7b3e6a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jul 21 11:28:51 2011 -0700

    Merge "WifiWatchdogSM notification for first wifi disable"

commit d7b3e6a39b6b2e155b24ef470023bafb3b9fa35a
Author: Isaac Levy <ilevy@google.com>
Date:   Wed Jul 20 18:15:30 2011 -0700

    WifiWatchdogSM notification for first wifi disable
    
    Also moved customizable settings into Settings.Secure and
    added listeners for setting changes into the state machine.
    
    Change-Id: Ia6859c71f7edae13062685867959adc423af4643

commit 3550ac919c492f3fbaebbf868f4df0d1ea7ee784
Author: Isaac Levy <ilevy@google.com>
Date:   Thu Jul 7 09:17:29 2011 -0700

    Adding WifiInfo object in CONNECTED broadcast
    
    Adding a parsable wifiinfo object in Connected broadcast, public api.
    The connected broadcast only occurs on successful setup on the wifi
    interface, so in normal use is very infrequent (once if the wifi
    sleeps, or once at new hotspots, etc...)
    
    WifiInfo objects are small, <10 ints, <5 short strings, and contain info
    that could be useful to listeners, such as SSID.
    
    The alternative is to the poll the Wifi Manager, using getConnectionInfo.
    Because the Wifi Manager can update state in its own thread, polling the
    Wifi Manager might result in an info object that's out of sync from the
    received broadcast.
    
    Change-Id: Iafcec77f45dd094ea84e6022b7a40e8952ae8137

commit 654f5090754e4e1bf4c1736d0a24769a15a6037e
Author: Isaac Levy <ilevy@google.com>
Date:   Wed Jul 13 17:41:45 2011 -0700

    WifiWatchdog rewrite to formal statemachine
    
    Rewrote wifiwatchdog service to use net.statemachine
    
    Change-Id: Id6fd42b13192ac2e99f842ff50e9edff1696675d

commit 0870e814679b4cb4e2c74c7225a9414650a1c7c8
Merge: 5a8eccb 7c34f29
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Jul 11 16:47:25 2011 -0700

    Merge "Fix wifi tethering."

commit 7c34f29c8a8abb91da09cdc426d8466eb954713a
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Jul 11 15:16:32 2011 -0700

    Fix wifi tethering.
    
    The new link-status netlink monitor is a bit chatty and we were getting race conditions.
    The wl0.1 soft-ap interface was getting created, but in the off state.  We would report
    it available (link-added always reports it) causing wifi to start tethering, but then
    we'd sometimes get a link-status-down notification and a link-status-up, causing wifi
    to freak out with these two requests.
    
    The simple fix was to not listen to the new link-status notifications.  This should be
    redesigned in the future.
    bug:4983942
    
    Change-Id: Ica4f34d8bf2a07fc19b35a1e15283a7f8022165e

commit 9324e04dcf4d5dd4dd08b1a4d7d981e259df3fe0
Merge: f8c34ad f89654d
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Sun Jul 3 20:01:55 2011 -0700

    Merge "Do not hold wifi lock when SIP is also available over mobile network."

commit f89654dd2847cc574dfa6a44806289f7e69e17b7
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Fri Jul 1 19:25:46 2011 +0800

    Do not hold wifi lock when SIP is also available over mobile network.
    
    Bug: 3111564
    Change-Id: Ifc76e5c378d620e40ce4adf6ffa20807e9750fdb

commit 3541ce04ddb1b559ac9e79b5067c93b910f22955
Author: Isaac Levy <ilevy@google.com>
Date:   Tue Jun 28 17:05:26 2011 -0700

    Ping through default dns & ping settings changes
    
    Changed DnsPinger to use the system default DNS if linkprops doesn't
    have a dns.  This mirrors the behavior of the system overall.
    
    Minor changes to wifiWatchdogService settings.
    
    Change-Id: I8de73cf5bd24bc69343c7d9dc999d198195ec0ec

commit bc7dfb58bffea133ccf6d94470a26f8d193f4890
Author: Isaac Levy <ilevy@google.com>
Date:   Mon Jun 6 15:34:01 2011 -0700

    WifiWatchdogService - disable bad connections
    
    Complete rewrite of WifiWatchdogService.java.  Checking for connectivity and managing wifi upon failure detection.
    
    Change-Id: Ifcb8b5d7e0112cbc2f2282d76fdc93ea15527a44

commit 680e0a4782a2b8012343794a36e8e7debcb2305c
Merge: 52a31da 89f2ea6
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jun 9 16:53:27 2011 -0700

    Merge "Remove interface disable in wifistatemachine"

commit 89f2ea6fc24d6010f83caf89b462b7caa75ce022
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jun 9 16:42:36 2011 -0700

    Remove interface disable in wifistatemachine
    
    Supplicant now handles interface disable/enable on its own
    
    Change-Id: Ib104989dd49654befff82261cc531b0646c7b15d

commit 3f3913550c10792edb8aecf66cc83c3db5c8b311
Author: Jeff Sharkey <jsharkey@android.com>
Date:   Sun Jun 5 17:42:53 2011 -0700

    Persist network stats using AtomicFile.
    
    Implements read/write of network stats using AtomicFile, along with
    magic number and versioning.  Stores in "/data/system/netstats.bin"
    for now.  Tests to verify that stats are persisted across a simulated
    reboot, and to verify that TEMPLATE_WIFI is working.
    
    Fixed bug where kernel counters rolling backwards would cause negative
    stats to be recorded; now we clamp deltas at 0.
    
    Change-Id: I53bce26fc8fd3f4ab1e34ce135d302edfa34db34

commit 5cfee3fabb3482c6a6df1c8b6f21e843cf214527
Author: Brian Carlstrom <bdc@google.com>
Date:   Tue May 31 01:00:15 2011 -0700

    Integrating keystore with keyguard (Part 1 of 4)
    
    Summary:
    
    frameworks/base
      keystore rewrite
      keyguard integration with keystore on keyguard entry or keyguard change
      KeyStore API simplification
    
    packages/apps/Settings
      Removed com.android.credentials.SET_PASSWORD intent support
      Added keyguard requirement for keystore use
    
    packages/apps/CertInstaller
      Tracking KeyStore API changes
      Fix for NPE in CertInstaller when certificate lacks basic constraints
    
    packages/apps/KeyChain
      Tracking KeyStore API changes
    
    Details:
    
    frameworks/base
    
       Move keystore from C to C++ while rewriting password
       implementation. Removed global variables. Added many comments.
    
    	cmds/keystore/Android.mk
    	cmds/keystore/keystore.h
    	cmds/keystore/keystore.c => cmds/keystore/keystore.cpp
    	cmds/keystore/keystore_cli.c => cmds/keystore/keystore_cli.cpp
    
       Changed saveLockPattern and saveLockPassword to notify the keystore
       on changes so that the keystore master key can be reencrypted when
       the keyguard changes.
    
    	core/java/com/android/internal/widget/LockPatternUtils.java
    
       Changed unlock screens to pass values for keystore unlock or initialization
    
    	policy/src/com/android/internal/policy/impl/PasswordUnlockScreen.java
    	policy/src/com/android/internal/policy/impl/PatternUnlockScreen.java
    
       KeyStore API changes
       - renamed test() to state(), which now return a State enum
       - made APIs with byte[] key arguments private
       - added new KeyStore.isEmpty used to determine if a keyguard is required
    
    	keystore/java/android/security/KeyStore.java
    
       In addition to tracking KeyStore API changes, added new testIsEmpty
       and improved some existing tests to validate expect values.
    
    	keystore/tests/src/android/security/KeyStoreTest.java
    
    packages/apps/Settings
    
        Removing com.android.credentials.SET_PASSWORD intent with the
        removal of the ability to set an explicit keystore password now
        that the keyguard value is used. Changed to ensure keyguard is
        enabled for keystore install or unlock. Cleaned up interwoven
        dialog handing into discrete dialog helper classes.
    
    	AndroidManifest.xml
    	src/com/android/settings/CredentialStorage.java
    
        Remove layout for entering new password
    
    	res/layout/credentials_dialog.xml
    
        Remove enable credentials checkbox
    
    	res/xml/security_settings_misc.xml
    	src/com/android/settings/SecuritySettings.java
    
        Added ability to specify minimum quality key to ChooseLockGeneric
        Activity. Used by CredentialStorage, but could also be used by
        CryptKeeperSettings. Changed ChooseLockGeneric to understand
        minimum quality for keystore in addition to DPM and device
        encryption.
    
    	src/com/android/settings/ChooseLockGeneric.java
    
        Changed to use getActivePasswordQuality from
        getKeyguardStoredPasswordQuality based on experience in
        CredentialStorage. Removed bogus class javadoc.
    
    	src/com/android/settings/CryptKeeperSettings.java
    
        Tracking KeyStore API changes
    
    	src/com/android/settings/vpn/VpnSettings.java
    	src/com/android/settings/wifi/WifiSettings.java
    
       Removing now unused string resources
    
    	res/values-af/strings.xml
    	res/values-am/strings.xml
    	res/values-ar/strings.xml
    	res/values-bg/strings.xml
    	res/values-ca/strings.xml
    	res/values-cs/strings.xml
    	res/values-da/strings.xml
    	res/values-de/strings.xml
    	res/values-el/strings.xml
    	res/values-en-rGB/strings.xml
    	res/values-es-rUS/strings.xml
    	res/values-es/strings.xml
    	res/values-fa/strings.xml
    	res/values-fi/strings.xml
    	res/values-fr/strings.xml
    	res/values-hr/strings.xml
    	res/values-hu/strings.xml
    	res/values-in/strings.xml
    	res/values-it/strings.xml
    	res/values-iw/strings.xml
    	res/values-ja/strings.xml
    	res/values-ko/strings.xml
    	res/values-lt/strings.xml
    	res/values-lv/strings.xml
    	res/values-ms/strings.xml
    	res/values-nb/strings.xml
    	res/values-nl/strings.xml
    	res/values-pl/strings.xml
    	res/values-pt-rPT/strings.xml
    	res/values-pt/strings.xml
    	res/values-rm/strings.xml
    	res/values-ro/strings.xml
    	res/values-ru/strings.xml
    	res/values-sk/strings.xml
    	res/values-sl/strings.xml
    	res/values-sr/strings.xml
    	res/values-sv/strings.xml
    	res/values-sw/strings.xml
    	res/values-th/strings.xml
    	res/values-tl/strings.xml
    	res/values-tr/strings.xml
    	res/values-uk/strings.xml
    	res/values-vi/strings.xml
    	res/values-zh-rCN/strings.xml
    	res/values-zh-rTW/strings.xml
    	res/values-zu/strings.xml
    	res/values/strings.xml
    
    packages/apps/CertInstaller
    
      Tracking KeyStore API changes
    	src/com/android/certinstaller/CertInstaller.java
    
      Fix for NPE in CertInstaller when certificate lacks basic constraints
    	src/com/android/certinstaller/CredentialHelper.java
    
    packages/apps/KeyChain
    
      Tracking KeyStore API changes
    	src/com/android/keychain/KeyChainActivity.java
    	src/com/android/keychain/KeyChainService.java
    	support/src/com/android/keychain/tests/support/IKeyChainServiceTestSupport.aidl
    	support/src/com/android/keychain/tests/support/KeyChainServiceTestSupport.java
    	tests/src/com/android/keychain/tests/KeyChainServiceTest.java
    
    Change-Id: Ic141fb5d4b43d12fe62cb1e29c7cbd891b4be35d

commit 5cd8d4decea60fccb52614b15bd0ceaa9fecc384
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Apr 7 15:56:22 2011 -0700

    handle supplicant stop after child states exit
    
    When a user explicitly disables wifi, wait on the supplicant shut down until after
    all child states have handled exit - this avoids time outs due to communicating with
    supplicant after breaking the socket connection
    
    Bug: 4052161
    
    Change-Id: Iec5bb3e14a2df4a8a12de8bb81d9c10aeb992ad4

commit 1fadab5c36445bb9f0997904dbce44f8e234f847
Author: Dianne Hackborn <hackbod@google.com>
Date:   Thu Apr 14 17:57:33 2011 -0700

    More battery stats improvements.
    
    We now write to the parcel using deltas.  For common situations,
    it only takes 4 bytes to write a delta (new command, time delta,
    significant state changes, flags indicating additional state that
    follows).
    
    Increasing the buffer size to 128K, this give us 32,768 samples
    if they all fit in the smallest delta.  A device that is doing
    something every minute (like acquiring a wake lock or doing a
    wifi scan) for our max target battery life of 30 days would
    generate 43,200 samples.
    
    Also some turning to the maximum time between samples at which
    we decide to completely collapse two samples.
    
    Change-Id: I074a698d27ccf9389f9585abfc983af2f5ba7a54

commit 5cde33b7d14841677414fa9f43a043bb4a89ffa7
Merge: 966f9e5 a4b76ff
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 13 16:05:07 2011 -0700

    am a4b76ff4: am d69ec89f: am 46b59ef0: Merge "Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi" into honeycomb-mr1
    
    * commit 'a4b76ff4911538f01e92af2f3fa3f4016ad0e290':
      Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi

commit a4b76ff4911538f01e92af2f3fa3f4016ad0e290
Merge: 8d2e14d d69ec89
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 13 15:52:39 2011 -0700

    am d69ec89f: am 46b59ef0: Merge "Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi" into honeycomb-mr1
    
    * commit 'd69ec89f5d31064174d79e2e77504814629cffa6':
      Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi

commit d69ec89f5d31064174d79e2e77504814629cffa6
Merge: 34cd123 46b59ef
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 13 15:34:29 2011 -0700

    am 46b59ef0: Merge "Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi" into honeycomb-mr1
    
    * commit '46b59ef01be530a6bbe3f0e9a2bed27de9985f40':
      Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi

commit 46b59ef01be530a6bbe3f0e9a2bed27de9985f40
Merge: b0d6f10 dddfaa7
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 13 15:13:10 2011 -0700

    Merge "Fix access point parsing: reset static link property after parsing static ip setting Fix removeConfiguredNetwork: add sleep between remove configured network and disable wifi" into honeycomb-mr1

commit dddfaa75e77f4d02cc7b4180f5eb0679321cb628
Author: Xia Wang <xiaw@google.com>
Date:   Fri Apr 8 16:31:01 2011 -0700

    Fix access point parsing: reset static link property after parsing
    static ip setting
    Fix removeConfiguredNetwork: add sleep between remove configured network
    and disable wifi
    
    Change-Id: I619e79e9bc414b9aeae3537dbc642a7fbc9fca97

commit 829f8e5ae5be10dbadd93b89881d0b87def4f236
Merge: 6e92327 9abfeb4
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Tue Mar 29 16:28:00 2011 -0700

    Merge "bugreport: Add ping wlan gateway, dns1 and dns2 servers"

commit 9abfeb4123d1c76ca11a192f137daa1ff0260873
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Mon Mar 28 13:45:21 2011 -0700

    bugreport: Add ping wlan gateway, dns1 and dns2 servers
    
    Change-Id: I91c2b9be217fabe8f854c637c972377bc811cca8
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit 90298b56e581e524b4365d2cb689c6fdc8caee57
Merge: affb58e 3f29ffa
Author: Justin Ho <justinho@google.com>
Date:   Mon Mar 21 10:58:50 2011 -0700

    am 3f29ffa5: am 38cf000a: am 5e35c485: Updated 3G and wifi traffic indicators
    
    * commit '3f29ffa56c5204fd3dc5587479b8a1c688665e41':
      Updated 3G and wifi traffic indicators

commit 3f29ffa56c5204fd3dc5587479b8a1c688665e41
Merge: 35fb9ea 38cf000
Author: Justin Ho <justinho@google.com>
Date:   Mon Mar 21 10:56:41 2011 -0700

    am 38cf000a: am 5e35c485: Updated 3G and wifi traffic indicators
    
    * commit '38cf000a541206769ad7686936e49bf0c1e417b9':
      Updated 3G and wifi traffic indicators

commit 38cf000a541206769ad7686936e49bf0c1e417b9
Merge: 56063c8 5e35c48
Author: Justin Ho <justinho@google.com>
Date:   Mon Mar 21 10:54:51 2011 -0700

    am 5e35c485: Updated 3G and wifi traffic indicators
    
    * commit '5e35c4855a972960403a10811882ebded8945006':
      Updated 3G and wifi traffic indicators

commit 5e35c4855a972960403a10811882ebded8945006
Author: Justin Ho <justinho@google.com>
Date:   Mon Mar 21 08:42:54 2011 -0700

    Updated 3G and wifi traffic indicators
    
    Change-Id: I3bc61067d4c30e9cda6170e87552d93c2a084895

commit 92b168193f3c73b14f05b22b3dd64accfcd574cb
Merge: 680cfe2 cf99638
Author: Justin Ho <justinho@google.com>
Date:   Thu Mar 10 22:27:02 2011 -0800

    am cf99638b: am 57162cdc: Merge "Wire up the data activity reporting on wifi icon in status bar." into honeycomb-mr1
    
    * commit 'cf99638b6b262197cdfb317582f5d8c93a94e649':
      Wire up the data activity reporting on wifi icon in status bar.

commit cf99638b6b262197cdfb317582f5d8c93a94e649
Merge: 2737dfe 57162cd
Author: Justin Ho <justinho@google.com>
Date:   Thu Mar 10 22:24:51 2011 -0800

    am 57162cdc: Merge "Wire up the data activity reporting on wifi icon in status bar." into honeycomb-mr1
    
    * commit '57162cdcdeaacc826011f98d0285c6034797f5f3':
      Wire up the data activity reporting on wifi icon in status bar.

commit 57162cdcdeaacc826011f98d0285c6034797f5f3
Merge: 5ec35c1 f32621a
Author: Justin Ho <justinho@google.com>
Date:   Thu Mar 10 22:22:57 2011 -0800

    Merge "Wire up the data activity reporting on wifi icon in status bar." into honeycomb-mr1

commit f32621aded6858b8712511ee30313c94934e009d
Author: Joe Onorato <joeo@google.com>
Date:   Thu Mar 10 15:29:49 2011 -0800

    Wire up the data activity reporting on wifi icon in status bar.
    
    Bug: 3412258 and #6699FF
    Change-Id: I11142f1cd5a2a60045b2a1fea371b2ead2aa81b4

commit eddeecf059e18984199c0e0da3b7b15aa5b44813
Merge: 888f065 8658718
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Mar 9 09:36:40 2011 -0800

    am 86587185: am 7ad85eb6: Merge "Persist wifi override in airplane mode" into honeycomb-mr1
    
    * commit '865871850bcedd4b9da0536c8b41f3c1816e5f43':
      Persist wifi override in airplane mode

commit 865871850bcedd4b9da0536c8b41f3c1816e5f43
Merge: 5d534f2 7ad85eb
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Mar 9 09:32:55 2011 -0800

    am 7ad85eb6: Merge "Persist wifi override in airplane mode" into honeycomb-mr1
    
    * commit '7ad85eb62f9f332cc8002ec996cd359333ba590e':
      Persist wifi override in airplane mode

commit 7ad85eb62f9f332cc8002ec996cd359333ba590e
Merge: ea44c7c 658772f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Mar 9 09:30:28 2011 -0800

    Merge "Persist wifi override in airplane mode" into honeycomb-mr1

commit 658772f0e6bcf2b0a3e26778c2fc47accbdfeb2e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Mar 8 14:52:31 2011 -0800

    Persist wifi override in airplane mode
    
    Persist the setting of wifi override in airplane mode
    so that it can be restored on reboot
    
    Bug: 3250824
    Change-Id: I2af38c282ba55fc150fd9ef783d43600f0d4260f

commit f867706180c0ce374b30769f367df263aaab4e08
Merge: 403af5c 0e99d3b
Author: Amith Yamasani <yamasani@google.com>
Date:   Wed Mar 2 14:20:36 2011 -0800

    am 0e99d3bf: am df33b8c5: Merge "Check for NTP time as soon as WIFI is connected." into honeycomb
    
    * commit '0e99d3bfab99254cc187de127a7a4767f165cde8':
      Check for NTP time as soon as WIFI is connected.

commit 0e99d3bfab99254cc187de127a7a4767f165cde8
Merge: f6d1d87 df33b8c
Author: Amith Yamasani <yamasani@google.com>
Date:   Tue Mar 1 15:50:41 2011 -0800

    am df33b8c5: Merge "Check for NTP time as soon as WIFI is connected." into honeycomb
    
    * commit 'df33b8c51d431a7c0f7a89ead8dfacdd3660ff48':
      Check for NTP time as soon as WIFI is connected.

commit df33b8c51d431a7c0f7a89ead8dfacdd3660ff48
Merge: 86b7a59 8d394fa
Author: Amith Yamasani <yamasani@google.com>
Date:   Tue Mar 1 15:47:57 2011 -0800

    Merge "Check for NTP time as soon as WIFI is connected." into honeycomb

commit 8d394fa8993f7143dee6f894a41be888bdd16bc0
Author: Amith Yamasani <yamasani@google.com>
Date:   Tue Mar 1 12:41:04 2011 -0800

    Check for NTP time as soon as WIFI is connected.
    
    Listen for connectivity changes. If WIFI is connected, check if
    we have recently checked for NTP time. If we haven't yet checked the
    time or it has been long enough (a day), then connect to the NTP server
    and get the latest time. Update the time if it is significantly out of sync.
    
    This doesn't poll the NTP server every time there is connectivity, only
    if it hasn't been checked since boot or has been a day.
    
    This fixes the problem that during SetupWizard, we try to contact the NTP
    server before there is connectivity and fail. Now, as soon as the user
    chooses a WiFi network to connect to, it will update the time before
    getting to the Date/Time step. Then as soon as the user corrects the TZ,
    the date/time should be correct.
    
    Bug: 3491920
    Change-Id: I62664156616510b67ecd6a1c24dd838b98d5204f

commit 2f6409686f4ecced13474db9307fcd33a805b2bf
Merge: 6e0e0ec ebe606f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Mar 1 11:32:24 2011 -0800

    Merge "Using AsyncChannel for wifi connectivity"

commit bd15112a29eefb93e62235574b694746044c9261
Author: Mike Corrigan <michael.corrigan@motorola.com>
Date:   Thu Feb 24 15:24:47 2011 -0600

    Fix the display priority of the airplane mode icon.
    
    The airplane icon is used as a fallback when no
    other radios are available *and* the AIRPLANE_MODE_ON system
    setting is set to 1. (NetworkController now tracks changes to
    the setting via ACTION_AIRPLANE_MODE_CHANGED broadcasts.)
    
    This fixes wifi-only devices, for which the previous logic
    did not correctly and consistently detect airplane mode.
    
    Bug: 3489820
    Change-Id: I226bb0e977f6a5fd3f2d829ba51ca54c5c910ef3

commit ebe606fccd9293674273d5f73246e0e8e6e6ddcf
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Feb 24 11:39:15 2011 -0800

    Using AsyncChannel for wifi connectivity
    
    Change-Id: Ieee5a3a1a739238d8a6659493684f1be0cbea691

commit 9a7c7129760ac89ffebf3dd3b508ff755ecff844
Author: Daniel Sandler <dsandler@google.com>
Date:   Fri Feb 25 12:28:57 2011 -0500

    When out of range, show device-appropriate no-signal bars.
    
    Also, start using the 0-bars WiFi icon when necessary;
    previously, one bar was the lowest the WiFi icon could show.
    
    Bug: 3488403
    Change-Id: I3018685db3cf302d10c5e525a7d2c90f3c664f10

commit 7547a8be941cff4794a276e98752bfcfb2e805d1
Merge: 5af3d01 89bc1fe
Author: Chung-yih Wang <cywang@google.com>
Date:   Thu Feb 24 19:27:12 2011 -0800

    Merge "Activate the wifi high perf. for sip calls."

commit 89bc1fe73efb73b43758d41c9ff9f2f4902dd019
Author: Chung-yih Wang <cywang@google.com>
Date:   Fri Feb 25 10:17:16 2011 +0800

    Activate the wifi high perf. for sip calls.
    
    bug:3487791
    
    Change-Id: I7d8d146f8542cd7df387547c7ce3d5ded27f8e97

commit df3c4b45c85cc33e83f2d37cd34752493b334d12
Merge: b5b85a9 ee38808
Author: Wink Saville <wink@google.com>
Date:   Thu Feb 24 10:52:53 2011 -0800

    am ee38808d: am 0dc8618d: Do not start RILReceiver if wifi-only.
    
    * commit 'ee38808dcca92fa8677e7d03401f6bb7b54ec781':
      Do not start RILReceiver if wifi-only.

commit ee38808dcca92fa8677e7d03401f6bb7b54ec781
Merge: 3905bc6 0dc8618
Author: Wink Saville <wink@google.com>
Date:   Thu Feb 24 10:50:31 2011 -0800

    am 0dc8618d: Do not start RILReceiver if wifi-only.
    
    * commit '0dc8618dc70a6aa23ea030eeda1ea9934b4a04c6':
      Do not start RILReceiver if wifi-only.

commit 0dc8618dc70a6aa23ea030eeda1ea9934b4a04c6
Author: Wink Saville <wink@google.com>
Date:   Wed Feb 23 17:28:05 2011 -0800

    Do not start RILReceiver if wifi-only.
    
    By not starting RILReceiver we don't waste any cycles
    trying to communicate with a vendor ril which may
    not exist. This allows a wifi-only device to operate
    as expected and the system to gracefully handle the
    missing radio as ril requests will report RADIO_NOT_AVAILABLE.
    
    Change-Id: I6c6f60830486c5f0447b3b9eb44c8b1f2d70c517

commit ebd4e9161895f3531f9f88b2eb5f5f6c96f9ad84
Merge: e5a3e97 32fc71d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Feb 21 13:46:56 2011 -0800

    Merge "Do not backup wifi country code settings"

commit 32fc71d93dea38f984c6ce1f4183ade6d003e9ed
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Feb 21 13:15:14 2011 -0800

    Do not backup wifi country code settings
    
    Country code settings are device specific and
    should not be linked to an account
    
    Change-Id: Iead6230bfe7751a9478c45e5dca6b4ba619587b3

commit 3ca6d6bbfe614312ad936bce9ab5805615103267
Merge: 826fbd5 227bec4
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Feb 17 14:06:52 2011 -0800

    Merge "data activity reporting on wifi"

commit 227bec49157bc496f7c9e8e8f63c12728a448922
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Feb 15 19:30:27 2011 -0800

    data activity reporting on wifi
    
    Initial checkin, need icons to complete the feature
    
    Bug: 3412258
    
    Change-Id: I9a3ecc8159cc314d84707065dafe23d402409a84

commit 88083d4f2b9c2dc66ba39bd2c4ffa0ff7c1fbcd4
Merge: 248e330 652bc96
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 16 18:18:10 2011 -0800

    Merge "Make high performance wifi lock public"

commit 652bc96444b0a82d34e6c3766b7862effac11adb
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 16 12:13:59 2011 -0800

    Make high performance wifi lock public
    
    gtalk and sip already use the high perf lock. Improve
    the comments and make the constant public.
    
    This will allow applications that use voice or video
    to keep the connection good even when device screen
    is off
    
    Change-Id: I3608cd478175c773bd835b26a686a61b8baf5471

commit 0432ab44f37ac5abb5998cf9c3028ce20ecb8e6b
Merge: 06f992c 8e9abc5
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Feb 16 13:17:54 2011 -0800

    Merge "Fix wifi watchdog to use InetAddress"

commit 8e9abc5b2e13abe9305e203592e7c3426ba99e07
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Wed Feb 16 10:37:50 2011 -0800

    Fix wifi watchdog to use InetAddress
    
    Supports IPv6 and stops using deprectated DhcpInfo.
    
    Change-Id: I0590dbcd50f56e15d9b95327ad9435cdbfc8a78d

commit a04ee9fa7efb24d49d6b1794a7f72110d7b892ba
Merge: f040d7d 19f8ca8
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Feb 15 14:26:37 2011 -0800

    Merge "Remove some unused wifi dhcp code."

commit 19f8ca846b5234278d3001782077b90aad61a85c
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Feb 15 13:50:21 2011 -0800

    Remove some unused wifi dhcp code.
    
    Change-Id: I114b3772b334a41936c6ed4bb8304f6914481ef1

commit 285a8f52c50a7d532b1f1009d513786e0e72aa71
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Mon Feb 14 11:08:01 2011 -0800

    bugreport: Remove wlan FW dump log
    
    Change-Id: I7f211c8125e6c3ba99e9c34e1221dfaa5ac1bee1
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit af3d74c05c2ea36f8641183c9f1ddc5b9b75ff85
Merge: b668904 cc1bd4a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Jan 28 17:21:18 2011 -0800

    am cc1bd4a8: am 739f6bc6: Keep never as the default wifi sleep settings
    
    * commit 'cc1bd4a8ea2b171059607a1dbaac65fbfd9a0c04':
      Keep never as the default wifi sleep settings

commit cc1bd4a8ea2b171059607a1dbaac65fbfd9a0c04
Merge: 9fecc19 739f6bc
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Jan 28 17:19:38 2011 -0800

    am 739f6bc6: Keep never as the default wifi sleep settings
    
    * commit '739f6bc675c0caa11a1d46b18de24e6c884f723a':
      Keep never as the default wifi sleep settings

commit 739f6bc675c0caa11a1d46b18de24e6c884f723a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Jan 28 16:43:12 2011 -0800

    Keep never as the default wifi sleep settings
    
    Bug: 3404049
    Change-Id: I824b8cb7b28223cfb4eb89cabc7cb237a4e1e6db

commit eebd4479f926b5134c66125bcc40f16e25932b52
Merge: 2851822 f4e0458
Author: Justin Ho <justinho@google.com>
Date:   Thu Jan 27 18:45:27 2011 -0800

    am f4e04584: am 07520feb: Merge "Updated data and wifi indicators, updated GPS" into honeycomb
    
    * commit 'f4e045841b4dbdb32975b0d2f430ed1858f6adf7':
      Updated data and wifi indicators, updated GPS

commit f4e045841b4dbdb32975b0d2f430ed1858f6adf7
Merge: 5b5092d 07520fe
Author: Justin Ho <justinho@google.com>
Date:   Thu Jan 27 18:42:19 2011 -0800

    am 07520feb: Merge "Updated data and wifi indicators, updated GPS" into honeycomb
    
    * commit '07520feb6d908930be19d1a93d5a35f64b5a62ab':
      Updated data and wifi indicators, updated GPS

commit 07520feb6d908930be19d1a93d5a35f64b5a62ab
Merge: 06dd4c0 e763f9c
Author: Justin Ho <justinho@google.com>
Date:   Thu Jan 27 18:39:19 2011 -0800

    Merge "Updated data and wifi indicators, updated GPS" into honeycomb

commit e763f9cb8885f013fff339badb0b88b9ce686144
Author: Justin Ho <justinho@google.com>
Date:   Thu Jan 27 18:20:18 2011 -0800

    Updated data and wifi indicators, updated GPS
    
    Change-Id: Idc582404639e5bdafdf8da4ee08e41c0f2ae0051

commit ee18bc7e3ccae1d0dfc88b1ccf784ea556894515
Merge: bb55360 802fb15
Author: Dianne Hackborn <hackbod@google.com>
Date:   Sun Jan 23 17:50:23 2011 -0800

    am 802fb15d: am 9476f045: Merge "Fix issue #3215261: NPE in WiFi Settings" into honeycomb
    
    * commit '802fb15d2a9d6e094627c561100aabbac3689d94':
      Fix issue #3215261: NPE in WiFi Settings

commit 802fb15d2a9d6e094627c561100aabbac3689d94
Merge: ab847ac 9476f04
Author: Dianne Hackborn <hackbod@google.com>
Date:   Sun Jan 23 17:48:23 2011 -0800

    am 9476f045: Merge "Fix issue #3215261: NPE in WiFi Settings" into honeycomb
    
    * commit '9476f04590ebea2d74ebb60775f2648323239512':
      Fix issue #3215261: NPE in WiFi Settings

commit 9476f04590ebea2d74ebb60775f2648323239512
Merge: 12e2500 89ba675
Author: Dianne Hackborn <hackbod@google.com>
Date:   Sun Jan 23 17:45:59 2011 -0800

    Merge "Fix issue #3215261: NPE in WiFi Settings" into honeycomb

commit 89ba6750e5310c4da51786bd7eb559a43cab3982
Author: Dianne Hackborn <hackbod@google.com>
Date:   Sun Jan 23 16:51:16 2011 -0800

    Fix issue #3215261: NPE in WiFi Settings
    
    And also fix #3343369: EGL_BAD_DISPLAY and/or broadcast intent
    TIME_SET before boot completion
    
    And a few more tweaks to animations to keep the wallpaper displayed
    when needed.
    
    And make more use of the drag and drop "rotation disabled" thing to
    also use it while animating the screen rotation, since if we try to
    start a new rotation while doing the animation we end up with a mess.
    
    Change-Id: I373af305a6e23a92835abed96229a83e173f67ce

commit 05d8936f275762bab0d66c6337e352388c8eeee0
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Sun Jan 23 16:04:05 2011 -0800

    Fix tethering when switching default connection
    
    If the default connection is suitable use that rather than a random interface.
    This permits us to deterministically switch back to wifi after hanging out on
    DUN APN.
    
    bug:3374236
    Change-Id: Iee5137b9f09c358f262e7a62f20282e79f7d889f

commit e9b54077274d0c4066093cd90dabca59b3d9a157
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Fri Jan 7 11:57:22 2011 +0800

    Merge "SipService: registers broadcast receivers on demand."
    
    The previous implementation registers receivers when SipService starts up.
    If the user doesn't use SIP at all, SipService will still process connecivity
    and wifi state change events, which involves holding wake lock and thus
    consumes power unnecessarily.
    
    With this CL, SipService is completely idle if the user doesn't use SIP at all.
    It registers receivers only when at least one account is opened.
    
    Bug: 3326998
    Change-Id: Idea43747f8204b0ccad3fc05a1b1c0b29c9b2557

commit f21ef7db777e2c79b2f5acac55dcc310b14eb989
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Tue Jan 11 13:56:33 2011 -0800

    Fix any_connection reporting.
    
    A recent change caused us to think there was no other connection available
    when transitioning from 3g to wifi.
    
    bug:3335074
    Change-Id: I1f55df8a0eb5b27131572b111fbaac8f1ebbc0d3

commit 7f338c460f97312998d7f4576d577d0014e83cb2
Merge: 45b6fcc f537bbd
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 11 17:31:12 2011 -0800

    am f537bbdd: am 7ac190d6: Merge "default wifi sleep policy change" into honeycomb
    
    * commit 'f537bbdda0e0b7bd8052d278b8970d59477cd6c1':
      default wifi sleep policy change

commit f537bbdda0e0b7bd8052d278b8970d59477cd6c1
Merge: 889d91c 7ac190d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 11 17:28:39 2011 -0800

    am 7ac190d6: Merge "default wifi sleep policy change" into honeycomb
    
    * commit '7ac190d60d794b5f75b094a0b9a3f666742d42fb':
      default wifi sleep policy change

commit 7ac190d60d794b5f75b094a0b9a3f666742d42fb
Merge: 3a762f2 96b10d6
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 11 17:26:18 2011 -0800

    Merge "default wifi sleep policy change" into honeycomb

commit 96b10d669ef01c392ad186812b30cdfe1052f897
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 11 15:40:35 2011 -0800

    default wifi sleep policy change
    
    Keep wifi sleep policy as never when charged as long as
    user has not changed the settings
    
    Bug: 3038345
    Change-Id: I0598af41fe0144f2dfddc5bd331bd91d91e0ffea

commit 6bb7652b47b7c3068fa5e20a20263e651180c856
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Jan 11 11:17:14 2011 -0800

    Fix network availability reporting
    
    Report wifi is available as long as it is kept on
    
    Change-Id: I5be9461106ef4968cbc423f90e0ff168e089791f

commit f0bb1ce70f8d5f19f0d63be070997ef237a15fe6
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Fri Jan 7 11:57:22 2011 +0800

    SipService: registers broadcast receivers on demand.
    
    The previous implementation registers receivers when SipService starts up.
    If the user doesn't use SIP at all, SipService will still process connecivity
    and wifi state change events, which involves holding wake lock and thus
    consumes power unnecessarily.
    
    With this CL, SipService is completely idle if the user doesn't use SIP at all.
    It registers receivers only when at least one account is opened.
    
    Bug: 3326998
    Change-Id: Ib70e0cf2c808e0ebab4c3c43dcab5532d24e5eeb

commit 68b9f6f90a8e659a3e40a010f8ad46382f0deeb8
Merge: d486375 b45e726
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Dec 23 09:17:39 2010 -0800

    Merge "Fix wifi broadcasts"

commit b45e726bf5df9650e8a67a7c05bf2f41f414c07d
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Dec 21 09:44:15 2010 -0800

    Fix wifi broadcasts
    
    Add the missing wifi disable broadcast and also send out
    supplicant disconnect on shutdown.
    
    Added unit test cases.
    
    Bug: 3294055
    
    Change-Id: Ia56a8ec9d17784c5aac5b8b369c04837f9057c54

commit 73055f12d7764e322f3f83717525a2dba01f9ef9
Author: Xia Wang <xiaw@google.com>
Date:   Thu Dec 16 14:46:09 2010 -0800

    Few changes for Wi-Fi Stress Test
    
    Add WIFI_IDLE_MS to 1min in Wi-Fi stress test. bug#3284797
    Wake up device using PowerManagerService.userActivityWithForce instead
    of full wake lock.
    Turn screen on when running Wi-Fi tests.
    
    Change-Id: Ib763136cef515eec8b1d25183cf7a84ae1038ef2

commit 72b5ed42deb5fd57661401849570619ebb00740c
Merge: 5814d69 8efaeb0
Author: Xia Wang <xiaw@google.com>
Date:   Tue Dec 14 17:36:20 2010 -0800

    Merge "Disable airplane mode once the test is finished. #3276498 Verify wifi state in 3g->AM->3g test."

commit 7c25cd15bbebe7502af0a711f1cb0f4e4e43e63c
Merge: fc29088 7da02ad
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Dec 14 14:40:49 2010 -0800

    Merge "DHCP core classes, defining data, behavior, and state transitions for the DHCP protocol.  The DHCP client and DHCP server classes are not included in this commit: still working out some integration issues with ethernet & wifi services"

commit 7da02ad3b7a8a0b13a2ccc84e666baa8e6370482
Author: Stan Chesnutt <chesnutt@google.com>
Date:   Tue Dec 14 09:49:26 2010 -0800

    DHCP core classes, defining data, behavior, and state transitions for the DHCP
    protocol.  The DHCP client and DHCP server classes are not included in this
    commit: still working out some integration issues with ethernet & wifi services
    
    Change-Id: I0c9cc48b7d960005b73ecb757c1fa66f0eb68471

commit 8efaeb03ea1ecd633f61bdb03bb90393887f08df
Author: Xia Wang <xiaw@google.com>
Date:   Fri Dec 10 17:09:18 2010 -0800

    Disable airplane mode once the test is finished. #3276498
    Verify wifi state in 3g->AM->3g test.
    
    Change-Id: I3ce7ebad963c09be666b508f05eddbd0ded255d7

commit ff3c470778a69d262470e9707fce58dd485c6cc9
Merge: cbcce92 64eb5d2
Author: Joe Onorato <joeo@google.com>
Date:   Wed Dec 8 15:51:33 2010 -0800

    Merge "make the wifi button go where it's supposed to."

commit 64eb5d29007155e89b03cbb682845faf1fbd743d
Author: Joe Onorato <joeo@google.com>
Date:   Wed Dec 8 15:46:59 2010 -0800

    make the wifi button go where it's supposed to.
    
    Change-Id: I415a5ad5e7524746d1e8d467f94058468bc719b7

commit da3d5e6587c1476d489495ac93e84ebf223024c9
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Dec 6 13:56:24 2010 -0800

    Add a Dummy data connection for testing purposes.
    
    Enable with:
        <string-array translatable="false" name="networkAttributes">
            <item>"wifi,1,1,1"</item>
            <item>"dummy,7,7,0"</item>
        </string-array>
    
    in your config.xml
    
    Change-Id: I3965edaeb4873e95131f4083b8d23d682ce17841

commit 3d5d6288729b868a6c305ae3955f51755308d331
Merge: 9d01617 355ebc0
Author: Joe Onorato <joeo@google.com>
Date:   Thu Dec 2 17:28:47 2010 -0800

    Merge "Show the operator or wifi ssid in the status bar panel."

commit 355ebc09d2354795ff674d65eb09d4fee0ddb402
Author: Joe Onorato <joeo@google.com>
Date:   Wed Dec 1 17:37:00 2010 -0800

    Show the operator or wifi ssid in the status bar panel.
    
    Change-Id: Ia2983bce35c5f2ab706995777c80e96cc9a4c2ae

commit a42a1e6b6fb6acc9ca327523ae456e464f8aedc1
Author: Xia Wang <xiaw@google.com>
Date:   Mon Nov 22 16:59:48 2010 -0800

    Add Wi-Fi connection test for static IP
    
    - Add support in access point parser to support static ip settings
    - Add Wi-Fi test with static IP configuration
    - Use WifiManager new APIs
    - Fix issue: if the expected AP is not in the scan list, retry scanning.
      Maximum is 5.
    - Fix issue: wait for wifi state change before connecting to AP.
    
    Change-Id: Id09b921c8a6a4b14f3c65cdea0b58c7e6f395520

commit de669ee81f7498c72d277118cf5668acbe27ebf0
Merge: 4b90378 f38b709
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Dec 1 09:55:41 2010 -0800

    am f38b709e: (-s ours) am af2d3c7c: Merge "DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver" into gingerbread
    
    * commit 'f38b709e470849943befbe88a0daeb7324f5114b':
      DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver

commit f38b709e470849943befbe88a0daeb7324f5114b
Merge: 7e5cd79 af2d3c7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Dec 1 09:53:17 2010 -0800

    am af2d3c7c: Merge "DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver" into gingerbread
    
    * commit 'af2d3c7ccebb009f31a92c1a87b0925a2891e1c4':
      DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver

commit af2d3c7ccebb009f31a92c1a87b0925a2891e1c4
Merge: 981a72a f92b453
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Dec 1 09:51:27 2010 -0800

    Merge "DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver" into gingerbread

commit f92b453a58d19531f3735dd90cd4f97a78823ae1
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 3 11:13:10 2010 -0700

    DO NOT MERGE Remove wifistatetracker lock access in BroadcastReceiver
    
    The worksource reporting gets blocked by the
    statetracker lock which can cause system restarts when
    done from broadcastreceiver thread
    
    Bug: 3153787
    Change-Id: Ie70687e7453a1c3618bac1424562be44762b2c9d

commit b8297cfc76248f2863c985eb05d5a32fe3f6c279
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Nov 18 12:47:29 2010 -0800

    Stop listening to supplicant state change events
    
    wifi connected status should be based only on
    network state change events or it can lead to a
    race condition.
    
    Change-Id: Ib2343f0d192ef99959f908a370d55aae7ba86a5a

commit b86c89c1a1070a076fcfec8e9bf743245a996d8b
Merge: 20c14fd 09f686e
Author: Joe Onorato <joeo@google.com>
Date:   Mon Nov 15 16:39:24 2010 -0800

    Merge "use the proper number of wifi icon levels."

commit 09f686ec7ea3ea103736b7173e55b0b214bfb819
Author: Joe Onorato <joeo@google.com>
Date:   Mon Nov 15 16:34:41 2010 -0800

    use the proper number of wifi icon levels.
    
    Change-Id: Ib8d4bccff7240d0086729093d79f564aa97001ff

commit 090813ac95b1bd5f60f67f70bb49b0886954de09
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Nov 3 16:13:32 2010 -0700

    Initiate wake up scan only in a disconnected state
    
    When wifi is connected to an access point, we should
    not wake up the device to initiate scans.
    
    Change-Id: I1a48387a0cac7b23a8d947d8409cafc63da18d38

commit 16f5d6ee797543b42ea457c8a8724a569eac6595
Merge: 9d6d17f aefcdde
Author: Chung-yih Wang <cywang@google.com>
Date:   Thu Oct 21 09:51:01 2010 -0700

    am aefcdde4: am 4944fdd7: Periodically scan wifi when wifi is not connected and wifi lock is grabbed in SipService.
    
    Merge commit 'aefcdde4bdf2be74bdf9620359830faeed5419e6'
    
    * commit 'aefcdde4bdf2be74bdf9620359830faeed5419e6':
      Periodically scan wifi when wifi is not connected and wifi lock is

commit 4f5f7c968339a83b6af98ac8893a1ac33c7aa7bc
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Oct 14 17:01:27 2010 -0700

    Fix wake and scan behavior
    
    - Add wakelock for driver start/stop to ensure a wifilock
      acquisition kick starts driver. Also cleaned up state machine
      driver start/stop behavior.
    - Add periodic scans when driver is started to ensure wifi
      reconnections when wifilock exists or when user chooses
      never to sleep
    - some minor clean up
    
    Change-Id: I844eb70491d5aa2f8c8933b3d8dd01ba237ee534

commit 138f10e3f140ea84b976607ada7081a498a3610a
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed Oct 20 11:03:06 2010 -0700

    wifi: Allow dual-band support
    
    Change-Id: I90e421efca783080261789378ef6054ac394c1e2
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit aefcdde4bdf2be74bdf9620359830faeed5419e6
Merge: 35d9e77 4944fdd
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Oct 19 14:17:44 2010 -0700

    am 4944fdd7: Periodically scan wifi when wifi is not connected and wifi lock is grabbed in SipService.
    
    Merge commit '4944fdd771d2a629b3c1af8097df5eb2de02d9ee' into gingerbread-plus-aosp
    
    * commit '4944fdd771d2a629b3c1af8097df5eb2de02d9ee':
      Periodically scan wifi when wifi is not connected and wifi lock is

commit 4944fdd771d2a629b3c1af8097df5eb2de02d9ee
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Oct 19 17:39:51 2010 +0800

    Periodically scan wifi when wifi is not connected and wifi lock is
    grabbed in SipService.
    
    bug: http://b/3077454
    Change-Id: I153974325c29e0f927c8eb7fdbc4725aaf10087d

commit 61312df60783ca49b664d5ae82f007bc779d132e
Merge: fcab0f5 f3a935f
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Fri Oct 15 14:01:10 2010 -0700

    am f3a935f6: am 3bb10442: Merge "Make SipService listen to WIFI state change events." into gingerbread
    
    Merge commit 'f3a935f6aa421110c7b6f36f922223c195f751bc'
    
    * commit 'f3a935f6aa421110c7b6f36f922223c195f751bc':
      Make SipService listen to WIFI state change events.

commit f3a935f6aa421110c7b6f36f922223c195f751bc
Merge: 8fda163 3bb1044
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Wed Oct 13 22:54:20 2010 -0700

    am 3bb10442: Merge "Make SipService listen to WIFI state change events." into gingerbread
    
    Merge commit '3bb1044243ad38da35ccddc3e0d6d92d64fefe3e' into gingerbread-plus-aosp
    
    * commit '3bb1044243ad38da35ccddc3e0d6d92d64fefe3e':
      Make SipService listen to WIFI state change events.

commit 3bb1044243ad38da35ccddc3e0d6d92d64fefe3e
Merge: bdf8034 4f8fd10
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Wed Oct 13 18:36:31 2010 -0700

    Merge "Make SipService listen to WIFI state change events." into gingerbread

commit bad553ba34dbf9b6764c9c6b72f0082f011b577c
Merge: 99f92ac b99db0c
Author: Chung-yih Wang <cywang@google.com>
Date:   Wed Oct 13 17:02:24 2010 -0700

    am b99db0c7: am 4367ab00: Set the wifi-only for SIP service as the default config.
    
    Merge commit 'b99db0c70e0ee18e0a691126134b9394f30f7f03'
    
    * commit 'b99db0c70e0ee18e0a691126134b9394f30f7f03':
      Set the wifi-only for SIP service as the default config.

commit 4f8fd10f761d562ad3a4e01e78fc7046d3c9936c
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Wed Oct 13 17:05:59 2010 +0800

    Make SipService listen to WIFI state change events.
    
    + Grab a WIFI lock if any account is opened to receive calls and WIFI is enabled
    + Release the WIFI lock if no account is opened to receive calls or WIFI is
      disabled
    + Remove screen on/off event receiver
    
    http://b/issue?id=3077454
    
    Change-Id: Ifdf60a850bcf4106c75ec1e7563b26d8b33d7e92

commit 68825ac32deb00991e18b5b40b455b68e9d78324
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Oct 12 16:34:07 2010 -0700

    state machine fixes
    
    - When supplicant dies, restart it
    - When wifimonitor fails to connect in time, restart
      supplicant
    - fix dhcp counter reset
    - defer all load/unload actions when waiting for supplicant
      control connection
    - we dont need to disconnect & reconnect at start with the
      faster monitor connection and handling of failures
    
    Bug: 2973023
    Bug: 3090725
    Change-Id: I5c834ddd08e6300e2b29da0941a24633825b4d3b

commit b99db0c70e0ee18e0a691126134b9394f30f7f03
Merge: f5b7c85 4367ab0
Author: Chung-yih Wang <cywang@google.com>
Date:   Mon Oct 11 21:49:26 2010 -0700

    am 4367ab00: Set the wifi-only for SIP service as the default config.
    
    Merge commit '4367ab00edb59f95703e4a8a0f9a1a73dbf13551' into gingerbread-plus-aosp
    
    * commit '4367ab00edb59f95703e4a8a0f9a1a73dbf13551':
      Set the wifi-only for SIP service as the default config.

commit 4367ab00edb59f95703e4a8a0f9a1a73dbf13551
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Oct 12 12:39:50 2010 +0800

    Set the wifi-only for SIP service as the default config.
    
    Change-Id: I90d2d14b5d9c953e45f85d3d5128d096ea17b22e
    bug-id: http://b/3068006

commit ec17ab33542d0962f043155d9271a9c8b725497a
Merge: a670636 833db40
Author: Chung-yih Wang <cywang@google.com>
Date:   Mon Oct 11 10:03:27 2010 -0700

    am 833db408: am dc2e5208: Merge "Do not release the wifi lock if the screen is off." into gingerbread
    
    Merge commit '833db40866ebf27be33aa387d08a2cb0b9a4246d'
    
    * commit '833db40866ebf27be33aa387d08a2cb0b9a4246d':
      Do not release the wifi lock if the screen is off.

commit 65bdf4e6342e45d5862e63342f73ada2f8a93f96
Merge: fae998c c58e9bf
Author: Dianne Hackborn <hackbod@google.com>
Date:   Sun Oct 10 19:11:51 2010 -0700

    am c58e9bff: am db56b9bd: Merge "Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock" into gingerbread
    
    Merge commit 'c58e9bff10200daaad6d06d57745edcc33314325'
    
    * commit 'c58e9bff10200daaad6d06d57745edcc33314325':
      Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock

commit 833db40866ebf27be33aa387d08a2cb0b9a4246d
Merge: 4c2c62f dc2e520
Author: Chung-yih Wang <cywang@google.com>
Date:   Fri Oct 8 23:30:05 2010 -0700

    am dc2e5208: Merge "Do not release the wifi lock if the screen is off." into gingerbread
    
    Merge commit 'dc2e5208e2b448a2c481d726818de79ea6a49783' into gingerbread-plus-aosp
    
    * commit 'dc2e5208e2b448a2c481d726818de79ea6a49783':
      Do not release the wifi lock if the screen is off.

commit dc2e5208e2b448a2c481d726818de79ea6a49783
Merge: bed5af7 c7fda18
Author: Chung-yih Wang <cywang@google.com>
Date:   Fri Oct 8 23:25:11 2010 -0700

    Merge "Do not release the wifi lock if the screen is off." into gingerbread

commit c7fda188aee215f1842111f5b9f711f7b844b4d4
Author: Chung-yih Wang <cywang@google.com>
Date:   Sat Oct 9 08:37:40 2010 +0800

    Do not release the wifi lock if the screen is off.
    
    We need to be able to receive calls if the device is able to
    reassociate with any AP later on.
    
    Change-Id: Ib7aafb98386bf250ed9b5ec0a5b519594efa1649

commit c58e9bff10200daaad6d06d57745edcc33314325
Merge: 7c08b70 db56b9b
Author: Dianne Hackborn <hackbod@google.com>
Date:   Fri Oct 8 15:12:55 2010 -0700

    am db56b9bd: Merge "Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock" into gingerbread
    
    Merge commit 'db56b9bd39e739474684987b83f386f50596aa5d' into gingerbread-plus-aosp
    
    * commit 'db56b9bd39e739474684987b83f386f50596aa5d':
      Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock

commit db56b9bd39e739474684987b83f386f50596aa5d
Merge: d8d60da ecfd7f7
Author: Dianne Hackborn <hackbod@google.com>
Date:   Fri Oct 8 15:09:23 2010 -0700

    Merge "Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock" into gingerbread

commit ecfd7f7d9588728a4579fab8af1722cefeb32d40
Author: Dianne Hackborn <hackbod@google.com>
Date:   Fri Oct 8 14:23:40 2010 -0700

    Maybe fix #3076572: phone process crashes in SipService, trying to get wifi lock
    
    WifiService needs to keep the calling identity cleared while
    it is doing all of its internal work.
    
    Change-Id: I2bd720e26efcf5ad5839693307d61e51f0658ace

commit 27827bab181b332387b6a043df430c7b1243c507
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Oct 8 10:25:40 2010 -0700

    fix getmacaddress race condition (don't auto-merge)
    
    getMacAddress wont go through if the wifi state is not enabled
    by the time the connection from the supplicant comes through.
    
    we now fetch the mac address right after a driver start.
    
    Bug: 3072163
    Change-Id: I55943e6d618fd7c3170bc579697bc61d70fc8b86

commit 128cecab968337038591cc14e3cdd5b37b2e5cb9
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Sep 22 16:09:46 2010 -0700

    Add proxy settings per wifi network
    
    Provide per network proxy settings configuration
    for wifi. This is stored along with the ip configuration
    in ipconfig.txt
    
    bug: 3039302
    Change-Id: Ic8bc14493583be19fde3d7c463d1e5a77e6df25f

commit 51ed8aa9d24b338cbdf9a33d1171454ec62f97da
Merge: 8b75965 ed1cf3d
Author: Gilles Debunne <debunne@google.com>
Date:   Thu Sep 30 11:00:19 2010 -0700

    am ed1cf3da: am f0fa2674: Merge "New assets: wifi signal 1, no sim card." into gingerbread
    
    Merge commit 'ed1cf3dab59d7af51240269308007546a816b1f4'
    
    * commit 'ed1cf3dab59d7af51240269308007546a816b1f4':
      New assets: wifi signal 1, no sim card.

commit ed1cf3dab59d7af51240269308007546a816b1f4
Merge: 97708b1 f0fa267
Author: Gilles Debunne <debunne@google.com>
Date:   Wed Sep 29 12:20:31 2010 -0700

    am f0fa2674: Merge "New assets: wifi signal 1, no sim card." into gingerbread
    
    Merge commit 'f0fa267492353a98562d32d4359f2099df0f2fcd' into gingerbread-plus-aosp
    
    * commit 'f0fa267492353a98562d32d4359f2099df0f2fcd':
      New assets: wifi signal 1, no sim card.

commit f0fa267492353a98562d32d4359f2099df0f2fcd
Merge: 5f0c8fe 888dc9d
Author: Gilles Debunne <debunne@google.com>
Date:   Wed Sep 29 12:15:51 2010 -0700

    Merge "New assets: wifi signal 1, no sim card." into gingerbread

commit 888dc9d117baeef5a02837ca744de245c70b9f46
Author: Gilles Debunne <debunne@google.com>
Date:   Tue Sep 28 17:10:33 2010 -0700

    New assets: wifi signal 1, no sim card.
    
    Change-Id: I2f7571769079998a171ac90d088ca4e82a53ce99

commit b974d0c8f21000354bec04dea9cc6c938cdccccd
Merge: 8aeeda9 6db6468
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 28 13:20:43 2010 -0700

    am 6db64689: am c89dd54c: Remove logging on wifilock acquire/release
    
    Merge commit '6db6468956fa6d71d68e410a532ed7b1bcaecf74'
    
    * commit '6db6468956fa6d71d68e410a532ed7b1bcaecf74':
      Remove logging on wifilock acquire/release

commit 6db6468956fa6d71d68e410a532ed7b1bcaecf74
Merge: cb6f29e c89dd54
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 28 10:26:29 2010 -0700

    am c89dd54c: Remove logging on wifilock acquire/release
    
    Merge commit 'c89dd54ceeec99173d51d1196e2c03a58f120211' into gingerbread-plus-aosp
    
    * commit 'c89dd54ceeec99173d51d1196e2c03a58f120211':
      Remove logging on wifilock acquire/release

commit c89dd54ceeec99173d51d1196e2c03a58f120211
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 28 08:40:54 2010 -0700

    Remove logging on wifilock acquire/release
    
    Bug: 3042300
    Change-Id: Ia3ce184f53bdd9afee1c78bb9c294af57364f266

commit 7dda67a8a18e6e06af4be6942ac95f05c6e33d08
Merge: 6963291 f116651
Author: Steve Howard <showard@google.com>
Date:   Tue Sep 21 13:12:56 2010 -0700

    am f1166513: am ff0ea5ea: Merge "Support for download manager "queue for wifi" dialogs" into gingerbread
    
    Merge commit 'f1166513f596c4ffad41429b10ba1d20c65f6d6c'
    
    * commit 'f1166513f596c4ffad41429b10ba1d20c65f6d6c':
      Support for download manager "queue for wifi" dialogs

commit 6963291ab58591c99ce17ac8f76141ba45e76d8c
Merge: c2087e3 d404a9b
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 21 13:10:30 2010 -0700

    am d404a9be: (-s ours) am 0859b764: Make wifi scan async. (don\'t auto-merge)
    
    Merge commit 'd404a9be14715efdea447ec4ed3e7677ab72e641'
    
    * commit 'd404a9be14715efdea447ec4ed3e7677ab72e641':
      Make wifi scan async. (don't auto-merge)

commit f1166513f596c4ffad41429b10ba1d20c65f6d6c
Merge: d404a9b ff0ea5e
Author: Steve Howard <showard@google.com>
Date:   Tue Sep 21 13:02:06 2010 -0700

    am ff0ea5ea: Merge "Support for download manager "queue for wifi" dialogs" into gingerbread
    
    Merge commit 'ff0ea5eaf13198d6d752bcfbcf8e1c96f568102f' into gingerbread-plus-aosp
    
    * commit 'ff0ea5eaf13198d6d752bcfbcf8e1c96f568102f':
      Support for download manager "queue for wifi" dialogs

commit d404a9be14715efdea447ec4ed3e7677ab72e641
Merge: b745ec9 0859b76
Author: Irfan Sheriff <isheriff@google.com>
Date:   Tue Sep 21 12:59:34 2010 -0700

    am 0859b764: Make wifi scan async. (don\'t auto-merge)
    
    Merge commit '0859b764719735e4b9aea5df6051ece13e212841' into gingerbread-plus-aosp
    
    * commit '0859b764719735e4b9aea5df6051ece13e212841':
      Make wifi scan async. (don't auto-merge)

commit ff0ea5eaf13198d6d752bcfbcf8e1c96f568102f
Merge: 0859b76 f176681
Author: Steve Howard <showard@google.com>
Date:   Tue Sep 21 12:49:36 2010 -0700

    Merge "Support for download manager "queue for wifi" dialogs" into gingerbread

commit f176681ecc19f3bffa3d9cb00b3460cf5a128d28
Author: Steve Howard <showard@google.com>
Date:   Fri Sep 17 16:46:19 2010 -0700

    Support for download manager "queue for wifi" dialogs
    
    New DB column and new secure setting for recommended max download size
    over mobile.
    
    Change-Id: If87acda62140ad6d8f923a000a5ff9232021e1a3

commit 0859b764719735e4b9aea5df6051ece13e212841
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 6 15:34:50 2010 -0700

    Make wifi scan async. (don't auto-merge)
    
    When an entity (NLP for example) acquires
    a WifiLock and initiates a scan, scan can
    get blocked until driver starts.
    
    scan returns no useful info, scan results
    are broadcast when obtained.
    
    Bug: 2964633
    Change-Id: Iaefc32bb6b82f0718285a18ac600e6bbbb096e77

commit 029be81302c7a00901e0af34afc06ddabb2805ef
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Sep 20 18:01:43 2010 -0700

    Inet status bug fix
    
    Don't wipe out the connected status every time we get a cellular status change.
    Don't filter out disconnect event for wifi - we need them.
    
    bug:3009923
    Change-Id: I68cadac5f44d6eb4e0fe711fda7c5d218abb45bd

commit cf1620d6dd6c172a2a3bf91d2d9c137527218629
Merge: b599478 5b930c4
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Sun Sep 19 18:11:44 2010 -0700

    am 5b930c49: Merge "SIP: add config flag for wifi-only configuration." into gingerbread
    
    Merge commit '5b930c49b12bdb1461a18491db768c642c38d498' into gingerbread-plus-aosp
    
    * commit '5b930c49b12bdb1461a18491db768c642c38d498':
      SIP: add config flag for wifi-only configuration.

commit 5b930c49b12bdb1461a18491db768c642c38d498
Merge: ba56dfc c4b8747
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Sun Sep 19 18:02:13 2010 -0700

    Merge "SIP: add config flag for wifi-only configuration." into gingerbread

commit c4b87477c076d61062950becc132b7483e3fb198
Author: Hung-ying Tyan <tyanh@google.com>
Date:   Sun Sep 19 18:23:44 2010 +0800

    SIP: add config flag for wifi-only configuration.
    
    http://b/issue?id=2994029
    
    Change-Id: I328da9b0f8b70d660dbcefffdac8250341792101

commit 1f377298e2aaf6a1736295c0413d468eb1db5091
Merge: afb777c 58e0eef
Author: Dianne Hackborn <hackbod@google.com>
Date:   Fri Sep 17 15:20:10 2010 -0700

    am 58e0eefe: Improve power tracking of WIFI use.
    
    Merge commit '58e0eefeb5e2e270e2b04369bbf29fc22abda8d5' into gingerbread-plus-aosp
    
    * commit '58e0eefeb5e2e270e2b04369bbf29fc22abda8d5':
      Improve power tracking of WIFI use.

commit 58e0eefeb5e2e270e2b04369bbf29fc22abda8d5
Author: Dianne Hackborn <hackbod@google.com>
Date:   Thu Sep 16 01:22:10 2010 -0700

    Improve power tracking of WIFI use.
    
    We now distribute "wifi started" time across all apps that are
    holding WIFI locks that cause it to be started.  But only when
    WIFI would not normally be running.  Also have a mechanism to
    distribute other WIFI work that has happened across those processes
    based on their use.
    
    Also fixed a bug where we were not retaining the CPU speed step
    stats across boots...!
    
    Change-Id: I00e3153b98429166273750512cc37e7975211ab9

commit 5c8e3b5e496c6c1da12a03ee2eb5cbb3e5bd6a5a
Merge: e746f03 b62bc96
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 13 17:24:49 2010 -0700

    am b62bc963: am ab2ac887: Merge "Fix statusbar display of wifi signalstrength" into gingerbread
    
    Merge commit 'b62bc9632250f77d29baca54419442c8d3c965ef'
    
    * commit 'b62bc9632250f77d29baca54419442c8d3c965ef':
      Fix statusbar display of wifi signalstrength

commit b62bc9632250f77d29baca54419442c8d3c965ef
Merge: 5368643 ab2ac88
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 13 16:08:12 2010 -0700

    am ab2ac887: Merge "Fix statusbar display of wifi signalstrength" into gingerbread
    
    Merge commit 'ab2ac887751c41ddb34daa97ea4da07b08cc2ba8' into gingerbread-plus-aosp
    
    * commit 'ab2ac887751c41ddb34daa97ea4da07b08cc2ba8':
      Fix statusbar display of wifi signalstrength

commit ab2ac887751c41ddb34daa97ea4da07b08cc2ba8
Merge: 7e9f4eb fa974c5
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Sep 13 16:05:06 2010 -0700

    Merge "Fix statusbar display of wifi signalstrength" into gingerbread

commit fa974c590955e9ff21f8f85209d9b28b0f467458
Author: Robert Greenwalt <rgreenwalt@google.com>
Date:   Mon Sep 13 15:53:26 2010 -0700

    Fix statusbar display of wifi signalstrength
    
    When turning a 1d array into a 2d, be sure and adjust length-checks.
    bug:2995809
    
    Change-Id: I9ff53f75958ea7808eb9f44bc05497e86f1807a2

commit 7e9f4eb2608148436cef36c9969bf8a599b39e72
Author: Dianne Hackborn <hackbod@google.com>
Date:   Fri Sep 10 18:43:00 2010 -0700

    Track client requests through location manager.
    
    This fixes a problem where applications could ask the location
    manager to do very heavy-weight things (like...  say... update
    location every minute), which would get accounted against the
    system instead of the application because ultimately it is the
    system making the heavy calls (wake locks, etc).
    
    To solve this, we introduce a new class WorkSource representing
    the source of some work.  Wake locks and Wifi locks allow you
    to set the source to use (but only if you are system code and thus
    can get the permission to do so), which is what will be reported
    to the battery stats until the actual caller.
    
    For the initial implementation, the location manager keeps track
    of all clients requesting periodic updates, and tells its providers
    about them as a WorkSource param when setting their min update time.
    The network location provider uses this to set the source on the
    wake and wifi locks it acquires, when doing work because of the
    update period.
    
    This should also be used elsewhere, such as in the GPS provider,
    but this is a good start.
    
    Change-Id: I2b6ffafad9e90ecf15d7c502e2db675fd52ae3cf

commit 0858806ffcb9ff34725abb79106aa1de27d1bf60
Author: Chung-yih Wang <cywang@google.com>
Date:   Thu Aug 26 15:05:48 2010 +0800

    Add Wifi High Perf. mode during a call.
    
    To prevent the wifi from entering low-power mode due to the screen off
    triggered by the proximity sensor.
    
    Change-Id: I490bc594d800bc30c256e52ef3bce08bf86bc7b1

commit a22ae073cc727eb4cf2c6734d6ba7336d6d9e2b4
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Aug 13 17:49:49 2010 -0700

    DO NOT MERGE Do not kill sockets going default->hipri
    
    A usecase is to use hipri to keep alive 3g connections when wifi
    is about to be brought up.  They are the same network, so don't
    reset unless both are down.
    
    Change-Id: I8dabc42f315943b28ea34721793b0ee330c07bf6

commit 36fae8f7cbfcade330e8e9d82be8a61f4bcff52c
Merge: 4ad5c70 6f62039
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Aug 16 15:18:23 2010 -0700

    am 6f620395: (-s ours) am f76a05e9: Merge "DO NOT MERGE Fix wifi status icon" into gingerbread
    
    Merge commit '6f6203950d782c53193b5e96be7fb9fa4fab339c'
    
    * commit '6f6203950d782c53193b5e96be7fb9fa4fab339c':
      DO NOT MERGE Fix wifi status icon

commit 6f6203950d782c53193b5e96be7fb9fa4fab339c
Merge: 4fc2c92 f76a05e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Aug 15 16:04:24 2010 -0700

    am f76a05e9: Merge "DO NOT MERGE Fix wifi status icon" into gingerbread
    
    Merge commit 'f76a05e985c249f2540eb8925f673b5c63b9566b' into gingerbread-plus-aosp
    
    * commit 'f76a05e985c249f2540eb8925f673b5c63b9566b':
      DO NOT MERGE Fix wifi status icon

commit f76a05e985c249f2540eb8925f673b5c63b9566b
Merge: b720819 72d54ef
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Aug 15 15:57:47 2010 -0700

    Merge "DO NOT MERGE Fix wifi status icon" into gingerbread

commit 72d54efd3d32cb56766ef625ebc30d4c3a963222
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jul 22 12:07:34 2010 -0700

    DO NOT MERGE Fix wifi status icon
    
    Doing a setIcon makes the icon visible and overrides
    setIconVisibility
    
    Change-Id: I7a177cc07e46f211d421e4aa86203ece5936c3fb

commit 6425ef950c15c47752d17952cb72836e68bd0f65
Author: Daniel Sandler <dsandler@google.com>
Date:   Wed Aug 11 16:10:19 2010 -0400

    System bar settings panel: first pass.
    
    Implemented: Clock, brightness, silent toggle, airplane mode
    (although this seems not to be working well yet on the
    device).
    
    Unimplemented: Orientation lock, battery, wifi signal, date.
    
    Change-Id: Iec9cc833103a68aecccf46cd6eeffc2128d64eea

commit 153b4374d067ee92a0b9c712e54300cc49db017c
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Jul 23 12:32:12 2010 -0700

    Don't reset connections switching default->hipri
    
    A usecase is to use hipri to keep alive 3g connections when wifi
    is about to be brought up.  They are the same network, so don't
    do the reset unless both are down.
    
    This will go away when we get the deferred network downing.
    
    bug:2865630
    Change-Id: I07729b7776fe5ea129120c688cf7839a55a7ed95

commit 22c2b25ad7c6ed175831bd2421ee110a343c78dd
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Jul 28 11:19:54 2010 -0700

    sticky broadcasts dont need system ready check
    
    Fix an issue where checking for system ready status
    for sticky broadcasts can lead to boot up with wifi
    turned on and settings showing incorrect status.
    
    Bug: 2876746
    Change-Id: Iae39855c255513e28a13bd819b3d14d81fbaba43

commit 9120d55b806aec981ce7c1af20b7aa3d303ccca5
Author: Daniel Sandler <dsandler@google.com>
Date:   Fri Jul 23 09:11:14 2010 -0400

    Improvements to the system bar:
    
     - dummy panels for the notification & system areas
     - dummy battery/wifi status indicators
     - new "whiteboard ui" temporary artwork

commit 3bb46be774b516f4376e61cb412a35e712e1d1d1
Merge: b7e7036 311912e
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jul 22 18:57:55 2010 -0700

    Merge "Fix wifi status icon"

commit 311912ef753a37187c30a0fc6fcf89d4f8f77947
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Jul 22 12:07:34 2010 -0700

    Fix wifi status icon
    
    Doing a setIcon makes the icon visible and overrides
    setIconVisibility
    
    Change-Id: If71c9b727ace268f47121c2bf5f724481f592c8e

commit cbfa242609ff19e52343d1ca9b9eb375e3338126
Merge: 691a9fc d652751
Author: Hung Dang <hndang@google.com>
Date:   Fri Jul 16 16:25:27 2010 -0700

    am d652751d: am b6761e73: am 28fe43be: Merge "Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test." into froyo
    
    Merge commit 'd652751de782bac7e37916ed5786fcfa637a2be3'
    
    * commit 'd652751de782bac7e37916ed5786fcfa637a2be3':
      Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test.

commit d652751de782bac7e37916ed5786fcfa637a2be3
Merge: 04b9531 b6761e7
Author: Hung Dang <hndang@google.com>
Date:   Fri Jul 16 15:18:03 2010 -0700

    am b6761e73: am 28fe43be: Merge "Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test." into froyo
    
    Merge commit 'b6761e73ce6b255cfe96bfa1fa6ac611abcfc067' into gingerbread-plus-aosp
    
    * commit 'b6761e73ce6b255cfe96bfa1fa6ac611abcfc067':
      Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test.

commit b6761e73ce6b255cfe96bfa1fa6ac611abcfc067
Merge: c8c79a6 28fe43b
Author: Hung Dang <hndang@google.com>
Date:   Fri Jul 16 15:15:44 2010 -0700

    am 28fe43be: Merge "Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test." into froyo
    
    Merge commit '28fe43be5c364a8f7f248a5ac05cf832a83737c2' into gingerbread
    
    * commit '28fe43be5c364a8f7f248a5ac05cf832a83737c2':
      Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test.

commit 28fe43be5c364a8f7f248a5ac05cf832a83737c2
Merge: 2a8dd4e ba1348e
Author: Hung Dang <hndang@google.com>
Date:   Fri Jul 16 15:13:12 2010 -0700

    Merge "Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test." into froyo

commit ba1348e3c21502ecde9427413703defa6d105132
Author: Yu Shan Emily Lau <yslau@google.com>
Date:   Fri Jul 16 11:55:43 2010 -0700

    Add the hook which can set the device to connect to wifi and in airplane mode after reboot. This is for the power test.
    
    Change-Id: I42527612764252d1c47bd29a2b88d5e3019cfdf9

commit e2043da015fb5b3d59d5bae8de43974714bbaefd
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Jun 25 16:53:12 2010 -0700

    Revert to an uncompressed MccTable.
    
    The compressed MccTable didn't have enough space for all the timezones or languages in the world.
    We can remove the timezones entirely by looking up the timezone from the ICU data.  Since there
    is not much to be gained from the binary format and it had real limitations we chose
    to revert it.
    
    Fixed a bug where the wifi channel was never being set.
    
    bug:2284210
    Change-Id: If9ca89f7053f937f555430b061c60cd7eec86d8e

commit 14f2ef4c9da27a3d58d65dc9f684c5f764ee279a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Jun 15 12:19:37 2010 -0700

    Move the net transition wakelock to ConnService.
    
    When the default network goes down we lose the wake-on-incoming-data capability
    until the new net is brought up and apps rebuild their connections.  We fixed this
    in Wifi, but it's a general connectivity issue, not a wifi issue so moving the
    mechanism to connecitivty so other networks can use it.
    
    bug:2734419
    Change-Id: I39b5d825eb6b548bd9bb8f179b89254f4db53147

commit 1f60aaf5c55fc539c4afa2d49ac62bf0005d0237
Merge: 2782a3d 68464a9
Author: Adam Powell <adamp@google.com>
Date:   Mon Jun 7 15:13:47 2010 -0700

    Merge "Fix bug 2747634 - Crash on selecting wifi"

commit 68464a95991d81872a99eefff86a98dd2bd4c8ed
Author: Adam Powell <adamp@google.com>
Date:   Mon Jun 7 12:48:07 2010 -0700

    Fix bug 2747634 - Crash on selecting wifi
    
    Allow Spinner to call setAdapter during superclass construction.
    
    Change-Id: Ia57d231249b28de3809d7ee09a77277eac1553ca

commit 3cc02cbf9010bb5d419c737024788b7f7cd0f245
Merge: 23a4223 631e0f1
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed May 26 11:32:57 2010 -0700

    Merge "bugreport: wifi: Add list of networks"

commit 631e0f163abbec84b755706eca8e9ede2cf0e41a
Author: Dmitry Shmidt <dimitrysh@google.com>
Date:   Wed May 26 10:57:11 2010 -0700

    bugreport: wifi: Add list of networks
    
    Change-Id: I0271bf1f2cac874c1801658a81a3dcf7533da781
    Signed-off-by: Dmitry Shmidt <dimitrysh@google.com>

commit db20eeb2463d077df32dd726b1fe2c76fbfd1077
Merge: 1e4dc54 9167ba5
Author: The Android Open Source Project <initial-contribution@android.com>
Date:   Fri May 14 09:15:41 2010 -0700

    am 9167ba50: merge from open-source master
    
    Merge commit '9167ba50e4d7e08e02119d9c4a0f0392296cc3f1' into kraken
    
    * commit '9167ba50e4d7e08e02119d9c4a0f0392296cc3f1':
      Corrected debug message in WindowManager
      Put the wifi status icon in the right place.

commit 1b44ebda7062e204993e930cf073130ce8799f62
Merge: 08d842a 14f190e
Author: Joe Onorato <joeo@android.com>
Date:   Thu May 13 16:33:22 2010 -0700

    Merge "Put the wifi status icon in the right place."

commit 858510ca407f27b5dd9ea7a2e06f45b0708fd05a
Merge: e128d67 8ada678
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon May 10 10:18:37 2010 -0700

    am 8ada6786: am da7bf206: am c8d1556f: am b74a239f: Merge "String change to refer to wifi tether as hotspot" into froyo

commit 8ada67869563a7e54aa623c36880f4a97c64b6e2
Merge: cd2fa84 da7bf20
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon May 10 10:17:13 2010 -0700

    am da7bf206: am c8d1556f: am b74a239f: Merge "String change to refer to wifi tether as hotspot" into froyo

commit da7bf20608842c9607f5631a33f52561fec5f2b8
Merge: 9d5b754 c8d1556
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon May 10 10:14:51 2010 -0700

    am c8d1556f: am b74a239f: Merge "String change to refer to wifi tether as hotspot" into froyo
    
    Merge commit 'c8d1556fb8e78dc6cecc8dc52f2bf0e093c968f4' into kraken
    
    * commit 'c8d1556fb8e78dc6cecc8dc52f2bf0e093c968f4':
      String change to refer to wifi tether as hotspot

commit c8d1556fb8e78dc6cecc8dc52f2bf0e093c968f4
Merge: 717e135 b74a239
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon May 10 10:12:58 2010 -0700

    am b74a239f: Merge "String change to refer to wifi tether as hotspot" into froyo
    
    Merge commit 'b74a239fd2e729c41b0cb87cbc606530ed631a41' into froyo-plus-aosp
    
    * commit 'b74a239fd2e729c41b0cb87cbc606530ed631a41':
      String change to refer to wifi tether as hotspot

commit b74a239fd2e729c41b0cb87cbc606530ed631a41
Merge: 62c28ca ebdbc7e
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon May 10 10:11:12 2010 -0700

    Merge "String change to refer to wifi tether as hotspot" into froyo

commit ebdbc7ec112722cf0da3ac388c5579d1776b5a1a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Sat May 8 15:07:53 2010 -0700

    String change to refer to wifi tether as hotspot
    
    bug:2664412
    Change-Id: I9ab110f88551d03a9215b81887675c50aa575d9a

commit e491bd6f655a183c4581a2f45d76aa9676be14fc
Merge: 18b3cad 7c258c8
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 17:20:36 2010 -0700

    am 7c258c81: am caa63341: am d6d11517: am f9dc24de: Merge "Fix ThrottleService wifi interaction" into froyo

commit 7c258c81ca54cc95509b5ac7f44218050a44e1dc
Merge: 33ff6cd caa6334
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 17:19:03 2010 -0700

    am caa63341: am d6d11517: am f9dc24de: Merge "Fix ThrottleService wifi interaction" into froyo

commit caa63341a890fee8dba9f3edc9c20ae5cec46b36
Merge: b658cc4 d6d1151
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 17:17:51 2010 -0700

    am d6d11517: am f9dc24de: Merge "Fix ThrottleService wifi interaction" into froyo
    
    Merge commit 'd6d115173a856fe28cf5a3087f6d7b0de77495c5' into kraken
    
    * commit 'd6d115173a856fe28cf5a3087f6d7b0de77495c5':
      Fix ThrottleService wifi interaction

commit d6d115173a856fe28cf5a3087f6d7b0de77495c5
Merge: 3e6c169 f9dc24d
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 17:16:04 2010 -0700

    am f9dc24de: Merge "Fix ThrottleService wifi interaction" into froyo
    
    Merge commit 'f9dc24de53890e0a8289a4349562ed4bd9611974' into froyo-plus-aosp
    
    * commit 'f9dc24de53890e0a8289a4349562ed4bd9611974':
      Fix ThrottleService wifi interaction

commit f9dc24de53890e0a8289a4349562ed4bd9611974
Merge: 11505b4 fee4683
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 17:14:23 2010 -0700

    Merge "Fix ThrottleService wifi interaction" into froyo

commit fee4683f47b43626af98ed9aade27917d4da2d8a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 6 12:25:13 2010 -0700

    Fix ThrottleService wifi interaction
    
    When we switch to another network (or even just lose mobile data) the mobile
    interface is either brought down or destroyed altogether.  That means any
    throttling rules we've told the kernel about get lost.
    
    This change notices when our interface comes up and reinstates throttling
    if needed.
    
    bug:2660287
    Change-Id: I4c6ebf78acc59ed66b95984a1e8b7c2ffbc22dcb

commit c61c0d680fac67d37d377b74322bd0f67e51a623
Merge: 4115462 a0e308f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 19 10:06:56 2010 -0700

    am a0e308fb: am e77bba8f: am 18920136: Merge "Reset notification state on wifi enable" into froyo

commit a0e308fb3c26b85a1819127ad4f1b0685d42d4e5
Merge: 98bccfd e77bba8
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 19 09:59:47 2010 -0700

    am e77bba8f: am 18920136: Merge "Reset notification state on wifi enable" into froyo
    
    Merge commit 'e77bba8f2b67508fc6d4aa7b0054829c2d49965a' into kraken
    
    * commit 'e77bba8f2b67508fc6d4aa7b0054829c2d49965a':
      Reset notification state on wifi enable

commit e77bba8f2b67508fc6d4aa7b0054829c2d49965a
Merge: 6aa2acc 1892013
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 19 09:55:44 2010 -0700

    am 18920136: Merge "Reset notification state on wifi enable" into froyo
    
    Merge commit '1892013643537f5fc330f5b0a02a0e9cb08b1134' into froyo-plus-aosp
    
    * commit '1892013643537f5fc330f5b0a02a0e9cb08b1134':
      Reset notification state on wifi enable

commit 1892013643537f5fc330f5b0a02a0e9cb08b1134
Merge: 04152f9 2d1a6e9
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Apr 19 09:50:37 2010 -0700

    Merge "Reset notification state on wifi enable" into froyo

commit 2d1a6e9429ea5cec8aa45e0508f97ab4573c9f09
Author: Irfan Sheriff <isheriff@google.com>
Date:   Sun Apr 18 23:04:13 2010 -0700

    Reset notification state on wifi enable
    
    Bug: 2600111
    Change-Id: Ifaa63cd7c05dfa27fbd851de6f7e92f7fc38907b

commit 48f5a4103fe5c8cc04eb8d4bfd5ab55c1b214111
Merge: 1d5c03f 8b879b1
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 7 10:43:47 2010 -0700

    am 8b879b14: am 3edc3c56: am b151f48a: am c93386ce: Merge " Fix bug2537659  When airplane mode is disabled, Mobile connection may be bring up  before connecting to a known wifi." into froyo

commit 8b879b141a86f1801f9c812c15743d0e2a5e9b2b
Merge: dddcd6e 3edc3c5
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 7 10:40:36 2010 -0700

    am 3edc3c56: am b151f48a: am c93386ce: Merge " Fix bug2537659  When airplane mode is disabled, Mobile connection may be bring up  before connecting to a known wifi." into froyo

commit 3edc3c56c62198bc5a073c83a37207b9f346ee02
Merge: 388fe1b b151f48
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 7 10:36:31 2010 -0700

    am b151f48a: am c93386ce: Merge " Fix bug2537659  When airplane mode is disabled, Mobile connection may be bring up  before connecting to a known wifi." into froyo
    
    Merge commit 'b151f48a06d9473a8ec079d928d4203d13e2568b' into kraken
    
    * commit 'b151f48a06d9473a8ec079d928d4203d13e2568b':
      Fix bug2537659

commit b151f48a06d9473a8ec079d928d4203d13e2568b
Merge: 2a9ec98 c93386c
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 7 10:32:38 2010 -0700

    am c93386ce: Merge " Fix bug2537659  When airplane mode is disabled, Mobile connection may be bring up  before connecting to a known wifi." into froyo
    
    Merge commit 'c93386cece18b8467c69004561e8f22b6b053d24' into froyo-plus-aosp
    
    * commit 'c93386cece18b8467c69004561e8f22b6b053d24':
      Fix bug2537659

commit c93386cece18b8467c69004561e8f22b6b053d24
Merge: 7b70f65 72b301f
Author: Xia Wang <xiaw@google.com>
Date:   Wed Apr 7 10:30:19 2010 -0700

    Merge " Fix bug2537659  When airplane mode is disabled, Mobile connection may be bring up  before connecting to a known wifi." into froyo

commit 72b301fac1f2420f770cd060a3d00dad4340287b
Author: Xia Wang <xiaw@google.com>
Date:   Mon Apr 5 19:59:26 2010 -0700

     Fix bug2537659
     When airplane mode is disabled, Mobile connection may be bring up
     before connecting to a known wifi.
    
    Change-Id: I92e395aefd141c8bc4b8b2e497a71e5fd131eec2

commit 4de5b61bb07f0d8eee1d619c5724f78fec48803f
Merge: 9a7310e db83a6f
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 2 13:05:04 2010 -0700

    am db83a6f5: am 90bd9433: am 9c50996b: Merge "Dont start wifi if in airplane mode" into froyo

commit db83a6f56c54055b1e62da9fe97eb4def0669b3f
Merge: 5130073 90bd943
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 2 12:53:49 2010 -0700

    am 90bd9433: am 9c50996b: Merge "Dont start wifi if in airplane mode" into froyo
    
    Merge commit '90bd943364af8af8e3409f3fffe409f724a4210b' into kraken
    
    * commit '90bd943364af8af8e3409f3fffe409f724a4210b':
      Dont start wifi if in airplane mode

commit 90bd943364af8af8e3409f3fffe409f724a4210b
Merge: 21f15f6 9c50996
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 2 12:51:05 2010 -0700

    am 9c50996b: Merge "Dont start wifi if in airplane mode" into froyo
    
    Merge commit '9c50996b175a1ee4b0069cba5163310c0189ac36' into froyo-plus-aosp
    
    * commit '9c50996b175a1ee4b0069cba5163310c0189ac36':
      Dont start wifi if in airplane mode

commit 9c50996b175a1ee4b0069cba5163310c0189ac36
Merge: a77acab 60e3ba0
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 2 12:47:45 2010 -0700

    Merge "Dont start wifi if in airplane mode" into froyo

commit 60e3ba071d2b129906e92981d1615a46febd825a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Apr 2 12:18:45 2010 -0700

    Dont start wifi if in airplane mode
    
    Now that wifi start is asynchronous
    at the time of bring up, make sure
    Wifi is not started if in airplane
    mode.
    
    Bug: 2567652
    Change-Id: I947b7c8480029973bcbf028f6143aabbc88c9793

commit 7eb90c3b2cf13d180fedb2430d162edd889d174b
Merge: ffd8e0f 3946101
Author: Xia Wang <xiaw@google.com>
Date:   Wed Mar 31 23:34:09 2010 -0700

    am 3946101c: am c2eb4094: am de1b1872: Merge "Test connecitvity manager functionality in state change. * Verify state change when enabling/disabling wifi * Verify network connectivity change while switching among 3G, Wifi, and Airplane mode" into froyo

commit 3946101cc66421eae8f8b37949ea453a2b05a230
Merge: fff52b6 c2eb409
Author: Xia Wang <xiaw@google.com>
Date:   Wed Mar 31 23:23:06 2010 -0700

    am c2eb4094: am de1b1872: Merge "Test connecitvity manager functionality in state change. * Verify state change when enabling/disabling wifi * Verify network connectivity change while switching among 3G, Wifi, and Airplane mode" into froyo
    
    Merge commit 'c2eb4094d1f62cf6e4f10b0b1f64e64c70a03ea9' into kraken
    
    * commit 'c2eb4094d1f62cf6e4f10b0b1f64e64c70a03ea9':
      Test connecitvity manager functionality in state change.

commit c2eb4094d1f62cf6e4f10b0b1f64e64c70a03ea9
Merge: 5af7ef6 de1b187
Author: Xia Wang <xiaw@google.com>
Date:   Wed Mar 31 23:18:21 2010 -0700

    am de1b1872: Merge "Test connecitvity manager functionality in state change. * Verify state change when enabling/disabling wifi * Verify network connectivity change while switching among 3G, Wifi, and Airplane mode" into froyo
    
    Merge commit 'de1b1872b33495da0bcd4c29ffeb3783fa7702e9' into froyo-plus-aosp
    
    * commit 'de1b1872b33495da0bcd4c29ffeb3783fa7702e9':
      Test connecitvity manager functionality in state change.

commit de1b1872b33495da0bcd4c29ffeb3783fa7702e9
Merge: 40cd1cf 2c15966
Author: Xia Wang <xiaw@google.com>
Date:   Wed Mar 31 20:29:10 2010 -0700

    Merge "Test connecitvity manager functionality in state change. * Verify state change when enabling/disabling wifi * Verify network connectivity change while switching among 3G, Wifi, and Airplane mode" into froyo

commit 2c15966f8cf6160ad5dcbbde372508de89985829
Author: Xia Wang <xiaw@google.com>
Date:   Sat Mar 27 18:25:14 2010 -0700

    Test connecitvity manager functionality in state change.
    * Verify state change when enabling/disabling wifi
    * Verify network connectivity change while switching among 3G, Wifi, and Airplane mode
    
    Change-Id: Ia4581b10b794c7b301d28019563bca832bcd8b90

commit b99fe5e622aa5419d80c02e3fab614372f44bc2a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 26 14:56:07 2010 -0700

    cherry-pick 288b4ac94571e6f77036831708e7bb7c31874688 into froyo
    
    Killing the WifiWatchdogService thread from
    WifiService can cause messages to be handled on
    a dead thread. Quit the thread on the broadcast
    instead.
    
    A couple of more fixes:
    - Do an asynchronous bring up of Wifi. This will
    allow WifiWatchdogServiceThread to be immediately
    brought up, instead of relying on an update.
    
    - There is no need to listen on supplicant connection
    in wifiwatchdog anymore. We kill the thread when
    supplicant connection is no more.
    
    Bug: 2546756
    Change-Id: I15a188e031bc79856c55aabdd271287b0df0377d

commit 14f190e1252006711044ebb3cafa1345e2852d30
Author: Steve Kondik <shade@chemlab.org>
Date:   Thu Mar 25 09:45:53 2010 -0400

    Put the wifi status icon in the right place.
    
    This fixes the inconsistency where all network-related icons appear on
    the right side of the volume/vibrate icon except for the wifi icon,
    which appears on the left.
    
    Thanks to Kevin Purdy @ Lifehacker for kicking my OCD in :)

commit 288b4ac94571e6f77036831708e7bb7c31874688
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Mar 26 14:56:07 2010 -0700

    Do a clean WifiWatchdog shutdown
    
    Killing the WifiWatchdogService thread from
    WifiService can cause messages to be handled on
    a dead thread. Quit the thread on the broadcast
    instead.
    
    A couple of more fixes:
    - Do an asynchronous bring up of Wifi. This will
    allow WifiWatchdogServiceThread to be immediately
    brought up, instead of relying on an update.
    
    - There is no need to listen on supplicant connection
    in wifiwatchdog anymore. We kill the thread when
    supplicant connection is no more.
    
    Bug: 2546756
    Change-Id: I9beae3eebee9cf0446d1dc031ce8fc1c27943521

commit 6f6bf31c3d71df997450d858ecb77f19bc850694
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Mar 24 16:03:21 2010 -0700

    Update Framework to support multiple dhpc ranges
    
    Previously we only supported a single range - this was inadequate for
    multiple interfaces.  Adding a second range so we can support
    both usb and wifi tethering.
    
    Also moving out of the zero-conf range as our dhcp client won't
    accept ip addrs in that range (no nexus to nexus wifi action).
    
    bug: 2537963
    bug: 2533491
    bug: 2538303
    Change-Id: I600b421343c28c2f9839ed2076122ae3d0ff5d3d

commit a3bd409a0a5dea446bd1b6edca1b367f3f70b503
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Mar 24 17:58:59 2010 -0700

    settings variable for wifi saved state
    
    We add a variable for saving wifi state
    to restore after tethering.
    
    Bring up wifi on boot up if the state indicates so.
    
    Bug: 2537983
    Change-Id: I9c6548b93df6fcbc0cec1e6b857f7224dc6d1b2c

commit bfb7bfa53847832db2a3eb05e5eff7cb974c3c7a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Mar 24 16:03:21 2010 -0700

    Update Framework to support multiple dhpc ranges
    
    Previously we only supported a single range - this was inadequate for
    multiple interfaces.  Adding a second range so we can support
    both usb and wifi tethering.
    
    Also moving out of the zero-conf range as our dhcp client won't
    accept ip addrs in that range (no nexus to nexus wifi action).
    
    bug: 2537963
    bug: 2533491
    bug: 2538303
    Change-Id: I600b421343c28c2f9839ed2076122ae3d0ff5d3d

commit 7f3e62cd921e7dfcdec1ed78ba2ef072beeecdd3
Merge: e5efe21 77e638d
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Mar 23 09:52:07 2010 -0700

    Merge "Fix Tethering when DUN is required but wifi is ok"

commit 49de491379fc56960d00ff6c52472fe1a7d907a7
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Mar 22 14:55:34 2010 -0700

    Use a single mWifiState instance
    
    mWifiState was split up to speed up access
    of wifi state when things are synchronized.
    Use a single atomic state variable throughout.
    
    Change-Id: I345981e3ffa3d2b0b7e70a5c6efc43185cba9062

commit 77e638dee8b8b0f9c0fcb5403f8c6fb97b52826f
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Mar 22 10:35:53 2010 -0700

    Fix Tethering when DUN is required but wifi is ok
    
    If the phone is configured to require a DUN connection when on mobile but also accepts
    wifi upstream connections, there was a bug in the logic and you'd be left with no
    upstream connection.
    
    bug:2533914
    Change-Id: I30d44764f578be4cf2c29ee90d39e8563dda06fb

commit a990ef3abf91ef78ba43da48e0ba702aca293ecc
Merge: 47b464a 90dd21e
Author: Brad Fitzpatrick <bradfitz@android.com>
Date:   Mon Mar 22 12:49:25 2010 -0700

    Merge "Make getting wifi state lockless."

commit 90dd21eff5f4799dd770a6e1a0390ac68734429a
Author: Brad Fitzpatrick <bradfitz@android.com>
Date:   Mon Mar 22 12:08:26 2010 -0700

    Make getting wifi state lockless.
    
    Previous it was synchronized on the same lock that was held while
    transitioning wifi states, effectively making it impossible to ever
    find out about such states, and worse: making calls during transitions
    block.
    
    This manifested itself in a really laggy power control widget, which
    I'm working on fixing in general in a separate change.
    
    Change-Id: Ia34af98c73d7f5662e41360a213df87f6adaf130

commit 6460d6e7b9608c00c4d38572b755f2d552a7e105
Merge: 8dfdf46 7fb1f67
Author: Xia Wang <xiaw@google.com>
Date:   Mon Mar 22 11:16:16 2010 -0700

    Merge "Add connectivity manager automation test framework:  - Create a dummy activity - ConnectivityManagerTestActivity - to listen to broadcast from connectivity manager, to control wifi, and to verify that connectivity information for different network types. This framework will be used for funcitonal tests and stress tests."

commit 7fb1f674c90eb8f85f1d1ad7dab29ac65c15cb6e
Author: Xia Wang <xiaw@google.com>
Date:   Thu Mar 4 11:54:39 2010 -0800

    Add connectivity manager automation test framework:
     - Create a dummy activity - ConnectivityManagerTestActivity - to listen to broadcast from connectivity manager, to control wifi, and to verify that connectivity information for different network types. This framework will be used for funcitonal tests and stress tests.
    
     - Add two functional test cases:
       . test3GToWifiNotification: test enabling Wifi without associating with any access point, Wifi stays disconnected, device should still connect to cellular.
       . testConnectToWifi: when switching from cellular to Wfi and associated with a given AP, connectivity manager broadcast the right informtion for mobile and Wifi.
    
    Change-Id: Ib6fcf0ff6dd9725076836032e567c0a6a52f622f

commit db3fe9edd4cb638d3dd20b23456f6cdb0a414ed1
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Mar 18 16:28:30 2010 -0700

    Fix Tethering Notifications for multiple ifaces
    
    Used to see multiple notifications if usb tethering and wifi tethering were both used.
    
    bug:2527862
    Change-Id: Idc6299c0a70564dd7c8d8d7fe13bde83723134ae

commit 6a1967c9088b9f05665462efa9d98210143500bd
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Mar 17 11:19:57 2010 -0700

    Make Tethering not disconnect on every net change.
    
    Tethering will now persist to on (until turned off) through upstream net drops,
    tunnels, switches to wifi or 2G, mms sends, etc.  It will also strive to use
    the most natural connection and only go to HiPri/Dun APNs when needed.
    
    bug:2519915
    bug:2501837
    Change-Id: Iedf6647daad8df507d7c87d1130b204b0a0acc7b

commit 61f1ce0ec0692f4184edef3334a26973ba65edd7
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Mar 17 19:26:58 2010 -0700

    Fix bug in airplane mode.
    
    If the phone comes up in airplane mode you and you turn it off,
    you can currently end with both mobile and wifi turned on.
    
    bug:2524413
    Change-Id: I7a841c955be9038109d0b220070406a3fbd3e8e9

commit 7b00978dc739ed2213ed8e511c69cfb412798109
Author: Irfan Sheriff <isheriff@google.com>
Date:   Thu Mar 11 16:37:45 2010 -0800

    Run WifiWatchdogServiceThread only on wifi enable
    
    Bug: 2508997
    Change-Id: Ib79ee25fcc8e39e9a1d6c5b9ef9681bc00b6d006

commit 7964d1f7ac7ca1b1094e9894616cd2d41c2c26ca
Merge: 018ff89 3542959
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Feb 25 12:18:26 2010 -0800

    Merge "Fix no-mobile-data after wifi."

commit 35429599728793a6830a8ce32a62e98cabefc90e
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Feb 25 12:04:29 2010 -0800

    Fix no-mobile-data after wifi.
    
    Missed a case - if you disabled mobile data and then cycled wifi, 3g would
    be turned back on.
    
    bug:2251458

commit ce3e038ac96b0460c4fd760439ae6b886918e33d
Author: Eric Laurent <elaurent@google.com>
Date:   Wed Feb 24 11:51:43 2010 -0800

    Fix issue 2327064: Music played via line out is interrupted due to the phone call audio on BT hs.
    
    This is not a real fix for the issue but a change to make sure that the behavior is consistent regardless of
    external condidions (WIFI ON or OFF, music started before call or not, A2DP device same as SCO device...).
    
    As there is now way to guaranty good quality audio over both SCO and A2DP simultaneously, especially when WIFI is on, We will stick to this behavior:
    When music is playing and we are docked to the desk dock and a call is answered with a BT SCO headset, A2DP output will be suspended.
    If music is restarted during the call, it will appear muted to the user until the call is terminated.

commit 64fe5646c5b2eb5ff58cea4ca4d384b4a5f733dc
Merge: e7d9ba2 6d626d4
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Jan 28 13:44:45 2010 -0800

    am 6d626d41: am 5381e4ef: Merge "Refine fix I53e91db7 to apply only to wifi network" into eclair
    
    Merge commit '6d626d41e9db62a0eadb61ccb2aa4081a8b9f6d0'
    
    * commit '6d626d41e9db62a0eadb61ccb2aa4081a8b9f6d0':
      Refine fix I53e91db7 to apply only to wifi network

commit 6d626d41e9db62a0eadb61ccb2aa4081a8b9f6d0
Merge: 9985fec 5381e4e
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Jan 25 16:54:28 2010 -0800

    am 5381e4ef: Merge "Refine fix I53e91db7 to apply only to wifi network" into eclair
    
    Merge commit '5381e4ef4ef1a05b25fa39ff942f4a95e0ae4750' into eclair-plus-aosp
    
    * commit '5381e4ef4ef1a05b25fa39ff942f4a95e0ae4750':
      Refine fix I53e91db7 to apply only to wifi network

commit 5381e4ef4ef1a05b25fa39ff942f4a95e0ae4750
Merge: d243bc7 6e6dec2
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Jan 25 16:50:10 2010 -0800

    Merge "Refine fix I53e91db7 to apply only to wifi network" into eclair

commit 6e6dec284369238f16ac23497292de5a1a39aca8
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Jan 25 16:14:00 2010 -0800

    Refine fix I53e91db7 to apply only to wifi network
    
    The original fix eliminated duplicate wifi connectivity changes stemming from
    location provder scan's for APs.  These would generate two DISCONNECTED broadcasts every
    two minutes and many apps mis-interpreted them.
    
    The fix was to ignore notifications where the major state was the same as the previous one
    for each network.  Unfortunately the state of per-apn notifications on cellular is hacky
    and so the wifi fix was breaking mms (mms when you're on cellular with a common default+mms apn does
    not generate a disconnect notification (apn still connected) so subsequent connect notifications
    get dropped as duplicates).
    
    This change refines the previous change so that it only applies to wifi networks.
    
    bug:2392061
    Change-Id: I05d8a46a4b55f8d28df8af12e05284e5e68bfc02
    drno: ryanpc

commit 4166ed65e3c59f68f44c8ae1d2d55c8d86da1eb7
Merge: 926426a 6b32c0a
Author: Irfan Sheriff <isheriff@google.com>
Date:   Mon Jan 25 06:04:07 2010 -0800

    am 6b32c0a2: (-s ours) am 48ef378d: Merge "DO NOT MERGE Avoid wifi disable in a UNKNOWN state" into eclair
    
    Merge commit '6b32c0a2ffd3fe8bf5c290eeecc78fb2e3521520'
    
    * commit '6b32c0a2ffd3fe8bf5c290eeecc78fb2e3521520':
      DO NOT MERGE Avoid wifi disable in a UNKNOWN state

commit da03c4e4b3d47e6917fdcddecf68f2f52564e3a0
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Jan 20 19:29:41 2010 -0800

    Try to switch to another default net on connection failure.
    
    This shouldn't be required, but there seems to be something odd going on
    in wifi and it doesn't hurt to try other available options.  Makes a
    connection failure case work like a disconnected case.
    
    bug: 2378462

commit 6b32c0a2ffd3fe8bf5c290eeecc78fb2e3521520
Merge: 8c48b4a 48ef378
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Jan 20 13:30:17 2010 -0800

    am 48ef378d: Merge "DO NOT MERGE Avoid wifi disable in a UNKNOWN state" into eclair
    
    Merge commit '48ef378d01b3ace349cbb6ba564276b854d872c9' into eclair-plus-aosp
    
    * commit '48ef378d01b3ace349cbb6ba564276b854d872c9':
      DO NOT MERGE Avoid wifi disable in a UNKNOWN state

commit 48ef378d01b3ace349cbb6ba564276b854d872c9
Merge: 1a33754 0fe3f7c
Author: Irfan Sheriff <isheriff@google.com>
Date:   Wed Jan 20 13:26:08 2010 -0800

    Merge "DO NOT MERGE Avoid wifi disable in a UNKNOWN state" into eclair

commit 0fe3f7cbbf769b80cd5ee549bbd0f7723f4d9312
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Jan 8 09:36:04 2010 -0800

    DO NOT MERGE Avoid wifi disable in a UNKNOWN state
    
    Multiple broadcast receiver unregister calls cause exception.
    
    Bug: 2361335

commit f5dba888c671c1a4f32a07a4e8f028f7dadd2ce9
Author: Andrei Popescu <andreip@google.com>
Date:   Tue Jan 12 22:42:41 2010 +0000

    Detect if the current network is wifi or not and update webkit.
    This info is passed to youtube.com via navigator.networkType
    
    Fixes Bug: 2368650

commit de8383ca312c03fa8e935ac1549ae31ce668652c
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Jan 14 17:47:58 2010 -0800

    Set net.hostname sys property to our unique ID.
    
    Give us a default name networking wise so that wifi (at least) can use it.
    
    Bug:2327089

commit 1193ae4e824c66b75083c444ce0f250594e138ee
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Jan 13 09:36:31 2010 -0800

    Backport l53e91db7 from master.
    
    Prevents sending out ConnectivityManager broadcasts when the connection
    is repeating the same major state.  This means continued wifi scanning
    does not generate CM broadcasts (though wifi state broadcasts continue).
    
    bug: 2265222
    Dr No approval: jsh

commit cd7703712eafb68b735233146b5e13c8c8e17609
Author: Irfan Sheriff <isheriff@google.com>
Date:   Fri Jan 8 09:36:04 2010 -0800

    Avoid wifi disable in a UNKNOWN state
    
    Multiple broadcast receiver unregister calls cause exception.
    
    Bug: 2361335

commit 22cf0509b24ff4490327aa99fa8ac7688cc5d98e
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Nov 24 14:13:04 2009 -0800

    Add China data to MccTable.
    
    We didn't have the wifi channel count data there, so we failed to
    attempt connections on channel 13.
    
    bug: 2282285

commit 86328a99bd55532e318441d48ee9eb96cdc42403
Author: Mike Lockwood <lockwood@android.com>
Date:   Fri Oct 23 08:38:25 2009 -0400

    LocationManagerService: clear calling identity in mock provider calls.
    
    Fixes bug b/2198028 (testDirectionsFromScratchByTyping fails because of android.permission.ACCESS_WIFI_STATE)
    
    Change-Id: I44e95981d805189ed6d906d388c5189ee788802f
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit c2872c94d697435bae01363c6de980d512a09f18
Merge: 76c8da2 23546ac
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Oct 23 12:23:24 2009 -0700

    am 23546ac5: am 48153e7f: Merge change I064698b3 into eclair-mr2
    
    Merge commit '23546ac55d3196fa93786018230f3e4a30e2dc2c'
    
    * commit '23546ac55d3196fa93786018230f3e4a30e2dc2c':
      Add wifi "HANGED" driver state triggering reload.

commit 23546ac55d3196fa93786018230f3e4a30e2dc2c
Merge: 2c72638 48153e7
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Oct 23 12:10:00 2009 -0700

    am 48153e7f: Merge change I064698b3 into eclair-mr2
    
    Merge commit '48153e7f7fe46586c1994d69f899f75355847245' into eclair-mr2-plus-aosp
    
    * commit '48153e7f7fe46586c1994d69f899f75355847245':
      Add wifi "HANGED" driver state triggering reload.

commit 48153e7f7fe46586c1994d69f899f75355847245
Merge: 45db67f f75aa36
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Oct 23 15:02:35 2009 -0400

    Merge change I064698b3 into eclair-mr2
    
    * changes:
      Add wifi "HANGED" driver state triggering reload.

commit f75aa36fc86989ca3bae2f46207e6b897a32d7ae
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 22 17:03:47 2009 -0700

    Add wifi "HANGED" driver state triggering reload.
    
    The driver can now report to us that they are hosed and we'll shut
    down wifi and restart it - only to be used as a last resort.
    
    Also fixing synch problem with updateWifiState.
    
    bug: 2173119

commit e9fdef51c08fb427020d22216b0caa39d7cba09d
Merge: 22bf022 d791f56
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 22 11:16:29 2009 -0700

    am d791f56c: (-s ours) am 585449b0: am f702f1f3: (-s ours) Merge change I1538dba4 into eclair
    
    Merge commit 'd791f56cce658c4ba5faca5291a50f6fc7411d8a'
    
    * commit 'd791f56cce658c4ba5faca5291a50f6fc7411d8a':
      Make FWK start a wifi scan if supplicant forgets. (do not merge)

commit e1777c5790369774036f21179a862d0876cb54db
Merge: bd63095 f702f1f
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 22 11:14:12 2009 -0700

    am f702f1f3: Merge change I1538dba4 into eclair
    
    Merge commit 'f702f1f33fb5490854579a1f5ce61c70ea7fd768' into eclair-plus-aosp
    
    * commit 'f702f1f33fb5490854579a1f5ce61c70ea7fd768':
      Make FWK start a wifi scan if supplicant forgets. (do not merge)

commit d791f56cce658c4ba5faca5291a50f6fc7411d8a
Merge: 466c08a 585449b
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 22 11:03:03 2009 -0700

    am 585449b0: am f702f1f3: (-s ours) Merge change I1538dba4 into eclair
    
    Merge commit '585449b084ebeaaad4b9d2bc1912490e952c5a01' into eclair-mr2-plus-aosp
    
    * commit '585449b084ebeaaad4b9d2bc1912490e952c5a01':
      Make FWK start a wifi scan if supplicant forgets. (do not merge)

commit 585449b084ebeaaad4b9d2bc1912490e952c5a01
Merge: 6183a3e f702f1f
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 22 10:47:50 2009 -0700

    am f702f1f3: (-s ours) Merge change I1538dba4 into eclair
    
    Merge commit 'f702f1f33fb5490854579a1f5ce61c70ea7fd768' into eclair-mr2
    
    * commit 'f702f1f33fb5490854579a1f5ce61c70ea7fd768':
      Make FWK start a wifi scan if supplicant forgets. (do not merge)

commit f702f1f33fb5490854579a1f5ce61c70ea7fd768
Merge: 076cb23 1538dba
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Oct 21 18:56:10 2009 -0400

    Merge change I1538dba4 into eclair
    
    * changes:
      Make FWK start a wifi scan if supplicant forgets. (do not merge)

commit 1538dba4b00f767ddc4010e05b5983d6377999c2
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Oct 7 17:57:49 2009 -0700

    Make FWK start a wifi scan if supplicant forgets. (do not merge)
    
    Waits 15sec after getting a DISCONNECTED or INACTIVE state.  Also tracks
    the number of supplicant state transitions.  After the period is up
    if we haven't received any more supplicant state transitions, it requests a scan.
    
    bug: 2168081

commit b9f45de5230e199c50e7d2c8821dba80cfea0417
Merge: 00454f9 00f166d
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 17:07:01 2009 -0700

    am 00f166de: am ceabc645: am 16cb04ab: Merge change If1acb2dd into eclair
    
    Merge commit '00f166dedca88a781e7a64c07a42451a213f04ed'
    
    * commit '00f166dedca88a781e7a64c07a42451a213f04ed':
      Add a little logging to diagnose wifi cycle bug

commit 50e90ed6c990b72d4cca8cac6a1b9f303462966b
Merge: fccdd7a 6036288
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 11:58:50 2009 -0700

    am 6036288a: am c33623a0: Merge change Iba087ecc into eclair-mr2
    
    Merge commit '6036288ad953e56433a9936fad09213b328cad71'
    
    * commit '6036288ad953e56433a9936fad09213b328cad71':
      Make FWK start a wifi scan if supplicant forgets.

commit 00f166dedca88a781e7a64c07a42451a213f04ed
Merge: d6e86a6 ceabc64
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 10:03:45 2009 -0700

    am ceabc645: am 16cb04ab: Merge change If1acb2dd into eclair
    
    Merge commit 'ceabc645d1e4c84b6f8d8b01725a6fa68719842a' into eclair-mr2-plus-aosp
    
    * commit 'ceabc645d1e4c84b6f8d8b01725a6fa68719842a':
      Add a little logging to diagnose wifi cycle bug

commit ceabc645d1e4c84b6f8d8b01725a6fa68719842a
Merge: 7d4acc5 16cb04a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 09:56:40 2009 -0700

    am 16cb04ab: Merge change If1acb2dd into eclair
    
    Merge commit '16cb04ab1cd88d917fdd34a9063fe4a9707aa5b1' into eclair-mr2
    
    * commit '16cb04ab1cd88d917fdd34a9063fe4a9707aa5b1':
      Add a little logging to diagnose wifi cycle bug

commit 78eec13af83b9ad6fea0b6d30092aa4bac859aec
Merge: d94d034 16cb04a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 09:54:36 2009 -0700

    am 16cb04ab: Merge change If1acb2dd into eclair
    
    Merge commit '16cb04ab1cd88d917fdd34a9063fe4a9707aa5b1' into eclair-plus-aosp
    
    * commit '16cb04ab1cd88d917fdd34a9063fe4a9707aa5b1':
      Add a little logging to diagnose wifi cycle bug

commit 16cb04ab1cd88d917fdd34a9063fe4a9707aa5b1
Merge: 69e2ef4 f1acb2d
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue Oct 13 12:45:30 2009 -0400

    Merge change If1acb2dd into eclair
    
    * changes:
      Add a little logging to diagnose wifi cycle bug

commit f1acb2ddcde20638d592b3cdcf61cfaf01d3df7b
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Oct 13 08:20:55 2009 -0700

    Add a little logging to diagnose wifi cycle bug
    
    Hiroshi approved (with serious code review).
    bug: 2171575

commit 6036288ad953e56433a9936fad09213b328cad71
Merge: 39c923a c33623a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 8 14:38:59 2009 -0700

    am c33623a0: Merge change Iba087ecc into eclair-mr2
    
    Merge commit 'c33623a02483e0fa271f4da6c1d38ba9becfe0c2' into eclair-mr2-plus-aosp
    
    * commit 'c33623a02483e0fa271f4da6c1d38ba9becfe0c2':
      Make FWK start a wifi scan if supplicant forgets.

commit c33623a02483e0fa271f4da6c1d38ba9becfe0c2
Merge: 23bccd6 b106118
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu Oct 8 17:21:07 2009 -0400

    Merge change Iba087ecc into eclair-mr2
    
    * changes:
      Make FWK start a wifi scan if supplicant forgets.

commit b106118c2cc558a9ea2ade69ff47766280a35e17
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Oct 7 17:57:49 2009 -0700

    Make FWK start a wifi scan if supplicant forgets.
    
    Waits 15sec after getting a DISCONNECTED or INACTIVE state.  Also tracks
    the number of supplicant state transitions.  After the period is up
    if we haven't received any more supplicant state transitions, it requests a scan.
    
    bug: 2168081

commit 5d6fe3c40422426ce8ec62e8f8f0637043827ae5
Merge: 7945d97 4fc9993
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 1 13:44:54 2009 -0700

    am 4fc99930: am 7648bd1f: Merge change Ibb5626c5 into eclair
    
    Merge commit '4fc99930a0329dbdc92aa5e0d82c7a406e5f6d6c'
    
    * commit '4fc99930a0329dbdc92aa5e0d82c7a406e5f6d6c':
      Stop bringing the wifi interface up on reset.

commit 4028c0a8e33a493e054324fc17df9628a834998b
Merge: ace8382 515052f
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Oct 1 11:58:31 2009 -0700

    am 515052fe: am a3431e4c: Merge change I84612ea6 into eclair
    
    Merge commit '515052fe87eacbf3ce864077657297ef548f1716'
    
    * commit '515052fe87eacbf3ce864077657297ef548f1716':
      Add a delay to wifi driver stop on screen off.

commit 4fc99930a0329dbdc92aa5e0d82c7a406e5f6d6c
Merge: 271fcd4 7648bd1
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Sep 30 21:18:57 2009 -0700

    am 7648bd1f: Merge change Ibb5626c5 into eclair
    
    Merge commit '7648bd1f0005b869e87708b62442a8ad9884266a' into eclair-plus-aosp
    
    * commit '7648bd1f0005b869e87708b62442a8ad9884266a':
      Stop bringing the wifi interface up on reset.

commit 7648bd1f0005b869e87708b62442a8ad9884266a
Merge: ade1aac bb5626c
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Sep 30 23:43:58 2009 -0400

    Merge change Ibb5626c5 into eclair
    
    * changes:
      Stop bringing the wifi interface up on reset.

commit bb5626c569bb9ccedd7b7d4197a2dace4c997c49
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Sep 30 20:01:12 2009 -0700

    Stop bringing the wifi interface up on reset.
    
    The driver will bring up the interface when needed and bring it up
    at reset time has caused some problems.
    
    bug: 2144870

commit 515052fe87eacbf3ce864077657297ef548f1716
Merge: d01d77f5 a3431e4
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Sep 30 09:33:20 2009 -0700

    am a3431e4c: Merge change I84612ea6 into eclair
    
    Merge commit 'a3431e4c7d6307b845d7008955d99425d842ff72' into eclair-plus-aosp
    
    * commit 'a3431e4c7d6307b845d7008955d99425d842ff72':
      Add a delay to wifi driver stop on screen off.

commit a3431e4c7d6307b845d7008955d99425d842ff72
Merge: 6e58cf2 84612ea
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Sep 30 12:28:14 2009 -0400

    Merge change I84612ea6 into eclair
    
    * changes:
      Add a delay to wifi driver stop on screen off.

commit 84612ea6110267928eb159b532d52fa3328d746a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Sep 30 09:04:22 2009 -0700

    Add a delay to wifi driver stop on screen off.
    
    We already had a delay if we were associated, but we have some race conditions
    we think will be masked if we delay the driver stop for the other cases
    too.  Don't wait as long (2 min instead of 15).
    
    bug: 2147260

commit 3571adcdd31a605107e3b8a01ff9b383c1af2ae4
Merge: bdd2080 a945eba
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Sep 22 00:44:28 2009 -0700

    am a945ebad: am 5f55d8c9: Fix the incorrect field name in EAP wifi network.
    
    Merge commit 'a945ebadfcca0dbe3587d395e205470d7f23337d'
    
    * commit 'a945ebadfcca0dbe3587d395e205470d7f23337d':
      Fix the incorrect field name in EAP wifi network.

commit a945ebadfcca0dbe3587d395e205470d7f23337d
Merge: 6f462b0 5f55d8c
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Sep 22 00:35:20 2009 -0700

    am 5f55d8c9: Fix the incorrect field name in EAP wifi network.
    
    Merge commit '5f55d8c9d447f492aed955ac29454e0c482a4956' into eclair-plus-aosp
    
    * commit '5f55d8c9d447f492aed955ac29454e0c482a4956':
      Fix the incorrect field name in EAP wifi network.

commit 5f55d8c9d447f492aed955ac29454e0c482a4956
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Sep 22 14:54:19 2009 +0800

    Fix the incorrect field name in EAP wifi network.
    
    The field identity should not be "anonymous_identity".

commit a13b4d916830e9a6a9214e64daab5ae835db6613
Merge: 748c7dc f60be7b
Author: Robert Greenwalt <robdroid@android.com>
Date:   Sun Sep 20 08:03:08 2009 -0700

    am f60be7bf: am 4492bcd8: Merge change 25938 into eclair
    
    Merge commit 'f60be7bf62e157b978964b46196348dc9f41dc1d'
    
    * commit 'f60be7bf62e157b978964b46196348dc9f41dc1d':
      Don't require WAKE_LOCK permission to enable wifi

commit f60be7bf62e157b978964b46196348dc9f41dc1d
Merge: a69e9d6 4492bcd
Author: Robert Greenwalt <robdroid@android.com>
Date:   Sun Sep 20 07:54:33 2009 -0700

    am 4492bcd8: Merge change 25938 into eclair
    
    Merge commit '4492bcd8b0437b1200e93c001ca75d9fa8c4ad30' into eclair-plus-aosp
    
    * commit '4492bcd8b0437b1200e93c001ca75d9fa8c4ad30':
      Don't require WAKE_LOCK permission to enable wifi

commit 4492bcd8b0437b1200e93c001ca75d9fa8c4ad30
Merge: b4c0b3d a99f461
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Sun Sep 20 10:48:09 2009 -0400

    Merge change 25938 into eclair
    
    * changes:
      Don't require WAKE_LOCK permission to enable wifi

commit a99f461b98df6b88c6b0fae83b41077dde9a2228
Author: Robert Greenwalt <robdroid@android.com>
Date:   Sat Sep 19 18:14:32 2009 -0700

    Don't require WAKE_LOCK permission to enable wifi
    
    The process for starting wifi was using a wakelock around a message-pass and this was causing
    an exception for meer mortals (who don't have WAKE_LOCK permission).
    
    bug: 1750535

commit 7ecbf1269e794cbef9d64714179d808903a83224
Merge: 137e9a7 8fab726
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Sep 17 12:13:07 2009 -0700

    am 8fab7265: am 2f20df19: Merge change 25398 into eclair
    
    Merge commit '8fab7265a5ba4ce46c20de682ce6d058c363962b'
    
    * commit '8fab7265a5ba4ce46c20de682ce6d058c363962b':
      Reintroduce wifi RssiApprox, reducing driver calls

commit 1cb539f547df07cf497814adb504c21076839f07
Merge: a4d37d8 614fd72
Author: Chung-yih Wang <cywang@google.com>
Date:   Thu Sep 17 09:52:19 2009 -0700

    am 614fd72d: am 4337476a: Fix the missing part for reading enterprise fields in wifi configuration
    
    Merge commit '614fd72d21a90c04ecf837f6ce69dc421ae852e2'
    
    * commit '614fd72d21a90c04ecf837f6ce69dc421ae852e2':
      Fix the missing part for reading enterprise fields in wifi configuration

commit 8fab7265a5ba4ce46c20de682ce6d058c363962b
Merge: d92593b 2f20df1
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Sep 17 08:43:48 2009 -0700

    am 2f20df19: Merge change 25398 into eclair
    
    Merge commit '2f20df194f9b5e58abc67998a556d3ab2d51ffaf' into eclair-plus-aosp
    
    * commit '2f20df194f9b5e58abc67998a556d3ab2d51ffaf':
      Reintroduce wifi RssiApprox, reducing driver calls

commit 2f20df194f9b5e58abc67998a556d3ab2d51ffaf
Merge: cc670b5 4282a5b
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Sep 16 20:34:56 2009 -0400

    Merge change 25398 into eclair
    
    * changes:
      Reintroduce wifi RssiApprox, reducing driver calls

commit 4282a5bad44b1b994a26a8eb02051f29f410d33a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Sep 16 17:17:16 2009 -0700

    Reintroduce wifi RssiApprox, reducing driver calls
    
    Only do the full signal strength calc when we need to, otherwise use
    an approximate value.
    
    This change was introduced a while back but was lost in some merge.
    
    bug: 2125543

commit 614fd72d21a90c04ecf837f6ce69dc421ae852e2
Merge: 46f1165 4337476
Author: Chung-yih Wang <cywang@google.com>
Date:   Tue Sep 15 23:45:11 2009 -0700

    am 4337476a: Fix the missing part for reading enterprise fields in wifi configuration
    
    Merge commit '4337476a6669ce52549ce4a60f5e4d07f8e3033f' into eclair-plus-aosp
    
    * commit '4337476a6669ce52549ce4a60f5e4d07f8e3033f':
      Fix the missing part for reading enterprise fields in wifi configuration

commit 4337476a6669ce52549ce4a60f5e4d07f8e3033f
Author: Chung-yih Wang <cywang@google.com>
Date:   Wed Sep 16 14:28:42 2009 +0800

    Fix the missing part for reading enterprise fields in wifi configuration
    
    + refactor the enterprise fields.

commit 3da2e85305c4b7239bc852c4811f8fd07b14a9d3
Merge: a28ed57 905d7f5
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Sep 15 13:21:09 2009 -0700

    am 905d7f57: am f376c837: Merge change 24805 into eclair
    
    Merge commit '905d7f57d44b8598994f3d24ca27db6f9748f05a'
    
    * commit '905d7f57d44b8598994f3d24ca27db6f9748f05a':
      Don't init wifiChannels until after supplicant up

commit 905d7f57d44b8598994f3d24ca27db6f9748f05a
Merge: 65e301c f376c83
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Sep 11 18:14:10 2009 -0700

    am f376c837: Merge change 24805 into eclair
    
    Merge commit 'f376c837ea9d5b89c668ff8306f2a404bed4ff05' into eclair-plus-aosp
    
    * commit 'f376c837ea9d5b89c668ff8306f2a404bed4ff05':
      Don't init wifiChannels until after supplicant up

commit f376c837ea9d5b89c668ff8306f2a404bed4ff05
Merge: e441dcb 7c9bf7c
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Sep 11 21:08:38 2009 -0400

    Merge change 24805 into eclair
    
    * changes:
      Don't init wifiChannels until after supplicant up

commit 7c9bf7caa2936e8b76598be9fffea980d81c61d3
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri Sep 11 17:23:35 2009 -0700

    Don't init wifiChannels until after supplicant up
    
    The supplicant can take up to 15 seconds to start - setting the number of wifi channels
    immediately after requested wifi start often will fail.
    
    Changed to set the number of channels when the supplicant is reported as alive.
    
    bug:2083601

commit 2cfab8445851c59f7da07d81645ece8d70e8ce28
Author: Amith Yamasani <yamasani@google.com>
Date:   Wed Sep 9 18:27:31 2009 -0700

    Save and restore partial supplicant data, not the whole file.
    
    This makes it compatible between different device types with different
    wifi chipsets.

commit 8206ff30c23c76851bebc8d72a65e65b0f7f9a29
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Sep 10 15:06:20 2009 -0700

    Fix for multi-apn MMS access.
    
    Mark cellular variants with the same availability, regardless of which are currently in use.
    Availability just means the radio is enabled and sees the network, but has no guarantees that
    we could connect to an APN if requested.
    
    Fix the requestRouteToHost logic to support apn switches without WIFI.
    
    bug:2093841

commit 1c1ffa0cab8b56274970736d7f3b8c00c01c3d2b
Author: Robert Greenwalt <robdroid@android.com>
Date:   Tue Sep 1 09:44:43 2009 -0700

    Promote MccTable to telephony and use it for both gsm/cdma
    
    This adds timezone/locale/wifi-regulator-channels initialization to cdma (gsm already had it).
    
    bug: 2071211

commit 6ce96faa0c8dc74ea6d1391aa54d9c6909810dc1
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Aug 27 17:11:56 2009 -0700

    Don't mark an APN disabled if setup fails
    
    We need to leave the phone in a connectable state so that it connects whenever it's able
    (reception or just timing).  If we mark it disabled on failure it wont try again.  The retry
    comes from the phone layer, not from ConnectivityService.
    
    Also Fix the Phone layer so it retries even if it disconnected by request (DATA_DISABLED).
    This was a bug from long ago that didn't become visible until recently with fast wifi and slow
    mobile teardown.
    
    Change-Id: I04bf39fba0cb578c87d5fc6ea5d220820ff9f364

commit c14b852bb05279dd7e976f34814d783d899ae114
Merge: 55a035d 1e3505c
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Aug 19 20:45:47 2009 -0700

    am 1e3505c6: Merge change 22001 into eclair
    
    Merge commit '1e3505c6f1f45a1c9d8569f5ffcc4d27cb822c71'
    
    * commit '1e3505c6f1f45a1c9d8569f5ffcc4d27cb822c71':
      Fix Wifi+Cell on boot after wifi in use.

commit 1e3505c6f1f45a1c9d8569f5ffcc4d27cb822c71
Merge: f768d24 60a45af
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Aug 19 20:42:09 2009 -0700

    Merge change 22001 into eclair
    
    * changes:
      Fix Wifi+Cell on boot after wifi in use.

commit 60a45aff31541f65d39e4c4e7824cd1ea5a1e84c
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Aug 19 11:45:32 2009 -0700

    Fix Wifi+Cell on boot after wifi in use.
    
    The gist of it is: Ignore reconnect fail of default APN during boot.
    
    A long path:
    1 If wifi is started at boot it starts fast - before the PhoneService is available.
    2 Wifi starts by failing - you get DISCONNECTED/Scanning events so CM starts the other default network (mobile).
    3 Trying to restart mobile fails because the phone service isn't up yet.
    4 The failure is noted and the net is marked as not-enabled.
    5 The phone trys to auto-start the mobile network and succeeds, sending state-changed events
    6 The CM ignores the state-changed events because the net isn't enabled (see 4).
    
    The long term fix is to remove two-way state tracking from the MobileDataStateTracker and instead just consume the state fed to us in state-change events.
    Near term fix is to not mark the default net disabled when we have failure (step 4) if the phone service isn't available.

commit 3a2552e034717d4071adbcd4986d20f0f820504d
Merge: c8b943f 460f541
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed Aug 19 07:24:00 2009 -0700

    am 460f5410: Merge change 21659 into eclair
    
    Merge commit '460f541001112cdbee6902d33769191d5b264884'
    
    * commit '460f541001112cdbee6902d33769191d5b264884':
      Fix for Mms without wifi.

commit 460f541001112cdbee6902d33769191d5b264884
Merge: 36ebde8 c85675d
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Aug 19 07:19:06 2009 -0700

    Merge change 21659 into eclair
    
    * changes:
      Fix for Mms without wifi.

commit c85675d0ef75ad968935ff8af9a3ed8bee29c511
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Aug 17 19:27:14 2009 -0700

    Fix for Mms without wifi.
    
    Need to change MOBILE_MMS network into connnected state if the current
    apn can already support the traffic.
    
    Bug:2058212
    Bug:2055065
    Bug:2046882

commit 25a5d3db3ff06b9952395832308bc3b48913c4ee
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu Aug 13 15:59:51 2009 -0700

    Fix CDMA to startup/shutdown based on apn en/disab
    
    Fixes MMS during wifi.
    Also fixes CDMA for ConnectivityManager change.

commit 83bad3df01504e08d5a8520e46e01754bd5109b9
Author: Alexey Tarasov <tarasov@dodologics.com>
Date:   Wed Aug 12 15:05:43 2009 +1100

    Fixed errors javadoc tags
    
    1. @result -> @return in ActivityManagerService
    2. @linke -> link in WiFiManager

commit e34a01ec9e8172548fdd98fde8ff3369f07271c2
Merge: 9504c00 92c1752
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Aug 7 18:23:00 2009 -0700

    Merge change 20474
    
    * changes:
      Change WIFI key

commit 92c1752175f0880a0e0a05fdca37b54a8fb2b52d
Author: Christian Sonntag <cxs@android.com>
Date:   Fri Aug 7 15:16:17 2009 -0700

    Change WIFI key

commit 52e37725c8f94224dfd5157fed75a33411772a39
Merge: d5603c1 c5b5b0f
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Aug 7 10:45:29 2009 -0700

    Merge change 20423
    
    * changes:
      Retain state of wifi connection after restore

commit c5b5b0fb94d078148b5fe5f6b8bb4ee361949f3e
Author: Christian Sonntag <cxs@android.com>
Date:   Fri Aug 7 10:00:21 2009 -0700

    Retain state of wifi connection after restore

commit c2eaa12d26969d4bb78989ebaeaca5d36552c362
Merge: 3dcca70 b20148b
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue Aug 4 09:33:44 2009 -0700

    Merge change 9661
    
    * changes:
      wifi: Strip trailing spaces before parsing RSSI results.

commit b20148b806037f15a909604651edd14165c07238
Author: Mike Lockwood <lockwood@android.com>
Date:   Tue Aug 4 11:32:52 2009 -0400

    wifi: Strip trailing spaces before parsing RSSI results.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit bd5ddf01e4d629982fa8bb667d4be7c5ec3aa79f
Author: Mike Lockwood <lockwood@android.com>
Date:   Wed Jul 29 21:37:14 2009 -0700

    Wifi: Add support for enabling Wifi while in airplane mode.
    
    If the new system settings value for AIRPLANE_MODE_TOGGLEABLE_RADIOS
    contains RADIO_WIFI, then the user will be allowed to enable Wifi
    while in airplane mode.
    Turning on airplane mode will still disable Wifi, but the user will
    be free to reenable it in the Settings app.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit d72aa3b92c206092d3b3ce563e0ebf25e1a0be07
Merge: ba5e889 356d4a1
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Jul 22 11:51:06 2009 -0700

    am 356d4a14: Merge change 8172 into donut
    
    Merge commit '356d4a14aa96cf52c16f7a4d381044ce28b01af3'
    
    * commit '356d4a14aa96cf52c16f7a4d381044ce28b01af3':
      Add the phase2 field for EAP WiFi configuration.

commit 356d4a14aa96cf52c16f7a4d381044ce28b01af3
Merge: 6de72ea b96ea20
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Jul 22 10:23:40 2009 -0700

    Merge change 8172 into donut
    
    * changes:
      Add the phase2 field for EAP WiFi configuration.

commit b96ea206d93b6cd7fe2106a8427d41a8e90d8322
Author: Chung-yih Wang <cywang@google.com>
Date:   Wed Jul 22 15:56:04 2009 +0800

    Add the phase2 field for EAP WiFi configuration.

commit f77035193152a0edba5abeb33d9c1a5f446c7dd8
Merge: a2694c9 f32be16
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue Jul 14 16:43:00 2009 -0700

    Merge change 7145 into donut
    
    * changes:
      wifi: Disable RSSI polling when the screen is off.

commit f32be166d56302b59c242a1296a6b03862f3c061
Author: Mike Lockwood <lockwood@android.com>
Date:   Tue Jul 14 17:44:37 2009 -0400

    wifi: Disable RSSI polling when the screen is off.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit 9cf012a9fcac9b651dd0799240a96d454de49ba2
Merge: 9629e04 0900f36
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Jul 10 16:29:20 2009 -0700

    Merge change 6823
    
    * changes:
      wifi: Keep the WLAN network interface up whenever wifi is enabled.

commit 0900f3657664d9046e6723825fd32b244eef2b6c
Author: Mike Lockwood <lockwood@android.com>
Date:   Fri Jul 10 17:24:07 2009 -0400

    wifi: Keep the WLAN network interface up whenever wifi is enabled.
    
    We now only bring it down briefly and bring it back up again when
    we want to reset the interface.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit 6811355d9683412cb3651e75c59c3256ceaddcec
Merge: 58e8131 463aacf
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu Jul 9 14:27:38 2009 -0700

    am 463aacfb: Merge change 6661 into donut
    
    Merge commit '463aacfbd220c9ef2f6ed915d54092289fdac05b'
    
    * commit '463aacfbd220c9ef2f6ed915d54092289fdac05b':
      wifi: WifiManager.startScan() will now do passive scans by default.

commit 463aacfbd220c9ef2f6ed915d54092289fdac05b
Merge: be91fdb a5ec95c
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu Jul 9 14:22:25 2009 -0700

    Merge change 6661 into donut
    
    * changes:
      wifi: WifiManager.startScan() will now do passive scans by default.

commit a5ec95cdb1a7d2024249277dff1f99d0046c9b56
Author: Mike Lockwood <lockwood@android.com>
Date:   Wed Jul 8 17:11:17 2009 -0400

    wifi: WifiManager.startScan() will now do passive scans by default.
    
    Active scans will only happen if a hidden AP is in use, or if the new method
    WifiManager.startScanActive() is called.
    This fixes some audio playback problems with bluetooth A2DP.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit c6f81c6716c634317c69343fc2fd9a2fe6a2c034
Merge: b63e4ea d1e5e3f
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu Jul 9 12:53:41 2009 -0700

    am d1e5e3ff: Merge change 6639 into donut
    
    Merge commit 'd1e5e3ffc22478bad8525dec4f1c6d57fe0ad368'
    
    * commit 'd1e5e3ffc22478bad8525dec4f1c6d57fe0ad368':
      Restore audio settings and wifi.

commit d1e5e3ffc22478bad8525dec4f1c6d57fe0ad368
Merge: 4117fd0 d158214
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu Jul 9 12:07:45 2009 -0700

    Merge change 6639 into donut
    
    * changes:
      Restore audio settings and wifi.

commit d158214511a3c04753de04fa6389e46d33135c38
Author: Amith Yamasani <yamasani@google.com>
Date:   Wed Jul 8 20:04:55 2009 -0700

    Restore audio settings and wifi.
    
    Optimize backups by writing an entity only if the checksum of the data has changed.
    Call into the hidden AudioService API to apply changed audio settings.
    After restoring wifi data, make sure that the permissions and ownership are set
    properly for the supplicant process to access it.
    Locale isn't restoring properly - TODO added.

commit a15dd950e5d08fb015d4e57492fa68aa213eead7
Merge: fcc5be9 fa6c711
Author: San Mehat <san@google.com>
Date:   Tue Jul 7 10:19:56 2009 -0700

    am fa6c7111: WifiService: use wifi association state to determine if we should suspend wifi instead of the existance of an IP address.
    
    Merge commit 'fa6c7111fe58e09a92741c7655221c3629d3220e'
    
    * commit 'fa6c7111fe58e09a92741c7655221c3629d3220e':
      WifiService: use wifi association state to determine if we should suspend wifi instead of

commit fa6c7111fe58e09a92741c7655221c3629d3220e
Author: San Mehat <san@google.com>
Date:   Tue Jul 7 09:34:44 2009 -0700

    WifiService: use wifi association state to determine if we should suspend wifi instead of
    the existance of an IP address.
    
    Signed-off-by: San Mehat <san@google.com>

commit 47873e55268eb636b2f9ada0266a0b60f52ca365
Author: Amith Yamasani <yamasani@google.com>
Date:   Thu Jul 2 12:05:32 2009 -0700

    Backup Wifi supplicant data.
    
    WifiService requests a backup when it writes wifi configuration to disk.
    Backup the wifi supplicant file when settings provider runs backup.

commit 58c714c41ac3799b0b408affd9804056070d358c
Merge: f6a6cff 699ca3f
Author: Chung-yih Wang <cywang@google.com>
Date:   Mon Jul 6 11:22:18 2009 -0700

    am 699ca3f2: Add password field for WiFi configuration.
    
    Merge commit '699ca3f2518360ea3250ff5a0e5d39e122c64a91'
    
    * commit '699ca3f2518360ea3250ff5a0e5d39e122c64a91':
      Add password field for WiFi configuration.

commit 699ca3f2518360ea3250ff5a0e5d39e122c64a91
Author: Chung-yih Wang <cywang@google.com>
Date:   Sat Jul 4 22:19:51 2009 +0800

    Add password field for WiFi configuration.
    
    1. the certtool.h is modified for avoiding the side effect,
       for saving the configuration with wpa_supplicant.
    2. put the loadLibrary back in CertTool.java
    3. Fix incorrect JNI declarations.

commit 16d79e56ca3fe7606c48882d9b1aef6267d69124
Author: Amith Yamasani <yamasani@google.com>
Date:   Thu Jul 2 12:05:32 2009 -0700

    Backup Wifi supplicant data.
    
    WifiService requests a backup when it writes wifi configuration to disk.
    Backup the wifi supplicant file when settings provider runs backup.

commit c0303921d028b4616010e96f66820fb0e9ab9254
Author: Jaikumar Ganesh <jaikumar@google.com>
Date:   Mon Jun 29 13:33:47 2009 -0700

    Fix setting of the APN type.
    
    The user is on wifi, then enables SUPL APN. When wifi is switched off,
    we try to establish DATA connection on the Default APN. If this fails,
    we were not retrying as the mRequestedApnType variable was not being reset.
    This was happening because the SUPL APN and the data connection APN
    were the same.

commit bbf7c00e06c0f6f39e26f7fdedbc7105b2f5c415
Author: Jaikumar Ganesh <jaikumar@google.com>
Date:   Fri Jun 12 12:14:08 2009 -0700

    Fix data connection issues.
    
    a)Fix cleanup connection being called twice when switching to wifi.
    b) Reset the reconnect timer when voice call ends and APN is changed.

commit 164ab6572da92ecf6496922d848718e0c0ed3031
Merge: ba75819 8f094ca
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Jun 10 10:54:02 2009 -0700

    am 8f094ca7: Merge change 3686 into donut
    
    Merge commit '8f094ca7d045132ec93d4e903e784a3c077708c3'
    
    * commit '8f094ca7d045132ec93d4e903e784a3c077708c3':
      Fix cleanupConnection when switching from wifi.

commit 8f094ca7d045132ec93d4e903e784a3c077708c3
Merge: 295e724 9ac9578
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Wed Jun 10 10:50:28 2009 -0700

    Merge change 3686 into donut
    
    * changes:
      Fix cleanupConnection when switching from wifi.

commit 9ac95783fc5aab204077d7c81e17e1b4f8afb3c1
Author: Jaikumar Ganesh <jaikumar@google.com>
Date:   Tue Jun 9 21:09:06 2009 -0700

    Fix cleanupConnection when switching from wifi.
    
    Post a message for tearDown data connection when switching from wifi.

commit 0445d03089f635e15fc0c5b5f470a0c767bd12b6
Merge: 6285ce5 91f22f9
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue Jun 9 15:22:04 2009 -0700

    Merge change 3533
    
    * changes:
      Use new wifi cmd rssi-approx when polling.

commit 91f22f901bee5d52d81ca4070a1b187ac8b90dad
Author: Robert Greenwalt <robdroid@android.com>
Date:   Mon Jun 8 18:15:21 2009 -0700

    Use new wifi cmd rssi-approx when polling.
    
    Cheaper approx call should be used when polling every 3 sec for
    wifi signal strength.  Fixes bug 1903653.

commit 36d3ebb880e922859d4fd83792e13069072c19b2
Merge: a31fb7d 19cd309
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Jun 5 21:18:02 2009 -0700

    am 19cd309f: Merge change 3017 into donut
    
    Merge commit '19cd309f9eccdf8454dc6e5076013588b7a170a3'
    
    * commit '19cd309f9eccdf8454dc6e5076013588b7a170a3':
      Add the EAP related fields for WiFi configuration.

commit 19cd309f9eccdf8454dc6e5076013588b7a170a3
Merge: 6fa9597 5069cc7
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri Jun 5 19:55:44 2009 -0700

    Merge change 3017 into donut
    
    * changes:
      Add the EAP related fields for WiFi configuration.

commit 5069cc78497209c035a7019b2f407bd1ed57f64a
Author: Chung-yih Wang <cywang@google.com>
Date:   Wed Jun 3 17:33:47 2009 +0800

    Add the EAP related fields for WiFi configuration.
    
    -- added the EAP/802.1X related fields in WifiConfiguration for
      supporting EAP/802.1X authentication.
    -- hid the related fields for now.

commit e87b2f02761744520c841f536d3f2d7be97fcc91
Author: Wei Huang <weih@google.com>
Date:   Tue Jun 2 15:16:04 2009 -0700

    add Gservices settings for adaptive heartbeat parameters and wifi heartbeat interval.

commit 96cdc61c69aa735e65295a50e3e2922425b3c877
Merge: aebadd2 1e2e44e
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu May 28 14:34:28 2009 -0700

    am 1e2e44e9: Merge change 2365 into donut
    
    Merge commit '1e2e44e900cb9a25d548e27a20d65292a7f321bc'
    
    * commit '1e2e44e900cb9a25d548e27a20d65292a7f321bc':
      Fix wifi multicast API for public use.
      Revert "Bug fixes and performance improvements"

commit 1e2e44e900cb9a25d548e27a20d65292a7f321bc
Merge: 59262c3 fc1b15c
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu May 28 14:02:39 2009 -0700

    Merge change 2365 into donut
    
    * changes:
      Fix wifi multicast API for public use.

commit fc1b15cfbfc5f69235ec1f367abd7a909381cd05
Author: Robert Greenwalt <robdroid@android.com>
Date:   Fri May 22 15:09:51 2009 -0700

    Fix wifi multicast API for public use.
    
    Applying API review comments and taking it public.

commit cf2119a9755d9e2713ce78e84d0826d430a11a62
Author: Jaikumar Ganesh <jaikumar@google.com>
Date:   Tue May 26 08:02:51 2009 -0700

    Check for desiredPowerState (airplane mode) before setting up data.
    
    Check for airplane mode before trying to setup data.
    Send an event while switching from wifi to cell data,
    instead of calling trySetupData directly.

commit 3ef9697397cd74ebc4e34d8e56e78aa3b177f565
Merge: de6d654 8fc5a63
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue May 26 10:11:36 2009 -0700

    am 8fc5a63d: Merge change 2431 into donut
    
    Merge commit '8fc5a63d422fd32258dc18fe0e635b4f1486fd61'
    
    * commit '8fc5a63d422fd32258dc18fe0e635b4f1486fd61':
      wifi: Fix problem parsing RSSI when the AP name contains a space.

commit 8fc5a63d422fd32258dc18fe0e635b4f1486fd61
Merge: a5f158b c5ad0f4
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue May 26 08:35:51 2009 -0700

    Merge change 2431 into donut
    
    * changes:
      wifi: Fix problem parsing RSSI when the AP name contains a space.

commit c5ad0f47251199b0d137bfdb085f189afbe3ddd2
Author: Mike Lockwood <lockwood@android.com>
Date:   Mon May 25 22:34:20 2009 -0400

    wifi: Fix problem parsing RSSI when the AP name contains a space.
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit 1ab55ea04ff25bf3d57a3c5a1656343ac6eb6acb
Merge: 0690519 b5010cc
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Fri May 22 09:33:09 2009 -0700

    Merge change 2229
    
    * changes:
      Add carrier/mcc factors to wifi-channel decision.

commit b5010cc3c33c74cc406a70f34f93d330a3f0db6a
Author: Robert Greenwalt <robdroid@android.com>
Date:   Thu May 21 15:11:40 2009 -0700

    Add carrier/mcc factors to wifi-channel decision.
    
    Uses ro.carrier and MCC when available to try to set
    (non-persistingly) the number of allowed wifi channels.
    Part of the fix for 1625953.

commit aa2b7237d1e8c0c833fc19cd9d25a8d3700244a4
Merge: d6ea77e 2a5cfe5
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu May 14 14:53:35 2009 -0700

    am 2a5cfe51: Merge change 1590 into donut
    
    Merge commit '2a5cfe519298702ef71ff8755b14f8daf6a92b2a'
    
    * commit '2a5cfe519298702ef71ff8755b14f8daf6a92b2a':
      Add wifi multicast filter api (enable/disable).

commit 2a5cfe519298702ef71ff8755b14f8daf6a92b2a
Merge: 4a8fb93 5347bd4
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Thu May 14 13:24:52 2009 -0700

    Merge change 1590 into donut
    
    * changes:
      Add wifi multicast filter api (enable/disable). Fixes 1833432.  Automatically re-disables any request when the app exits/crashes.  Also hooked into Battery Stats for power managment analysis.

commit 5347bd4cda2b6afc18f8acab48e52131f35ed13c
Author: Robert Greenwalt <robdroid@android.com>
Date:   Wed May 13 15:10:16 2009 -0700

    Add wifi multicast filter api (enable/disable).
    Fixes 1833432.  Automatically re-disables any request when the app
    exits/crashes.  Also hooked into Battery Stats for power managment analysis.

commit 3ea1f8759ddc0b714558d3c8f1e153d1d89f301f
Merge: 1130ba2 b30475e
Author: Android (Google) Code Review <android-gerrit@google.com>
Date:   Tue Apr 21 15:12:25 2009 -0700

    Merge change 372 into donut
    
    * changes:
      WifiService: Cleanup parsing of wifi scan results.

commit b30475ecef84303600302b6790420bcc66631bf0
Author: Mike Lockwood <lockwood@android.com>
Date:   Tue Apr 21 13:55:07 2009 -0700

    WifiService: Cleanup parsing of wifi scan results.
    
    Also add support for possitive RSSI values, fixing b/1786306
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit e2b44c5aaff312fbb00e66dd42b8444938017672
Author: Mike Lockwood <lockwood@android.com>
Date:   Tue Apr 21 09:38:18 2009 -0700

    location: Location Manager wakelock cleanup, phase 1
    
    Move cell and wifi lock from LocationManagerService to NetworkLocationProvider
    
    Signed-off-by: Mike Lockwood <lockwood@android.com>

commit a3e952e3251081e2dfe3c747346d3b7006beeee5
Author: Mike Lockwood <>
Date:   Mon Apr 6 05:18:03 2009 -0700

    AI 144621: am: CL 144620 Clean up interface between NetworkLocationProvider and LocationManagerService (part 1)
      Move broadcast receivers for wifi scan results and battery status
      from LocationManagerService to NetworkLocationProvider
      Add a Service for the NetworkLocationProvider, so we can install it from its
      own thread rather than from BOOT_COMPLETED or callback from LocationManagerService.
      (this Service was also required for receiving Intents in NetworkLocationProvider)
      BUG=1729031
      Original author: lockwood
    
    Automated import of CL 144621

commit f113fbe67b878b356fba11873276d7633ec1af22
Author: Mike Lockwood <>
Date:   Mon Apr 6 05:17:28 2009 -0700

    AI 144620: Clean up interface between NetworkLocationProvider and LocationManagerService (part 1)
      Move broadcast receivers for wifi scan results and battery status
      from LocationManagerService to NetworkLocationProvider
      Add a Service for the NetworkLocationProvider, so we can install it from its
      own thread rather than from BOOT_COMPLETED or callback from LocationManagerService.
      (this Service was also required for receiving Intents in NetworkLocationProvider)
      BUG=1729031
    
    Automated import of CL 144620

commit 05bc50ddba02299e7dd0a4f7be1d46254d8ff99d
Author: Evan Millar <>
Date:   Fri Mar 27 19:12:14 2009 -0700

    AI 143358: am: CL 143207 am: CL 142996 Fix bug in human readable battery stats dumping code which caused the wifi lock times to be off by an order of magnitude.
      Original author: emillar
      Merged from: //branches/cupcake/...
      Original author: android-build
      Merged from: //branches/donutburger/...
    
    Automated import of CL 143358

commit 2a15f38ec2072141de086720a8e914c51056a69d
Author: Evan Millar <>
Date:   Fri Mar 27 18:03:56 2009 -0700

    AI 143207: am: CL 142996 Fix bug in human readable battery stats dumping code which caused the wifi lock times to be off by an order of magnitude.
      Original author: emillar
      Merged from: //branches/cupcake/...
    
    Automated import of CL 143207
